/* ==============================================
   主题变量定义
   ============================================== */

/* 浅色模式变量 */
[data-md-color-scheme="default"] {
  --bg-color: rgba(255, 255, 255, 0.1);
  --mask-default: rgba(255, 255, 255, 0.7);
  --mask-homepage: rgba(255, 255, 255, 0);
  --container-bg: rgba(255, 255, 255, 0.8);
  --container-home: rgba(255, 255, 255, 0);
}

/* 深色模式变量 */
[data-md-color-scheme="slate"] {
  --bg-color: rgba(54, 53, 53, 0.5);
  --mask-default: rgba(0, 0, 0, 0.6);
  --mask-homepage: rgba(0, 0, 0, 0.5);
  --container-bg: rgba(30, 30, 30, 0.9);
  --container-home: rgba(30, 30, 30, 0.6);
}

/* ==============================================
   背景图片和遮罩层
   ============================================== */

/* 浅色模式背景 */
[data-md-color-scheme="default"] {
  background-image: url('https://cloudflare-imgbed-84u.pages.dev/file/blog/1762865674059_default_background.jpg') !important;
  background-size: cover !important;
  background-attachment: fixed !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
  background-color: rgba(255, 255, 255, 0);
}

/* 深色模式背景 */
[data-md-color-scheme="slate"] {
  background-image: url('https://cloudflare-imgbed-84u.pages.dev/file/blog/1762839991131_slate_bg.jpg') !important;
  background-size: cover !important;
  background-attachment: fixed !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
}

/* 遮罩层样式 */
[data-md-color-scheme="default"] html::before,
[data-md-color-scheme="slate"] html::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: var(--mask-default);
  z-index: -1;
  pointer-events: none;
}

/* 首页遮罩层特殊处理 */
[data-md-color-scheme="default"] .home-container ~ ::before {
  background-color: var(--mask-homepage) !important;
}

[data-md-color-scheme="slate"] .home-container ~ ::before {
  background-color: var(--mask-homepage) !important;
}

/* ==============================================
   内容容器样式
   ============================================== */

[data-md-color-scheme="default"] .md-container,
[data-md-color-scheme="slate"] .md-container {
  background-color: var(--container-bg);
  border-radius: 4px;
}

/* 首页容器特殊处理 */
[data-md-color-scheme="default"] .home-container ~ .md-container {
  background-color: var(--container-home) !important;
}

[data-md-color-scheme="slate"] .home-container ~ .md-container {
  background-color: var(--container-home) !important;
}

/* ==============================================
   导航栏样式
   ============================================== */

/* 浅色模式导航栏 */
[data-md-color-scheme="default"] .md-header {
  background-color: rgba(13, 11, 11, 0.7) !important;
  background-image: linear-gradient(to bottom, rgb(0, 0, 0), transparent) !important;
  opacity: 0.96 !important;
  backdrop-filter: blur(6px) !important;
  -webkit-backdrop-filter: blur(6px) !important;
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(0, 0, 0, 0.05) !important;
  transition: all 0.3s ease !important;
}

/* 深色模式导航栏 */
[data-md-color-scheme="slate"] .md-header {
  background-color: var(--md-header-bg-color) !important;
  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.3), transparent) !important;
  opacity: 0.96 !important;
  backdrop-filter: blur(6px) !important;
  -webkit-backdrop-filter: blur(6px) !important;
  box-shadow: 0 1px 8px rgba(var(--md-primary-fg-color-rgb), 0.15), 0 0 0 1px rgba(255, 255, 255, 0.05) !important;
  transition: all 0.3s ease !important;
}

/* 浅色模式标签栏 */
[data-md-color-scheme="default"] .md-tabs {
  background-color: rgba(1, 1, 1, 0.6) !important;
  background-image: linear-gradient(to bottom, transparent, rgba(86, 108, 235, 0)) !important;
  opacity: 0.96 !important;
  backdrop-filter: blur(6px) !important;
  -webkit-backdrop-filter: blur(6px) !important;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.03) !important;
  transition: all 0.3s ease !important;
}

/* 深色模式标签栏 */
[data-md-color-scheme="slate"] .md-tabs {
  background-color: var(--md-header-bg-color) !important;
  background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0)) !important;
  opacity: 0.96 !important;
  backdrop-filter: blur(6px) !important;
  -webkit-backdrop-filter: blur(6px) !important;
  box-shadow: 0 1px 4px rgba(var(--md-primary-fg-color-rgb), 0.1), 0 0 0 1px rgba(255, 255, 255, 0.03) !important;
  transition: all 0.3s ease !important;
}

/* ==============================================
   内容文字颜色 【关键修改！】
   ============================================== */

/* 浅色模式正文文字：排除代码相关的 span/code/highlight */
[data-md-color-scheme="default"] .md-content p,
[data-md-color-scheme="default"] .md-content li,
[data-md-color-scheme="default"] .md-content span:not(code span):not(.hljs), /* 排除代码里的 span */
[data-md-color-scheme="default"] .md-content div:not(.code-block):not(.highlight):not(.hljs) {
  color: #222222 !important;
}

/* 深色模式正文文字：排除代码相关的 span/code/highlight */
[data-md-color-scheme="slate"] .md-content p,
[data-md-color-scheme="slate"] .md-content li,
[data-md-color-scheme="slate"] .md-content span:not(code span):not(.hljs), /* 排除代码里的 span */
[data-md-color-scheme="slate"] .md-content div:not(.code-block):not(.highlight):not(.hljs) {
  color: #ffffff !important;
}

/* 浅色模式标题 */
[data-md-color-scheme="default"] .md-content h1,
[data-md-color-scheme="default"] .md-content h2,
[data-md-color-scheme="default"] .md-content h3,
[data-md-color-scheme="default"] .md-content h4 {
  color: #111111 !important;
  text-shadow: 0 0 1px rgba(0, 0, 0, 0.03) !important;
}

/* 深色模式标题 */
[data-md-color-scheme="slate"] .md-content h1,
[data-md-color-scheme="slate"] .md-content h2,
[data-md-color-scheme="slate"] .md-content h3,
[data-md-color-scheme="slate"] .md-content h4 {
  color: #ffffff !important;
  text-shadow: 0 0 2px rgba(255, 255, 255, 0.1) !important;
}

/* 浅色模式链接 */
[data-md-color-scheme="default"] .md-content a,
[data-md-color-scheme="default"] .md-nav__link {
  color: #0052aa !important;
}

/* 深色模式链接 */
[data-md-color-scheme="slate"] .md-content a,
[data-md-color-scheme="slate"] .md-nav__link {
  color: #ccf0ff !important;
}

/* 浅色模式当前导航链接 */
[data-md-color-scheme="default"] .md-nav__link::current {
  color: #000000 !important;
}

/* ==============================================
   侧边栏样式
   ============================================== */

/* 浅色模式侧边栏标题 */
[data-md-color-scheme="default"] .md-nav__title {
  background: transparent !important;
  padding: 0.6rem 0.8rem 0.2rem !important;
  margin: 0 !important;
  color: #000000 !important;
  font-size: 0.9rem !important;
  font-weight: 600 !important;
}

/* 深色模式侧边栏标题 */
[data-md-color-scheme="slate"] .md-nav__title {
  background: transparent !important;
  padding: 0.6rem 0.8rem 0.2rem !important;
  margin: 0 !important;
  color: #aaa !important;
  font-size: 0.9rem !important;
  font-weight: 600 !important;
}

/* 浅色模式嵌套导航项 */
[data-md-color-scheme="default"] .md-nav__item--nested > .md-nav__link,
[data-md-color-scheme="default"] .md-nav__item--active > .md-nav__link {
  background-color: transparent !important;
  box-shadow: none !important;
}

/* 深色模式嵌套导航项 */
[data-md-color-scheme="slate"] .md-nav__item--nested > .md-nav__link,
[data-md-color-scheme="slate"] .md-nav__item--active > .md-nav__link {
  background-color: transparent !important;
  box-shadow: none !important;
}

/* ==============================================
   通用样式
   ============================================== */

/* 导航栏字体 */
.md-header__topic, .md-nav__link {
  font-weight: 500;
}