/* ==============================================
   深色模式（slate）变量覆盖
   ============================================== */
[data-md-color-scheme="slate"] {
  --bg-color: rgba(54, 53, 53, 0.1);
  --mask-default: rgba(0, 0, 0, 0.6); /* 深色遮罩 */
  --mask-homepage: rgba(0, 0, 0, 0);  /* 主页无遮罩 */
  --container-bg: rgba(30, 30, 30, 0.8);
  --container-home: rgba(30, 30, 30, 0.6);
}

/* ==============================================
   深色模式基础背景（确保所有页面都有背景）
   ============================================== */
[data-md-color-scheme="slate"] {
  background-image: url('../images/imag.png') !important;
  background-size: cover !important;
  background-attachment: fixed !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
  background-color: rgba(54, 53, 53, 0.4);
}

/* ==============================================
   强制主页背景显示
   ============================================== */
[data-md-color-scheme="slate"] body[data-md-state="home"],
[data-md-color-scheme="slate"] .home-page,
[data-md-color-scheme="slate"] .home-container {
  background-image: url('../images/imag.png') !important;
  background-size: cover !important;
  background-attachment: fixed !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
}

/* ==============================================
   深色模式 - 遮罩层
   ============================================== */
[data-md-color-scheme="slate"] html::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: var(--mask-default);
  z-index: -1;
  pointer-events: none;
}

/* ==============================================
   主页遮罩减弱
   ============================================== */
[data-md-color-scheme="slate"] .home-container ~ ::before {
  background-color: var(--mask-homepage) !important;
}

/* ==============================================
   内容容器
   ============================================== */
[data-md-color-scheme="slate"] .md-container {
  background-color: var(--container-bg);
  border-radius: 4px;
}

/* ==============================================
   主页内容容器
   ============================================== */
[data-md-color-scheme="slate"] .home-container ~ .md-container {
  background-color: var(--container-home) !important;
}

/* ==============================================
   导航栏样式（深色适配）
   ============================================== */
[data-md-color-scheme="slate"] .md-header {
  background-color: var(--md-header-bg-color) !important;
  background-image: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.03),
    transparent
  ) !important;
  opacity: 0.96 !important;
  backdrop-filter: blur(6px) !important;
  -webkit-backdrop-filter: blur(6px) !important;
  box-shadow: 
    0 1px 8px rgba(var(--md-primary-fg-color-rgb), 0.15),
    0 0 0 1px rgba(255, 255, 255, 0.05) !important;
  transition: all 0.3s ease !important;
}

[data-md-color-scheme="slate"] .md-header--shadow {
  opacity: 0.99 !important;
  box-shadow: 
    0 2px 12px rgba(var(--md-primary-fg-color-rgb), 0.2),
    0 0 0 1px rgba(255, 255, 255, 0.08) !important;
}

/* ==============================================
   子标签栏样式（深色适配）
   ============================================== */
[data-md-color-scheme="slate"] .md-tabs {
  background-color: var(--md-header-bg-color) !important;
  background-image: linear-gradient(
    to bottom,
    transparent,
    rgba(0, 0, 0, 0)
  ) !important;
  opacity: 0.96 !important;
  backdrop-filter: blur(6px) !important;
  -webkit-backdrop-filter: blur(6px) !important;
  box-shadow: 
    0 1px 4px rgba(var(--md-primary-fg-color-rgb), 0.1),
    0 0 0 1px rgba(255, 255, 255, 0.03) !important;
  transition: all 0.3s ease !important;
}

[data-md-color-scheme="slate"] .md-tabs--active {
  opacity: 0.98 !important; 
  box-shadow: 
    0 1px 6px rgba(var(--md-primary-fg-color-rgb), 0.15),
    0 0 0 1px rgba(255, 255, 255, 0.05) !important;
}

/* ==============================================
   文字颜色（亮色适配，保证可读性）
   ============================================== */
[data-md-color-scheme="slate"] .md-content p,
[data-md-color-scheme="slate"] .md-content li,
[data-md-color-scheme="slate"] .md-content span,
[data-md-color-scheme="slate"] .md-content div:not(.code-block):not(.highlight) {
  color: #ffffff !important;
}

[data-md-color-scheme="slate"] .md-content h1,
[data-md-color-scheme="slate"] .md-content h2,
[data-md-color-scheme="slate"] .md-content h3,
[data-md-color-scheme="slate"] .md-content h4 {
  color: #ffffff !important;
  text-shadow: 0 0 2px rgba(255, 255, 255, 0.1) !important;
}

[data-md-color-scheme="slate"] .md-content a,
[data-md-color-scheme="slate"] .md-nav__link {
  color: #ccf0ff !important;
}

[data-md-color-scheme="slate"] .md-content .note,
[data-md-color-scheme="slate"] .md-content .hint,
[data-md-color-scheme="slate"] .md-content small,
[data-md-color-scheme="slate"] .md-toc-item a {
  color: #f0f0f0 !important;
}

[data-md-color-scheme="slate"] .code-block,
[data-md-color-scheme="slate"] .language-text,
[data-md-color-scheme="slate"] .md-code {
  color: #f5f5f5 !important;
}

/* ==============================================
   主页隐藏导航元素
   ============================================== */
/* [data-md-color-scheme="slate"] body[data-md-state="home"] .md-header,
[data-md-color-scheme="slate"] body[data-md-state="home"] .md-tabs,
[data-md-color-scheme="slate"] body[data-md-state="home"] .md-footer {
  display: none !important;
} */

/* ==============================================
   去掉侧边栏标题背景
   ============================================== */
[data-md-color-scheme="slate"] .md-nav__title {
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0.6rem 0.8rem 0.2rem !important;
  margin: 0 !important;
  color: #aaa !important;
  font-size: 0.9rem !important;
  font-weight: 600 !important;
}

/* ==============================================
   去掉左侧导航栏项的高亮色块
   ============================================== */
[data-md-color-scheme="slate"] .md-nav__item--nested > .md-nav__link,
[data-md-color-scheme="slate"] .md-nav__item--active > .md-nav__link {
  background-color: transparent !important;
  box-shadow: none !important;
}

/* ==============================================
   主页页脚适配
   ============================================== */
[data-md-color-scheme="slate"] html body:has(.home-container) .md-footer {
  background-color: rgba(30, 30, 30, 0.25) !important;
  border-top: 2px solid rgba(255, 255, 255, 0.05) !important;
}